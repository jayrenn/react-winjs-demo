!function(){var globalObject="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};!function(e){"function"==typeof define&&define.amd?define([],e):(globalObject.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.1 4.1.0.winjs.2015.7.10 base.js,StartTM"),"undefined"!=typeof module?e():e(globalObject.WinJS),globalObject.msWriteProfilerMark&&msWriteProfilerMark("WinJS.4.1 4.1.0.winjs.2015.7.10 base.js,StopTM"))}(function(WinJS){var require,define;return function(){"use strict";function e(e,t){e=e||"";var n=e.split("/");return n.pop(),t.map(function(e){if("."===e[0]){var t=e.split("/"),i=n.slice(0);return t.forEach(function(e){".."===e?i.pop():"."!==e&&i.push(e)}),i.join("/")}return e})}function t(t,r,o){return t.map(function(t){if("exports"===t)return o;if("require"===t)return function(t,n){require(e(r,t),n)};var a=i[t];if(!a)throw new Error("Undefined dependency: "+t);return a.resolved||(a.resolved=n(a.dependencies,a.factory,t,a.exports),"undefined"==typeof a.resolved&&(a.resolved=a.exports)),a.resolved})}function n(e,n,i,r){var o=t(e,i,r);return n&&n.apply?n.apply(null,o):n}var i={};define=function(t,n,r){Array.isArray(n)||(r=n,n=[]);var o={dependencies:e(t,n),factory:r};-1!==n.indexOf("exports")&&(o.exports={}),i[t]=o},require=function(e,t){Array.isArray(e)||(e=[e]),n(e,t)}}(),define("amd",function(){}),define("WinJS/Core/_WinJS",{}),define("WinJS/Core/_Global",[],function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{};return e}),define("WinJS/Core/_BaseCoreUtils",["./_Global"],function(e){"use strict";function t(e){return e.supportedForProcessing=!0,e}var n=!!e.Windows;return{hasWinRT:n,markSupportedForProcessing:t,_setImmediate:e.setImmediate?e.setImmediate.bind(e):function(t){e.setTimeout(t,0)}}}),define("WinJS/Core/_WriteProfilerMark",["./_Global"],function(e){"use strict";return e.msWriteProfilerMark||function(){}}),define("WinJS/Core/_Base",["./_WinJS","./_Global","./_BaseCoreUtils","./_WriteProfilerMark"],function(e,t,n,i){"use strict";function r(e,t,n){var i,r,o,a=Object.keys(t),s=Array.isArray(e);for(r=0,o=a.length;o>r;r++){var c=a[r],l=95!==c.charCodeAt(0),u=t[c];!u||"object"!=typeof u||void 0===u.value&&"function"!=typeof u.get&&"function"!=typeof u.set?l?s?e.forEach(function(e){e[c]=u}):e[c]=u:(i=i||{},i[c]={value:u,enumerable:l,configurable:!0,writable:!0}):(void 0===u.enumerable&&(u.enumerable=l),n&&u.setName&&"function"==typeof u.setName&&u.setName(n+"."+c),i=i||{},i[c]=u)}i&&(s?e.forEach(function(e){Object.defineProperties(e,i)}):Object.defineProperties(e,i))}return function(){function n(n,i){var r=n||{};if(i){var o=i.split(".");r===t&&"WinJS"===o[0]&&(r=e,o.splice(0,1));for(var a=0,s=o.length;s>a;a++){var c=o[a];r[c]||Object.defineProperty(r,c,{value:{},writable:!1,enumerable:!0,configurable:!0}),r=r[c]}}return r}function o(e,t,i){var o=n(e,t);return i&&r(o,i,t||"<ANONYMOUS>"),o}function a(e,n){return o(t,e,n)}function s(e){var t,n,r=u.uninitialized;return{setName:function(e){t=e},get:function(){switch(r){case u.initialized:return n;case u.uninitialized:r=u.working;try{i("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{i("WinJS.Namespace._lazy:"+t+",StopTM"),r=u.uninitialized}return e=null,r=u.initialized,n;case u.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(r){case u.working:throw"Illegal: reentrancy on initialization";default:r=u.initialized,n=e}},enumerable:!0,configurable:!0}}function c(e,i,o){var a=[e],s=null;return i&&(s=n(t,i),a.push(s)),r(a,o,i||"<ANONYMOUS>"),s}var l=e;l.Namespace||(l.Namespace=Object.create(Object.prototype));var u={uninitialized:1,working:2,initialized:3};Object.defineProperties(l.Namespace,{defineWithParent:{value:o,writable:!0,enumerable:!0,configurable:!0},define:{value:a,writable:!0,enumerable:!0,configurable:!0},_lazy:{value:s,writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:c,writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,i){return e=e||function(){},n.markSupportedForProcessing(e),t&&r(e.prototype,t),i&&r(e,i),e}function i(e,i,o,a){if(e){i=i||function(){};var s=e.prototype;return i.prototype=Object.create(s),n.markSupportedForProcessing(i),Object.defineProperty(i.prototype,"constructor",{value:i,writable:!0,configurable:!0,enumerable:!0}),o&&r(i.prototype,o),a&&r(i,a),i}return t(i,o,a)}function o(e){e=e||function(){};var t,n;for(t=1,n=arguments.length;n>t;t++)r(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:i,mix:o})}(),{Namespace:e.Namespace,Class:e.Class}}),define("WinJS/Core/_ErrorFromName",["./_Base"],function(e){"use strict";var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),define("WinJS/Core/_WinRT",["exports","./_Global","./_Base"],function(e,t,n){"use strict";e.msGetWeakWinRTProperty=t.msGetWeakWinRTProperty,e.msSetWeakWinRTProperty=t.msSetWeakWinRTProperty;var i=["Windows.ApplicationModel.DesignMode.designModeEnabled","Windows.ApplicationModel.Resources.Core.ResourceContext","Windows.ApplicationModel.Resources.Core.ResourceManager","Windows.ApplicationModel.Search.SearchQueryLinguisticDetails","Windows.Data.Text.SemanticTextQuery","Windows.Foundation.Collections.CollectionChange","Windows.Foundation.Diagnostics","Windows.Foundation.Uri","Windows.Globalization.ApplicationLanguages","Windows.Globalization.Calendar","Windows.Globalization.DateTimeFormatting","Windows.Globalization.Language","Windows.Phone.UI.Input.HardwareButtons","Windows.Storage.ApplicationData","Windows.Storage.CreationCollisionOption","Windows.Storage.BulkAccess.FileInformationFactory","Windows.Storage.FileIO","Windows.Storage.FileProperties.ThumbnailType","Windows.Storage.FileProperties.ThumbnailMode","Windows.Storage.FileProperties.ThumbnailOptions","Windows.Storage.KnownFolders","Windows.Storage.Search.FolderDepth","Windows.Storage.Search.IndexerOption","Windows.Storage.Streams.RandomAccessStreamReference","Windows.UI.ApplicationSettings.SettingsEdgeLocation","Windows.UI.ApplicationSettings.SettingsCommand","Windows.UI.ApplicationSettings.SettingsPane","Windows.UI.Core.AnimationMetrics","Windows.UI.Input.EdgeGesture","Windows.UI.Input.EdgeGestureKind","Windows.UI.Input.PointerPoint","Windows.UI.ViewManagement.HandPreference","Windows.UI.ViewManagement.InputPane","Windows.UI.ViewManagement.UIColorType","Windows.UI.ViewManagement.UISettings","Windows.UI.WebUI.Core.WebUICommandBar","Windows.UI.WebUI.Core.WebUICommandBarBitmapIcon","Windows.UI.WebUI.Core.WebUICommandBarClosedDisplayMode","Windows.UI.WebUI.Core.WebUICommandBarIconButton","Windows.UI.WebUI.Core.WebUICommandBarSymbolIcon","Windows.UI.WebUI.WebUIApplication"];i.forEach(function(i){var r=i.split("."),o={};o[r[r.length-1]]={get:function(){return r.reduce(function(e,t){return e?e[t]:null},t)}},n.Namespace.defineWithParent(e,r.slice(0,-1).join("."),o)})}),define("WinJS/Core/_Events",["exports","./_Base"],function(e,t){"use strict";function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}function i(){for(var e={},t=0,i=arguments.length;i>t;t++){var r=arguments[t];e["on"+r]=n(r)}return e}var r=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),o={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],r=0,o=i.length;o>r;r++){var a=i[r];if(a.useCapture===n&&a.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var i=new r(e,t,this);n=n.slice(0,n.length);for(var o=0,a=n.length;a>o&&!i._stopImmediatePropagationCalled;o++)n[o].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var r=0,o=i.length;o>r;r++){var a=i[r];if(a.listener===t&&a.useCapture===n){i.splice(r,1),0===i.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:i,eventMixin:o})}),define("require-json",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),define("require-json!strings/en-us/Microsoft.WinJS.resjson",{"ui/appBarAriaLabel":"App Bar","ui/appBarCommandAriaLabel":"App Bar Item","ui/appBarOverflowButtonAriaLabel":"View more","ui/autoSuggestBoxAriaLabel":"Autosuggestbox","ui/autoSuggestBoxAriaLabelInputNoPlaceHolder":"Autosuggestbox, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelInputPlaceHolder":"Autosuggestbox, {0}, enter to submit query, esc to clear text","ui/autoSuggestBoxAriaLabelQuery":"Suggestion: {0}","_ui/autoSuggestBoxAriaLabelQuery.comment":"Suggestion: query text (example: Suggestion: contoso)","ui/autoSuggestBoxAriaLabelSeparator":"Separator: {0}","_ui/autoSuggestBoxAriaLabelSeparator.comment":"Separator: separator text (example: Separator: People or Separator: Apps)","ui/autoSuggestBoxAriaLabelResult":"Result: {0}, {1}","_ui/autoSuggestBoxAriaLabelResult.comment":"Result: text, detailed text (example: Result: contoso, www.contoso.com)","ui/averageRating":"Average Rating","ui/backbuttonarialabel":"Back","ui/chapterSkipBackMediaCommandDisplayText":"Chapter back","ui/chapterSkipForwardMediaCommandDisplayText":"Chapter forward","ui/clearYourRating":"Clear your rating","ui/closedCaptionsLabelNone":"Off","ui/closedCaptionsMediaCommandDisplayText":"Closed captioning","ui/closeOverlay":"Close","ui/commandingSurfaceAriaLabel":"CommandingSurface","ui/commandingSurfaceOverflowButtonAriaLabel":"View more","ui/datePicker":"Date Picker","ui/fastForwardMediaCommandDisplayText":"Fast forward","ui/fastForwardFeedbackDisplayText":" {0}X","ui/fastForwardFeedbackSlowMotionDisplayText":"0.5X","ui/flipViewPanningContainerAriaLabel":"Scrolling Container","ui/flyoutAriaLabel":"Flyout","ui/goToFullScreenButtonLabel":"Go full screen","ui/goToLiveMediaCommandDisplayText":"LIVE","ui/hubViewportAriaLabel":"Scrolling Container","ui/listViewViewportAriaLabel":"Scrolling Container","ui/mediaErrorAborted":"Playback was interrupted. Please try again.","ui/mediaErrorNetwork":"There was a network connection error.","ui/mediaErrorDecode":"The content could not be decoded","ui/mediaErrorSourceNotSupported":"This content type is not supported.","ui/mediaErrorUnknown":"There was an unknown error.","ui/mediaPlayerAudioTracksButtonLabel":"Audio tracks","ui/mediaPlayerCastButtonLabel":"Cast","ui/mediaPlayerChapterSkipBackButtonLabel":"Previous","ui/mediaPlayerChapterSkipForwardButtonLabel":"Next","ui/mediaPlayerClosedCaptionsButtonLabel":"Closed captions","ui/mediaPlayerFastForwardButtonLabel":"Fast forward","ui/mediaPlayerFullscreenButtonLabel":"Fullscreen","ui/mediaPlayerLiveButtonLabel":"LIVE","ui/mediaPlayerNextTrackButtonLabel":"Next","ui/mediaPlayerOverlayActiveOptionIndicator":"(On)","ui/mediaPlayerPauseButtonLabel":"Pause","ui/mediaPlayerPlayButtonLabel":"Play","ui/mediaPlayerPlayFromBeginningButtonLabel":"Replay","ui/mediaPlayerPlayRateButtonLabel":"Playback rate","ui/mediaPlayerPreviousTrackButtonLabel":"Previous","ui/mediaPlayerRewindButtonLabel":"Rewind","ui/mediaPlayerStopButtonLabel":"Stop","ui/mediaPlayerTimeSkipBackButtonLabel":"8 second replay","ui/mediaPlayerTimeSkipForwardButtonLabel":"30 second skip","ui/mediaPlayerToggleSnapButtonLabel":"Snap","ui/mediaPlayerVolumeButtonLabel":"Volume","ui/mediaPlayerZoomButtonLabel":"Zoom","ui/menuCommandAriaLabel":"Menu Item","ui/menuAriaLabel":"Menu","ui/navBarContainerViewportAriaLabel":"Scrolling Container","ui/nextTrackMediaCommandDisplayText":"Next track","ui/off":"Off","ui/on":"On","ui/pauseMediaCommandDisplayText":"Pause","ui/playFromBeginningMediaCommandDisplayText":"Play again","ui/playbackRateHalfSpeedLabel":"0.5x","ui/playbackRateNormalSpeedLabel":"Normal","ui/playbackRateOneAndHalfSpeedLabel":"1.5x","ui/playbackRateDoubleSpeedLabel":"2x","ui/playMediaCommandDisplayText":"Play","ui/pivotAriaLabel":"Pivot","ui/pivotViewportAriaLabel":"Scrolling Container","ui/replayMediaCommandDisplayText":"Play again","ui/rewindMediaCommandDisplayText":"Rewind","ui/rewindFeedbackDisplayText":" {0}X","ui/rewindFeedbackSlowMotionDisplayText":"0.5X","ui/searchBoxAriaLabel":"Searchbox","ui/searchBoxAriaLabelInputNoPlaceHolder":"Searchbox, enter to submit query, esc to clear text","ui/searchBoxAriaLabelInputPlaceHolder":"Searchbox, {0}, enter to submit query, esc to clear text","ui/searchBoxAriaLabelButton":"Click to submit query","ui/seeMore":"See more","ui/selectAMPM":"Select A.M P.M","ui/selectDay":"Select Day","ui/selectHour":"Select Hour","ui/selectMinute":"Select Minute","ui/selectMonth":"Select Month","ui/selectYear":"Select Year","ui/settingsFlyoutAriaLabel":"Settings Flyout","ui/stopMediaCommandDisplayText":"Stop","ui/tentativeRating":"Tentative Rating","ui/timePicker":"Time Picker","ui/timeSeparator":":","ui/timeSkipBackMediaCommandDisplayText":"Skip back","ui/timeSkipForwardMediaCommandDisplayText":"Skip forward","ui/toolbarAriaLabel":"ToolBar","ui/toolbarOverflowButtonAriaLabel":"View more","ui/unrated":"Unrated","ui/userRating":"User Rating","ui/zoomMediaCommandDisplayText":"Zoom","ui/appBarIcons/previous":"","_ui/appBarIcons/previous.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/next":"","_ui/appBarIcons/next.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/play":"","_ui/appBarIcons/play.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pause":"","_ui/appBarIcons/pause.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/edit":"","_ui/appBarIcons/edit.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/save":"","_ui/appBarIcons/save.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clear":"","_ui/appBarIcons/clear.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/delete":"","_ui/appBarIcons/delete.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remove":"","_ui/appBarIcons/remove.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/add":"","_ui/appBarIcons/add.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cancel":"","_ui/appBarIcons/cancel.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accept":"","_ui/appBarIcons/accept.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/more":"","_ui/appBarIcons/more.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/redo":"","_ui/appBarIcons/redo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/undo":"","_ui/appBarIcons/undo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/home":"","_ui/appBarIcons/home.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/up":"","_ui/appBarIcons/up.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/forward":"","_ui/appBarIcons/forward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/right":"","_ui/appBarIcons/right.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/back":"","_ui/appBarIcons/back.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/left":"","_ui/appBarIcons/left.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/favorite":"","_ui/appBarIcons/favorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/camera":"","_ui/appBarIcons/camera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settings":"","_ui/appBarIcons/settings.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/video":"","_ui/appBarIcons/video.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sync":"","_ui/appBarIcons/sync.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/download":"","_ui/appBarIcons/download.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail":"","_ui/appBarIcons/mail.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/find":"","_ui/appBarIcons/find.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/help":"","_ui/appBarIcons/help.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/upload":"","_ui/appBarIcons/upload.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji":"","_ui/appBarIcons/emoji.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twopage":"","_ui/appBarIcons/twopage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/leavechat":"","_ui/appBarIcons/leavechat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailforward":"","_ui/appBarIcons/mailforward.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clock":"","_ui/appBarIcons/clock.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/send":"","_ui/appBarIcons/send.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/crop":"","_ui/appBarIcons/crop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotatecamera":"","_ui/appBarIcons/rotatecamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/people":"","_ui/appBarIcons/people.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/closepane":"","_ui/appBarIcons/closepane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openpane":"","_ui/appBarIcons/openpane.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/world":"","_ui/appBarIcons/world.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/flag":"","_ui/appBarIcons/flag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/previewlink":"","_ui/appBarIcons/previewlink.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/globe":"","_ui/appBarIcons/globe.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/trim":"","_ui/appBarIcons/trim.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attachcamera":"","_ui/appBarIcons/attachcamera.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomin":"","_ui/appBarIcons/zoomin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bookmarks":"","_ui/appBarIcons/bookmarks.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/document":"","_ui/appBarIcons/document.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/protecteddocument":"","_ui/appBarIcons/protecteddocument.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page":"","_ui/appBarIcons/page.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bullets":"","_ui/appBarIcons/bullets.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/comment":"","_ui/appBarIcons/comment.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mail2":"","_ui/appBarIcons/mail2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactinfo":"","_ui/appBarIcons/contactinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hangup":"","_ui/appBarIcons/hangup.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/viewall":"","_ui/appBarIcons/viewall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mappin":"","_ui/appBarIcons/mappin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phone":"","_ui/appBarIcons/phone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/videochat":"","_ui/appBarIcons/videochat.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switch":"","_ui/appBarIcons/switch.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact":"","_ui/appBarIcons/contact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rename":"","_ui/appBarIcons/rename.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pin":"","_ui/appBarIcons/pin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/musicinfo":"","_ui/appBarIcons/musicinfo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/go":"","_ui/appBarIcons/go.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/keyboard":"","_ui/appBarIcons/keyboard.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockleft":"","_ui/appBarIcons/dockleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockright":"","_ui/appBarIcons/dockright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dockbottom":"","_ui/appBarIcons/dockbottom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/remote":"","_ui/appBarIcons/remote.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/refresh":"","_ui/appBarIcons/refresh.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/rotate":"","_ui/appBarIcons/rotate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shuffle":"","_ui/appBarIcons/shuffle.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/list":"","_ui/appBarIcons/list.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/shop":"","_ui/appBarIcons/shop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/selectall":"","_ui/appBarIcons/selectall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/orientation":"","_ui/appBarIcons/orientation.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/import":"","_ui/appBarIcons/import.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/importall":"","_ui/appBarIcons/importall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/browsephotos":"","_ui/appBarIcons/browsephotos.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/webcam":"","_ui/appBarIcons/webcam.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/pictures":"","_ui/appBarIcons/pictures.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/savelocal":"","_ui/appBarIcons/savelocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/caption":"","_ui/appBarIcons/caption.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stop":"","_ui/appBarIcons/stop.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showresults":"","_ui/appBarIcons/showresults.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/volume":"","_ui/appBarIcons/volume.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repair":"","_ui/appBarIcons/repair.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/message":"","_ui/appBarIcons/message.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/page2":"","_ui/appBarIcons/page2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarday":"","_ui/appBarIcons/calendarday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarweek":"","_ui/appBarIcons/calendarweek.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendar":"","_ui/appBarIcons/calendar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/characters":"","_ui/appBarIcons/characters.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreplyall":"","_ui/appBarIcons/mailreplyall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/read":"","_ui/appBarIcons/read.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/link":"","_ui/appBarIcons/link.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/accounts":"","_ui/appBarIcons/accounts.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/showbcc":"","_ui/appBarIcons/showbcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hidebcc":"","_ui/appBarIcons/hidebcc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cut":"","_ui/appBarIcons/cut.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/attach":"","_ui/appBarIcons/attach.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/paste":"","_ui/appBarIcons/paste.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/filter":"","_ui/appBarIcons/filter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/copy":"","_ui/appBarIcons/copy.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/emoji2":"","_ui/appBarIcons/emoji2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/important":"","_ui/appBarIcons/important.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mailreply":"","_ui/appBarIcons/mailreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/slideshow":"","_ui/appBarIcons/slideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/sort":"","_ui/appBarIcons/sort.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/manage":"","_ui/appBarIcons/manage.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/allapps":"","_ui/appBarIcons/allapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disconnectdrive":"","_ui/appBarIcons/disconnectdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mapdrive":"","_ui/appBarIcons/mapdrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newwindow":"","_ui/appBarIcons/newwindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openwith":"","_ui/appBarIcons/openwith.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contactpresence":"","_ui/appBarIcons/contactpresence.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/priority":"","_ui/appBarIcons/priority.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/uploadskydrive":"","_ui/appBarIcons/uploadskydrive.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gototoday":"","_ui/appBarIcons/gototoday.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/font":"","_ui/appBarIcons/font.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontcolor":"","_ui/appBarIcons/fontcolor.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/contact2":"","_ui/appBarIcons/contact2.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/folder":"","_ui/appBarIcons/folder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/audio":"","_ui/appBarIcons/audio.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/placeholder":"","_ui/appBarIcons/placeholder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/view":"","_ui/appBarIcons/view.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/setlockscreen":"","_ui/appBarIcons/setlockscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/settile":"","_ui/appBarIcons/settile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cc":"","_ui/appBarIcons/cc.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/stopslideshow":"","_ui/appBarIcons/stopslideshow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/permissions":"","_ui/appBarIcons/permissions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/highlight":"","_ui/appBarIcons/highlight.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/disableupdates":"","_ui/appBarIcons/disableupdates.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unfavorite":"","_ui/appBarIcons/unfavorite.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unpin":"","_ui/appBarIcons/unpin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openlocal":"","_ui/appBarIcons/openlocal.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/mute":"","_ui/appBarIcons/mute.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/italic":"","_ui/appBarIcons/italic.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/underline":"","_ui/appBarIcons/underline.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/bold":"","_ui/appBarIcons/bold.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/movetofolder":"","_ui/appBarIcons/movetofolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/likedislike":"","_ui/appBarIcons/likedislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/dislike":"","_ui/appBarIcons/dislike.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/like":"","_ui/appBarIcons/like.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignright":"","_ui/appBarIcons/alignright.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/aligncenter":"","_ui/appBarIcons/aligncenter.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/alignleft":"","_ui/appBarIcons/alignleft.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoom":"","_ui/appBarIcons/zoom.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zoomout":"","_ui/appBarIcons/zoomout.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/openfile":"","_ui/appBarIcons/openfile.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/otheruser":"","_ui/appBarIcons/otheruser.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/admin":"","_ui/appBarIcons/admin.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/street":"","_ui/appBarIcons/street.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/map":"","_ui/appBarIcons/map.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/clearselection":"","_ui/appBarIcons/clearselection.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontdecrease":"","_ui/appBarIcons/fontdecrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontincrease":"","_ui/appBarIcons/fontincrease.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fontsize":"","_ui/appBarIcons/fontsize.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/cellphone":"","_ui/appBarIcons/cellphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reshare":"","_ui/appBarIcons/reshare.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/tag":"","_ui/appBarIcons/tag.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatone":"","_ui/appBarIcons/repeatone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/repeatall":"","_ui/appBarIcons/repeatall.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/outlinestar":"","_ui/appBarIcons/outlinestar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/solidstar":"","_ui/appBarIcons/solidstar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calculator":"","_ui/appBarIcons/calculator.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/directions":"","_ui/appBarIcons/directions.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/target":"","_ui/appBarIcons/target.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/library":"","_ui/appBarIcons/library.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/phonebook":"","_ui/appBarIcons/phonebook.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/memo":"","_ui/appBarIcons/memo.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/microphone":"","_ui/appBarIcons/microphone.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/postupdate":"","_ui/appBarIcons/postupdate.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/backtowindow":"","_ui/appBarIcons/backtowindow.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fullscreen":"","_ui/appBarIcons/fullscreen.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/newfolder":"","_ui/appBarIcons/newfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/calendarreply":"","_ui/appBarIcons/calendarreply.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/unsyncfolder":"","_ui/appBarIcons/unsyncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/reporthacked":"","_ui/appBarIcons/reporthacked.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/syncfolder":"","_ui/appBarIcons/syncfolder.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/blockcontact":"","_ui/appBarIcons/blockcontact.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/switchapps":"","_ui/appBarIcons/switchapps.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/addfriend":"","_ui/appBarIcons/addfriend.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/touchpointer":"","_ui/appBarIcons/touchpointer.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/gotostart":"","_ui/appBarIcons/gotostart.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/zerobars":"","_ui/appBarIcons/zerobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/onebar":"",
"_ui/appBarIcons/onebar.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/twobars":"","_ui/appBarIcons/twobars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/threebars":"","_ui/appBarIcons/threebars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/fourbars":"","_ui/appBarIcons/fourbars.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/scan":"","_ui/appBarIcons/scan.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/preview":"","_ui/appBarIcons/preview.comment":"{Locked=qps-ploc,qps-plocm}","ui/appBarIcons/hamburger":"","_ui/appBarIcons/hamburger.comment":"{Locked=qps-ploc,qps-plocm}"}),define("WinJS/Core/_Resources",["exports","./_Global","./_WinRT","./_Base","./_Events","require-json!strings/en-us/Microsoft.WinJS.resjson"],function(e,t,n,i,r,o){"use strict";function a(e){var t=y("ms-resource:///Microsoft.WinJS/"+e);return t.empty&&(t=s(e)),t}function s(e){var t=o[e];return"string"==typeof t&&(t={value:t}),t||{value:e,empty:!0}}function c(e){var t=arguments;return t.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,n,i,r,o,a){if(o||a)throw c(_.malformedFormatStringInput,o||a);return n&&"{"||i&&"}"||t[(0|r)+1]})),e}var l,u,d=!1,p="contextchanged",f=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),r.eventMixin),m=new f,h=r._createEventProperty,_={get malformedFormatStringInput(){return"Malformed, did you mean to escape your '{0}'?"}};i.Namespace.define("WinJS.Resources",{_getWinJSString:a}),i.Namespace._moduleDefine(e,"WinJS.Resources",{addEventListener:function(t,i,r){if(n.Windows.ApplicationModel.Resources.Core.ResourceManager&&!d&&t===p)try{var o=e._getResourceContext();o?o.qualifierValues.addEventListener("mapchanged",function(t){e.dispatchEvent(p,{qualifier:t.key,changed:t.target[t.key]})},!1):n.Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(t){e.dispatchEvent(p,{qualifier:t.key,changed:t.target[t.key]})},!1),d=!0}catch(a){}m.addEventListener(t,i,r)},removeEventListener:m.removeEventListener.bind(m),dispatchEvent:m.dispatchEvent.bind(m),_formatString:c,_getStringWinRT:function(t){if(!l){var i=n.Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{l=i.getSubtree("Resources")}catch(r){}l||(l=i)}var o,a,s;try{var c=e._getResourceContext();s=c?l.getValue(t,c):l.getValue(t),s&&(o=s.valueAsString,void 0===o&&(o=s.toString()))}catch(r){}if(!o)return e._getStringJS(t);try{a=s.getQualifierValue("Language")}catch(r){return{value:o}}return{value:o,lang:a}},_getStringJS:function(e){var n=t.strings&&t.strings[e];return"string"==typeof n&&(n={value:n}),n||{value:e,empty:!0}},_getResourceContext:function(){if(t.document&&"undefined"==typeof u){var e=n.Windows.ApplicationModel.Resources.Core.ResourceContext;u=e.getForCurrentView?e.getForCurrentView():null}return u},oncontextchanged:h(p)});var g=n.Windows.ApplicationModel.Resources.Core.ResourceManager?e._getStringWinRT:e._getStringJS,y=function(e){return g(e)};i.Namespace._moduleDefine(e,null,{_formatString:c,_getWinJSString:a}),i.Namespace._moduleDefine(e,"WinJS.Resources",{getString:{get:function(){return y},set:function(e){y=e}}})}),define("WinJS/Core/_Trace",["./_Global"],function(e){"use strict";function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),define("WinJS/Promise/_StateMachine",["../Core/_Global","../Core/_BaseCoreUtils","../Core/_Base","../Core/_ErrorFromName","../Core/_Events","../Core/_Trace"],function(e,t,n,i,r,o){"use strict";function a(){}function s(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?N:D,e._value=t,e._setState(n)}function c(e,t,n,i,r,o){return{exception:e,error:t,promise:n,handler:o,id:i,parent:r}}function l(e,t,n,i){var r=n._isException,o=n._errorId;return c(r?t:null,r?null:t,e,o,n,i)}function u(e,t,n){var i=n._isException,r=n._errorId;return b(e,r,i),c(i?t:null,i?null:t,e,r,n)}function d(e,t){var n=++U;return b(e,n),c(null,t,e,n)}function p(e,t){var n=++U;return b(e,n,!0),c(t,null,e,n)}function f(e,t,n,i){var r=o._traceAsyncOperationStarting("WinJS.Promise.done");v(e,{c:t,e:n,p:i,asyncOpID:r})}function m(e,t,n,i){e._value=t,g(e,t,n,i),e._setState(R)}function h(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var a,s;for(a=0,s=Array.isArray(r)?r.length:1;s>a;a++){var c=1===s?r:r[a],l=c.c,u=c.promise;if(o._traceAsyncOperationCompleted(c.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),u){o._traceAsyncCallbackStarting(c.asyncOpID);try{u._setCompleteValue(l?l(i):i)}catch(d){u._setExceptionValue(d)}finally{o._traceAsyncCallbackCompleted()}u._state!==N&&u._listeners&&n.push(u)}else G.prototype.done.call(t,l)}}}function _(t,n){var i=t._value,r=t._listeners;if(r){t._listeners=null;var a,s;for(a=0,s=Array.isArray(r)?r.length:1;s>a;a++){var c=1===s?r:r[a],u=c.e,d=c.promise,p=e.Debug&&(i&&i.name===L?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(o._traceAsyncOperationCompleted(c.asyncOpID,p),d){var f=!1;try{u?(o._traceAsyncCallbackStarting(c.asyncOpID),f=!0,u.handlesOnError||g(d,i,l,t,u),d._setCompleteValue(u(i))):d._setChainedErrorValue(i,t)}catch(m){d._setExceptionValue(m)}finally{f&&o._traceAsyncCallbackCompleted()}d._state!==N&&d._listeners&&n.push(d)}else K.prototype.done.call(t,null,u)}}}function g(e,t,n,i,r){if(E._listeners[T]){if(t instanceof Error&&t.message===L)return;E.dispatchEvent(T,n(e,t,i,r))}}function y(e,t){var n=e._listeners;if(n){var i,r;for(i=0,r=Array.isArray(n)?n.length:1;r>i;i++){var o=1===r?n:n[i],a=o.p;if(a)try{a(t)}catch(s){}o.c||o.e||!o.promise||o.promise._progress(t)}}}function v(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function b(e,t,n){e._isException=n||!1,e._errorId=t}function k(e,t,n,i){e._value=t,g(e,t,n,i),e._setState(j)}function I(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?N:F,e._value=t,e._setState(n)}function S(e,t,n,i){var r=new H(e),a=o._traceAsyncOperationStarting("WinJS.Promise.then");return v(e,{promise:r,c:t,e:n,p:i,asyncOpID:a}),r}function w(n){var i;return new Y(function(r){n?i=e.setTimeout(r,n):t._setImmediate(r)},function(){i&&e.clearTimeout(i)})}function C(e,t){var n=function(){t.cancel()},i=function(){e.cancel()};return e.then(n),t.then(i,i),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var x=n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),r.eventMixin),E=new x;E._listeners={};var T="error",L="Canceled",B=!1,A={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};A.all=A.promise|A.thenPromise|A.errorPromise|A.exceptionPromise|A.completePromise;var P,M,N,W,O,q,D,F,R,j,U=1;P={name:"created",enter:function(e){e._setState(M)},cancel:a,done:a,then:a,_completed:a,_error:a,_notify:a,_progress:a,_setCompleteValue:a,_setErrorValue:a},M={name:"working",enter:a,cancel:function(e){e._setState(O)},done:f,then:S,_completed:s,_error:m,_notify:a,_progress:y,_setCompleteValue:I,_setErrorValue:k},N={name:"waiting",enter:function(e){var t=e._value;if(t instanceof H&&t._state!==j&&t._state!==F)v(t,{promise:e});else{var n=function(i){t._errorId?e._chainedError(i,t):(g(e,i,l,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(W)},done:f,then:S,_completed:s,_error:m,_notify:a,_progress:y,_setCompleteValue:I,_setErrorValue:k},W={name:"waiting_canceled",enter:function(e){e._setState(q);var t=e._value;t.cancel&&t.cancel()},cancel:a,done:f,then:S,_completed:s,_error:m,_notify:a,_progress:y,_setCompleteValue:I,_setErrorValue:k},O={name:"canceled",enter:function(e){e._setState(q),e._cancelAction()},cancel:a,done:f,then:S,_completed:s,_error:m,_notify:a,_progress:y,_setCompleteValue:I,_setErrorValue:k},q={name:"canceling",enter:function(e){var t=new Error(L);t.name=t.message,e._value=t,e._setState(R)},cancel:a,done:a,then:a,_completed:a,_error:a,_notify:a,_progress:a,_setCompleteValue:a,_setErrorValue:a},D={name:"complete_notify",enter:function(e){if(e.done=G.prototype.done,e.then=G.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(F)},cancel:a,done:null,then:null,_completed:a,_error:a,_notify:h,_progress:a,_setCompleteValue:a,_setErrorValue:a},F={name:"success",enter:function(e){e.done=G.prototype.done,e.then=G.prototype.then,e._cleanupAction()},cancel:a,done:null,then:null,_completed:a,_error:a,_notify:h,_progress:a,_setCompleteValue:a,_setErrorValue:a},R={name:"error_notify",enter:function(e){if(e.done=K.prototype.done,e.then=K.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.shift(),t._state._notify(t,n);e._setState(j)},cancel:a,done:null,then:null,_completed:a,_error:a,_notify:_,_progress:a,_setCompleteValue:a,_setErrorValue:a},j={name:"error",enter:function(e){e.done=K.prototype.done,e.then=K.prototype.then,e._cleanupAction()},cancel:a,done:null,then:null,_completed:a,_error:a,_notify:_,_progress:a,_setCompleteValue:a,_setErrorValue:a};var z,J=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,u,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,d);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,u,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,p);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),H=n.Class.derive(J,function(e){B&&(B===!0||B&A.thenPromise)&&(this._stack=Y._getStack()),this._creator=e,this._setState(P),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),K=n.Class.define(function(e){B&&(B===!0||B&A.errorPromise)&&(this._stack=Y._getStack()),this._value=e,g(this,e,d)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||g(null,n,l,this,t);var i=t(n);return void(i&&"object"==typeof i&&"function"==typeof i.done&&i.done())}catch(r){n=r}n instanceof Error&&n.message===L||Y._doneHandler(n)},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||g(null,i,l,this,t),n=new G(t(i))}catch(r){n=r===i?this:new V(r)}return n}},{supportedForProcessing:!1}),V=n.Class.derive(K,function(e){B&&(B===!0||B&A.exceptionPromise)&&(this._stack=Y._getStack()),this._value=e,g(this,e,p)},{},{supportedForProcessing:!1}),G=n.Class.define(function(e){if(B&&(B===!0||B&A.completePromise)&&(this._stack=Y._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new H(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(n){Y._doneHandler(n)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new G(t)}catch(n){return new V(n)}}},{supportedForProcessing:!1}),Y=n.Class.derive(J,function(e,t){B&&(B===!0||B&A.promise)&&(this._stack=Y._getStack()),this._oncancel=t,this._setState(P),this._run();try{var n=this._completed.bind(this),i=this._error.bind(this),r=this._progress.bind(this);e(n,i,r)}catch(o){this._setExceptionValue(o)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(e){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){E.addEventListener(e,t,n)},any:function(e){return new Y(function(t,n){var i=Object.keys(e);0===i.length&&t();var r=0;i.forEach(function(o){Y.as(e[o]).then(function(){t({key:o,value:e[o]})},function(a){return a instanceof Error&&a.name===L?void(++r===i.length&&t(Y.cancel)):void n({key:o,value:e[o]})})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new G(e)},cancel:{get:function(){return z=z||new K(new i(L))}},dispatchEvent:function(e,t){return E.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new Y(function(t,n,i){var r=Object.keys(e),o=Array.isArray(e)?[]:{},a=Array.isArray(e)?[]:{},s=0,c=r.length,l=function(e){if(0===--c){var s=Object.keys(o).length;if(0===s)t(a);else{var l=0;r.forEach(function(e){var t=o[e];t instanceof Error&&t.name===L&&l++}),l===s?t(Y.cancel):n(o)}}else i({Key:e,Done:!0})};return r.forEach(function(t){var n=e[t];void 0===n?s++:Y.then(n,function(e){a[t]=e,l(t)},function(e){o[t]=e,l(t)})}),c-=s,0===c?void t(a):void 0},function(){Object.keys(e).forEach(function(t){var n=Y.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){E.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return Y.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var r=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){r[o]=Y.as(e[o]).then(t,n,i)}),Y.join(r)},timeout:function(e,t){var n=w(e);return t?C(n,t):n},wrap:function(e){return new G(e)},wrapError:function(e){return new K(e)},_veryExpensiveTagWithStack:{get:function(){return B},set:function(e){B=e}},_veryExpensiveTagWithStack_tag:A,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(t){return t.stack}},_cancelBlocker:function(e,t){if(!Y.is(e))return Y.wrap(e);var n,i,r=new Y(function(e,t){n=e,i=t},function(){n=null,i=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){i&&i(e)}),r}});return Object.defineProperties(Y,r.createEventProperties(T)),Y._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:J,Promise:Y,state_created:P}}),define("WinJS/Promise",["./Core/_Base","./Promise/_StateMachine"],function(e,t){"use strict";return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),define("WinJS/Core/_Log",["exports","./_Global","./_Base"],function(e,t,n){"use strict";function i(e,t,n){var i=e;return"function"==typeof i&&(i=i()),(n&&s.test(n)?"":n?n+": ":"")+(t?t.replace(a,":")+": ":"")+i}function r(n,i,r){var o=e.formatLog(n,i,r);t.console&&t.console[r&&s.test(r)?r:"log"](o)}function o(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var a=/\s+/g,s=/^(error|warn|info|log)$/,c=null;n.Namespace._moduleDefine(e,"WinJS.Utilities",{startLog:function(t){t=t||{},"string"==typeof t&&(t={tags:t});var n=t.type&&new RegExp("^("+o(t.type).replace(a," ").split(" ").join("|")+")$"),i=t.excludeTags&&new RegExp("(^|\\s)("+o(t.excludeTags).replace(a," ").split(" ").join("|")+")(\\s|$)","i"),s=t.tags&&new RegExp("(^|\\s)("+o(t.tags).replace(a," ").split(" ").join("|")+")(\\s|$)","i"),c=t.action||r;if(!(n||i||s||e.log))return void(e.log=c);var l=function(e,t,r){n&&!n.test(r)||i&&i.test(t)||s&&!s.test(t)||c(e,t,r),l.next&&l.next(e,t,r)};l.next=e.log,e.log=l},stopLog:function(){e.log=null},formatLog:i}),n.Namespace._moduleDefine(e,"WinJS",{log:{get:function(){return c},set:function(e){c=e}}})}),define("WinJS/Scheduler",["exports","./Core/_Global","./Core/_Base","./Core/_ErrorFromName","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WriteProfilerMark","./Promise"],function(e,t,n,i,r,o,a,s,c){"use strict";function l(e){var t={},n="_prev"+e,i="_next"+e;return t["_remove"+e]=function(){var e=this[n],t=this[i];t&&(t[n]=e),e&&(e[i]=t),this[n]=null,this[i]=null},t["_insert"+e+"Before"]=function(e){var t=this[n];return t&&(t[i]=e),e[i]=this,e[n]=t,this[n]=e,e},t["_insert"+e+"After"]=function(e){var t=this[i];return this[i]=e,e[i]=t,e[n]=this,t&&(t[n]=e),e},t}function u(e,t,n){return void 0!==n?"("+e+";"+t+";"+n+")":void 0!==t?"("+e+";"+t+")":void 0!==e?"("+e+")":""}function d(e,t,n,i){s("WinJS.Scheduler:"+e+u(n,i)+","+t)}function p(e,t,n,i,r){var o=e.name||void 0!==i||void 0!==r;s("WinJS.Scheduler:"+t+":"+e.id+(o?u(e.name,i,r):"")+","+n)}function f(){return!1}function m(e){throw"Illegal call by job("+e.id+") in state: "+this.name}function h(e){return function(t,n,i){t._setState(e,n,i)}}function _(e,t){e._setPriority(t)}function g(e,t){function n(e,t){r.log&&r.log(t+": MARKER: "+e.name,"winjs scheduler","log")}function i(e,t){r.log&&r.log(t+": JOB("+e.id+"): state: "+(e._state?e._state.name:"")+(e.name?", name: "+e.name:""),"winjs scheduler","log")}r.log&&r.log("highWaterMark: "+Ee,"winjs scheduler","log");var o=0,a=t?ke[ke.length-1]:ke[0],s=a;do s instanceof pe&&n(s,o),s instanceof J&&i(s,o),o++,s=t?s["_prev"+e]:s["_next"+e];while(s)}function y(){function e(e,n){t+="    "+(n?"*":" ")+"id: "+e.id+", priority: "+N(e.priority).name+(e.name?", name: "+e.name:"")+"\n"}var t="";t+="Jobs:\n";var n=N(Ee),i=0;for(Se&&(e(Se,!0),i++);n.priority>=be.min;)n instanceof J&&(e(n,!1),i++),n=n._nextJob;0===i&&(t+="     None\n"),t+="Drain requests:\n";for(var r=0,o=Ce.length;o>r;r++)t+="    "+(0===r?"*":" ")+"priority: "+N(Ce[r].priority).name+", name: "+Ce[r].name+"\n";return 0===Ce.length&&(t+="     None\n"),t}function v(){var e=ke[0];do{if(e instanceof J)return!1;e=e._nextJob}while(e);return!0}function b(){return 0===Ce.length?null:Ce[0].priority}function k(e){d("drain","StartTM",e.name,N(e.priority).name)}function I(e,t){t&&d("drain-canceled","info",e.name,N(e.priority).name),d("drain","StopTM",e.name,N(e.priority).name)}function S(e,t,n){Ce.push({priority:e,complete:t,name:n}),1===Ce.length&&(k(Ce[0]),e>Ee&&(Ee=e,he=!0))}function w(e,t){var n,i=Ce.length;for(n=0;i>n;n++)if(Ce[n].complete===e){0===n&&(I(Ce[0],t),Ce[1]&&k(Ce[1])),Ce.splice(n,1);break}}function C(){var e=Ce.shift();e&&(I(e),Ce[0]&&k(Ce[0]),e.complete())}function x(){var e=!1;if(Ce.length)for(var t=b();+t===t&&t>Ee;)me=t,C(),e=!0,t=b();return e}function E(e){return e>=be.aboveNormal+1?Be.HIGH:e>=be.belowNormal?Be.NORMAL:Be.IDLE}function T(e,t){return Ae[e]>=Ae[t]}function L(e,t){return Ae[e]>Ae[t]}function B(e){switch(e){case Be.HIGH:return!1;case Be.NORMAL:return Be.isTaskScheduledAtPriorityOrHigher(Be.HIGH);case Be.IDLE:return Be.isTaskScheduledAtPriorityOrHigher(Be.NORMAL)}}function A(e,t){var n=N(t);n.priority>Ee&&(Ee=n.priority,he=!0),n._insertJobAfter(e)}function P(e,t){var n=N(t);n.priority>Ee&&(Ee=n.priority,he=!0),n._nextMarker._insertJobBefore(e)}function M(e){return e=0|e,e=Math.max(e,ye),e=Math.min(e,ve)}function N(e){return e=M(e),ke[-1*(e-ve)]}function W(e){fe=!0,d("timeslice","StartTM");var t,n,i,r=!0,o=!1,a=!1;he=!1;try{for(var s=Pe(),c=s+xe,l=function(){return o=!1,he?!0:B(E(Ee))?!0:Ce.length?!1:Pe()>c?(o=!0,!0):!1};Ee>=be.min&&!l()&&!a;){t=!1,n=N(Ee)._nextJob;do{if(me=n.priority,n instanceof J)i!==n.priority&&(+i===i&&d("priority","StopTM",N(i).name),d("priority","StartTM",N(n.priority).name),i=n.priority),t=!0,r=!1,Se=n,p(Se,"job-running","StartTM",N(me).name),n._execute(l),p(Se,"job-running","StopTM",N(me).name),Se=null,r=!0;else{var u=E(Ee);Ee=n.priority,t=x();var f=E(Ee);!L(u,f)||we&&!Be.isTaskScheduledAtPriorityOrHigher(f)||(a=!0)}n=n._nextJob}while(n&&!t&&!a&&!B(E(Ee)));he=!1}}finally{Se=null,r||(p(n,"job-error","info"),p(n,"job-running","StopTM",N(me).name),n.cancel()),+i===i&&d("priority","StopTM",N(i).name);for(var m=!1;Ee>=be.min&&!m;){t=!1,n=N(Ee)._nextJob;do n instanceof J?m=!0:(Ee=n.priority,t=x()),n=n._nextJob;while(n&&!t&&!m)}var h;h=r?o?"timeslice exhausted":Ee<be.min?"jobs exhausted":a?"reached WWA priority boundary":"WWA host work":"job error",e&&(Ie=null),fe=!1,Ee>=be.min&&O(),d("yielding","info",h),d("timeslice","StopTM")}}function O(e){+e!==e&&(e=Ee);var t=E(e);if(!fe&&(!Ie||we&&!T(Ie,t))){var n=++Me,i=function(){n>Ne&&(Ne=Me,W(!0))};Be.execAsyncAtPriority(i,t),Ie=t}}function q(e,t){var n=ge++;void 0===t&&(t="Drain Request "+n),e=+e===e?e:be.min,e=M(e);var i,r=new c(function(n){i=n,S(e,i,t)},function(){w(i,!0)});return fe||O(),r}function D(e){return Be.execAtPriority(e,Be.HIGH)}function F(){return new V}function R(e,t,n,i){t=t||be.normal,n=n||null;var r=++_e,o=a._traceAsyncOperationStarting("WinJS.Utilities.Scheduler.schedule: "+r+u(i));return i=i||"",new J(r,e,t,n,i,o)}function j(){if(fe)return me;switch(Be.getCurrentPriority()){case Be.HIGH:return be.high;case Be.NORMAL:return be.normal;case Be.IDLE:return be.idle}}function U(e){return function(t,n){var i;return new c(function(r){i=R(function(){r(t)},e,null,n)},function(){i.cancel()})}}n.Namespace.define("WinJS.Utilities",{_linkedListMixin:l});var z={get jobInfoIsNoLongerValid(){return"The job info object can only be used while the job is running"}},J=n.Class.define(function(e,t,n,i,r,o){this._id=e,this._work=t,this._context=i,this._name=r,this._asyncOpID=o,this._setPriority(n),this._setState(Y),p(this,"job-scheduled","info")},{completed:{get:function(){return!!this._state.completed}},id:{get:function(){return this._id}},name:{get:function(){return this._name},set:function(e){this._name=e}},owner:{get:function(){return this._owner},set:function(e){this._owner&&this._owner._remove(this),this._owner=e,this._owner&&this._owner._add(this)}},priority:{get:function(){return this._priority},set:function(e){e=M(e),this._state.setPriority(this,e)}},cancel:function(){this._state.cancel(this)},pause:function(){this._state.pause(this)},resume:function(){this._state.resume(this)},_execute:function(e){this._state.execute(this,e)},_executeDone:function(e){return this._state.executeDone(this,e)},_blockedDone:function(e){return this._state.blockedDone(this,e)},_setPriority:function(e){+this._priority===this._priority&&this._priority!==e&&p(this,"job-priority-changed","info",N(this._priority).name,N(e).name),this._priority=e},_setState:function(e,t,n){this._state&&r.log&&r.log("Transitioning job ("+this.id+") from: "+this._state.name+" to: "+e.name,"winjs scheduler","log"),this._state=e,this._state.enter(this,t,n)}});n.Class.mix(J,l("Job"));var H={complete:1,"continue":2,block:3},K=n.Class.define(function(e,t){this._job=t,this._result=null,this._yieldPolicy=H.complete,this._shouldYield=e},{job:{get:function(){return this._throwIfDisabled(),this._job}},shouldYield:{get:function(){return this._throwIfDisabled(),this._shouldYield()}},setPromise:function(e){this._throwIfDisabled(),this._result=e,this._yieldPolicy=H.block},setWork:function(e){this._throwIfDisabled(),this._result=e,this._yieldPolicy=H["continue"]},_disablePublicApi:function(){this._publicApiDisabled=!0},_throwIfDisabled:function(){if(this._publicApiDisabled)throw new i("WinJS.Utilities.Scheduler.JobInfoIsNoLongerValid",z.jobInfoIsNoLongerValid)}}),V=n.Class.define(function(){this._jobs={}},{cancelAll:function(){var e=this._jobs,t=Object.keys(e);this._jobs={};for(var n=0,i=t.length;i>n;n++)e[t[n]].cancel()},_add:function(e){this._jobs[e.id]=e},_remove:function(e){delete this._jobs[e.id]}}),G=n.Class.define(function(e){this.name=e,this.enter=m,this.execute=m,this.executeDone=m,this.blockedDone=m,this.cancel=m,this.pause=m,this.resume=m,this.setPriority=m}),Y=new G("created"),X=new G("scheduled"),Q=new G("paused"),$=new G("canceled"),Z=new G("running"),ee=new G("running_paused"),te=new G("running_resumed"),ne=new G("running_canceled"),ie=new G("running_canceled_blocked"),re=new G("cooperative_yield"),oe=new G("cooperative_yield_paused"),ae=new G("blocked"),se=new G("blocked_waiting"),ce=new G("blocked_paused"),le=new G("blocked_paused_waiting"),ue=new G("blocked_canceled"),de=new G("complete");Y.enter=function(e){P(e,e.priority),e._setState(X)},X.enter=function(){O()},X.execute=h(Z),X.cancel=h($),X.pause=h(Q),X.resume=f,X.setPriority=function(e,t){e.priority!==t&&(e._setPriority(t),e.pause(),e.resume())},Q.enter=function(e){p(e,"job-paused","info"),e._removeJob()},Q.cancel=h($),Q.pause=f,Q.resume=function(e){p(e,"job-resumed","info"),P(e,e.priority),e._setState(X)},Q.setPriority=_,$.enter=function(e){p(e,"job-canceled","info"),a._traceAsyncOperationCompleted(e._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_CANCELED),e._removeJob(),e._work=null,e._context=null,e.owner=null},$.cancel=f,$.pause=f,$.resume=f,$.setPriority=f,Z.enter=function(e,t){e._removeJob();var n=e.priority,i=e._work,r=e._context;e._work=null,e._context=null;var o=new K(t,e);a._traceAsyncCallbackStarting(e._asyncOpID);try{Be.execAtPriority(function(){i.call(r,o)},E(n))}finally{a._traceAsyncCallbackCompleted(),o._disablePublicApi()}e._context=r;var s=e._executeDone(o._yieldPolicy);e._setState(s,o._result,n)},Z.executeDone=function(e,t){switch(t){case H.complete:return de;case H["continue"]:return re;case H.block:return ae}},Z.cancel=function(e){he=!0,e._setState(ne)},Z.pause=function(e){he=!0,e._setState(ee)},Z.resume=f,Z.setPriority=_,ee.enter=f,ee.executeDone=function(e,t){switch(t){case H.complete:return de;case H["continue"]:return oe;case H.block:return ce}},ee.cancel=h(ne),ee.pause=f,ee.resume=h(te),ee.setPriority=_,te.enter=f,te.executeDone=function(e,t){switch(t){case H.complete:return de;case H["continue"]:return re;case H.block:return ae}},te.cancel=h(ne),te.pause=h(ee),te.resume=f,te.setPriority=_,ne.enter=f,ne.executeDone=function(e,t){switch(t){case H.complete:case H["continue"]:return $;case H.block:return ie}},ne.cancel=f,ne.pause=f,ne.resume=f,ne.setPriority=f,ie.enter=function(e,t){t.cancel(),e._setState($)},re.enter=function(e,t,n){p(e,"job-yielded","info"),n===e.priority?A(e,e.priority):P(e,e.priority),e._work=t,e._setState(X)},oe.enter=function(e,t){p(e,"job-yielded","info"),e._work=t,e._setState(Q)},ae.enter=function(e,t,n){p(e,"job-blocked","StartTM"),e._work=t,e._setState(se),t.done(function(t){p(e,"job-blocked","StopTM");var i=e._blockedDone(t);e._setState(i,t,n)},function(t){return t&&"Canceled"===t.name||p(e,"job-error","info"),p(e,"job-blocked","StopTM"),e._setState($),c.wrapError(t)})},se.enter=f,se.blockedDone=function(e,t){return"function"==typeof t?re:de},se.cancel=h(ue),se.pause=h(le),se.resume=f,se.setPriority=_,ce.enter=function(e,t,n){p(e,"job-blocked","StartTM"),e._work=t,e._setState(le),t.done(function(t){p(e,"job-blocked","StopTM");var i=e._blockedDone(t);e._setState(i,t,n)},function(t){return t&&"Canceled"===t.name||p(e,"job-error","info"),p(e,"job-blocked","StopTM"),e._setState($),c.wrapError(t)})},le.enter=f,le.blockedDone=function(e,t){return"function"==typeof t?oe:de},le.cancel=h(ue),le.pause=f,le.resume=h(se),le.setPriority=_,ue.enter=function(e){e._work.cancel(),e._work=null},ue.blockedDone=function(){return $},ue.cancel=f,ue.pause=f,ue.resume=f,ue.setPriority=f,de.completed=!0,de.enter=function(e){a._traceAsyncOperationCompleted(e._asyncOpID,t.Debug&&t.Debug.MS_ASYNC_OP_STATUS_SUCCESS),e._work=null,e._context=null,e.owner=null,p(e,"job-completed","info")},de.cancel=f,de.pause=f,de.resume=f,de.setPriority=f;var pe=n.Class.define(function(e,t){this.priority=e,this.name=t},{});n.Class.mix(pe,l("Job"),l("Marker"));var fe,me,he,_e=0,ge=0,ye=-15,ve=15,be={max:15,high:13,aboveNormal:9,normal:0,belowNormal:-9,idle:-13,min:-15},ke=[new pe(15,"max"),new pe(14,"14"),new pe(13,"high"),new pe(12,"12"),new pe(11,"11"),new pe(10,"10"),new pe(9,"aboveNormal"),new pe(8,"8"),new pe(7,"7"),new pe(6,"6"),new pe(5,"5"),new pe(4,"4"),new pe(3,"3"),new pe(2,"2"),new pe(1,"1"),new pe(0,"normal"),new pe(-1,"-1"),new pe(-2,"-2"),new pe(-3,"-3"),new pe(-4,"-4"),new pe(-5,"-5"),new pe(-6,"-6"),new pe(-7,"-7"),new pe(-8,"-8"),new pe(-9,"belowNormal"),new pe(-10,"-10"),new pe(-11,"-11"),new pe(-12,"-12"),new pe(-13,"idle"),new pe(-14,"-14"),new pe(-15,"min"),new pe(-16,"<TAIL>")],Ie=null,Se=null,we=!(!t.MSApp||!t.MSApp.execAtPriority),Ce=[],xe=30,Ee=be.min;ke.reduce(function(e,t){return e&&(e._insertJobAfter(t),e._insertMarkerAfter(t)),t});var Te=t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,16)},Le={execAsyncAtPriority:function(e,n){n===Be.HIGH&&t.setTimeout(e,0),Te(e)},execAtPriority:function(e){return e()},getCurrentPriority:function(){return Le.NORMAL},isTaskScheduledAtPriorityOrHigher:function(){return!1},HIGH:"high",NORMAL:"normal",IDLE:"idle"},Be=we?t.MSApp:Le,Ae={};Ae[Be.IDLE]=1,Ae[Be.NORMAL]=2,Ae[Be.HIGH]=3;var Pe=t.performance&&t.performance.now&&t.performance.now.bind(t.performance)||Date.now.bind(Date),Me=0,Ne=0;n.Namespace._moduleDefine(e,"WinJS.Utilities.Scheduler",{Priority:be,schedule:R,createOwnerToken:F,execHigh:D,requestDrain:q,currentPriority:{get:j},schedulePromiseHigh:U(be.high),schedulePromiseAboveNormal:U(be.aboveNormal),schedulePromiseNormal:U(be.normal),schedulePromiseBelowNormal:U(be.belowNormal),schedulePromiseIdle:U(be.idle),retrieveState:y,_JobNode:J,_JobInfo:K,_OwnerToken:V,_dumpList:g,_isEmpty:{get:v},_usingWwaScheduler:{get:function(){return we},set:function(e){we=e,Be=we?t.MSApp:Le}},_MSApp:{get:function(){return Be},set:function(e){Be=e}},_TIME_SLICE:xe})}),define("WinJS/Core/_BaseUtils",["exports","./_Global","./_Base","./_BaseCoreUtils","./_ErrorFromName","./_Resources","./_Trace","../Promise","../Scheduler"],function(e,t,n,i,r,o,a,s,c){"use strict";function l(e){return e}function u(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}function d(e,n){return e?u(e,n||t,l):null}function p(e){return e.length>0&&0!==e.indexOf("-moz")&&"-"===e.charAt(0)&&(e=e.slice(1)),e.replace(/\-[a-z]/g,function(e){return e[1].toUpperCase()})}function f(e,t){return""===e?t:e+t.charAt(0).toUpperCase()+t.slice(1)}function m(e,t){return(""!==e?"-"+e.toLowerCase()+"-":"")+t}function h(){if(!t.document)return{};for(var e={},n=t.document.documentElement.style,i=["","webkit","ms","Moz"],r=["animation","transition","transform","animation-name","animation-duration","animation-delay","animation-timing-function","animation-iteration-count","animation-direction","animation-fill-mode","grid-column","grid-columns","grid-column-span","grid-row","grid-rows","grid-row-span","transform-origin","transition-property","transition-duration","transition-delay","transition-timing-function","scroll-snap-points-x","scroll-snap-points-y","scroll-chaining","scroll-limit","scroll-limit-x-max","scroll-limit-x-min","scroll-limit-y-max","scroll-limit-y-min","scroll-snap-type","scroll-snap-x","scroll-snap-y","touch-action","overflow-style","user-select"],o={},a=0,s=r.length;s>a;a++)for(var c=r[a],l=p(c),u=0,d=i.length;d>u;u++){var h=i[u],_=f(h,l);if(_ in n){var g=m(h,c);e[c]={cssName:g,scriptName:_},o[c]=h;break}}return e.animationPrefix=m(o.animation,""),e.keyframes=m(o.animation,"keyframes"),e}function _(){for(var e={},n=["","WebKit"],i=[{eventObject:"TransitionEvent",events:["transitionStart","transitionEnd"]},{eventObject:"AnimationEvent",events:["animationStart","animationEnd"]}],r=0,o=i.length;o>r;r++){for(var a=i[r],s="",c=0,l=n.length;l>c;c++){var u=n[c];if(u+a.eventObject in t){s=u.toLowerCase();break}}for(var c=0,d=a.events.length;d>c;c++){var p=a.events[c];e[p]=f(s,p),""===s&&(e[p]=e[p].toLowerCase())}}return e.manipulationStateChanged="MSManipulationEvent"in t?"ManipulationEvent":null,e}function g(e,t){function n(){return s.timeout(e).then(function(){i=null})}var i=null,r=null,o=null,a=null;return function(){r?(o=this,a=[].slice.call(arguments,0)):i?(o=this,a=[].slice.call(arguments,0),r=i.then(function(){var e=o;o=null;var s=a;a=null,i=n(),r=null,t.apply(e,s)})):(i=n(),t.apply(this,arguments))}}var y,v={get notSupportedForProcessing(){
return"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"}},b=0,k={},I=!1,S=t.navigator.platform,w="iPhone"===S||"iPad"===S||"iPod"===S;n.Namespace._moduleDefine(e,"WinJS.Utilities",{_setHasWinRT:{value:function(e){i.hasWinRT=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return i.hasWinRT},configurable:!1,enumerable:!0},_setIsiOS:{value:function(e){w=e},configurable:!1,writable:!1,enumerable:!1},_isiOS:{get:function(){return w},configurable:!1,enumerable:!0},_getMemberFiltered:u,getMember:d,_browserStyleEquivalents:h(),_browserEventEquivalents:_(),_getCamelCasedName:p,ready:function C(e,n){return new s(function(i,r){function o(){if(e)try{e(),i()}catch(t){r(t)}else i()}var a=C._testReadyState;a||(a=t.document?t.document.readyState:"complete"),"complete"===a||t.document&&null!==t.document.body?n?c.schedule(function(){o()},c.Priority.normal,null,"WinJS.Utilities.ready"):o():t.addEventListener("DOMContentLoaded",o,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:i.markSupportedForProcessing,configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(e){var n=!0;switch(n=n&&e!==t,n=n&&e!==t.location,n=n&&!(e instanceof t.HTMLIFrameElement),n=n&&!("function"==typeof e&&!e.supportedForProcessing),t.frames.length){case 0:break;case 1:n=n&&e!==t.frames[0];break;default:for(var i=0,a=t.frames.length;n&&a>i;i++)n=n&&e!==t.frames[i]}if(n)return e;throw new r("WinJS.Utilities.requireSupportedForProcessing",o._formatString(v.notSupportedForProcessing,e))},configurable:!1,writable:!1,enumerable:!0},_setImmediate:i._setImmediate,_requestAnimationFrame:t.requestAnimationFrame?t.requestAnimationFrame.bind(t):function(e){var n=++b;return k[n]=e,y=y||t.setTimeout(function(){var e=k,t=Date.now();k={},y=null,Object.keys(e).forEach(function(n){e[n](t)})},16),n},_cancelAnimationFrame:t.cancelAnimationFrame?t.cancelAnimationFrame.bind(t):function(e){delete k[e]},_yieldForEvents:t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,0)},_yieldForDomModification:t.setImmediate?t.setImmediate.bind(t):function(e){t.setTimeout(e,0)},_throttledFunction:g,_shallowCopy:function(e){return this._mergeAll([e])},_merge:function(e,t){return this._mergeAll([e,t])},_mergeAll:function(e){var t={};return e.forEach(function(e){Object.keys(e).forEach(function(n){t[n]=e[n]})}),t},_getProfilerMarkIdentifier:function(e){var t="";return e.id&&(t+=" id='"+e.id+"'"),e.className&&(t+=" class='"+e.className+"'"),t},_now:function(){return t.performance&&t.performance.now&&t.performance.now()||Date.now()},_traceAsyncOperationStarting:a._traceAsyncOperationStarting,_traceAsyncOperationCompleted:a._traceAsyncOperationCompleted,_traceAsyncCallbackStarting:a._traceAsyncCallbackStarting,_traceAsyncCallbackCompleted:a._traceAsyncCallbackCompleted,_version:"4.1.0"}),n.Namespace._moduleDefine(e,"WinJS",{validation:{get:function(){return I},set:function(e){I=e}}}),n.Namespace.define("WinJS",{strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}),define("WinJS/Core",["./Core/_Base","./Core/_BaseCoreUtils","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Global","./Core/_Log","./Core/_Resources","./Core/_Trace","./Core/_WinRT","./Core/_WriteProfilerMark"],function(){}),define("WinJS/_Signal",["./Core/_Base","./Promise/_StateMachine"],function(e,t){"use strict";var n=e.Class.derive(t.PromiseStateMachine,function(e){this._oncancel=e,this._setState(t.state_created),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),i=e.Class.define(function(e){this._promise=new n(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{_Signal:i}),i}),define("WinJS/Utilities/_Control",["exports","../Core/_Global","../Core/_Base"],function(e,t,n){"use strict";function i(e,t){r(e,t)}function r(e,t,n){if("object"==typeof t)for(var i=Object.keys(t),r=0,o=i.length;o>r;r++){var a=i[r],s=t[a];if(a.length>2){var c=a[0],l=a[1];if(!("o"!==c&&"O"!==c||"n"!==l&&"N"!==l)&&"function"==typeof s&&e.addEventListener){e.addEventListener(a.substr(2),s);continue}}n||(e[a]=s)}}t.document&&n.Namespace._moduleDefine(e,"WinJS.UI",{DOMEventMixin:n.Namespace._lazy(function(){return{_domElement:null,addEventListener:function(e,t,n){(this.element||this._domElement).addEventListener(e,t,n||!1)},dispatchEvent:function(e,n){var i=t.document.createEvent("Event");return i.initEvent(e,!1,!1),i.detail=n,"object"==typeof n&&Object.keys(n).forEach(function(e){i[e]=n[e]}),(this.element||this._domElement).dispatchEvent(i)},removeEventListener:function(e,t,n){(this.element||this._domElement).removeEventListener(e,t,n||!1)}}}),setOptions:i,_setOptions:r})}),define("WinJS/Utilities/_ElementUtilities",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WinRT","../Promise","../Scheduler"],function(e,t,n,i,r,o,a){"use strict";function s(e){for(var t=e.length,n=t-1;n>=0;n--)e[n]||(e.splice(n,1),t--);return t}function c(e){var t=e.className||"";return"string"==typeof t?t:t.baseVal||""}function l(e,t){var n=e.className||"";return"string"==typeof n?e.className=t:e.className.baseVal=t,e}function u(e,t){if(e.classList){if(t.indexOf(" ")<0)e.classList.add(t);else{var n=t.split(" ");s(n);for(var i=0,r=n.length;r>i;i++)e.classList.add(n[i])}return e}var o,a=c(e),u=a.split(" "),d=s(u);if(t.indexOf(" ")>=0){var n=t.split(" ");s(n);for(var i=0;d>i;i++){var p=n.indexOf(u[i]);p>=0&&n.splice(p,1)}n.length>0&&(o=n.join(" "))}else{for(var f=!1,i=0;d>i;i++)if(u[i]===t){f=!0;break}f||(o=t)}return o&&(d>0&&u[0].length>0?l(e,a+" "+o):l(e,o)),e}function d(e,t){if(e.classList){if(0===e.classList.length)return e;var n=t.split(" ");s(n);for(var i=0,r=n.length;r>i;i++)e.classList.remove(n[i]);return e}var n,o,a=c(e);if(t.indexOf(" ")>=0)n=t.split(" "),o=s(n);else{if(a.indexOf(t)<0)return e;n=[t],o=1}for(var u,d=a.split(" "),p=s(d),i=p-1;i>=0;i--)n.indexOf(d[i])>=0&&(d.splice(i,1),u=!0);return u&&l(e,d.join(" ")),e}function p(e,t){if(e.classList)return e.classList.toggle(t),e;for(var n=c(e),i=n.trim().split(" "),r=i.length,o=!1,a=0;r>a;a++)i[a]===t&&(o=!0);return o?l(e,i.reduce(function(e,n){return n===t?e:e&&e.length>0?e+" "+n:n},"")):r>0&&i[0].length>0?l(e,n+" "+t):l(e,n+t),e}function f(e,t,n){e.getAttribute(t)!==""+n&&e.setAttribute(t,n)}function m(e,t,n,i){var r=Math.max(t,Math.min(n,+e));return 0===r?0:r||Math.max(t,Math.min(n,i))}function h(e,t){if(!j.test(t)&&U.test(t)){var n=e.style.left;return e.style.left=t,t=e.style.pixelLeft,e.style.left=n,t}return Math.round(parseFloat(t))||0}function _(e,n){return h(e,t.getComputedStyle(e,null)[n])}function g(e){return parseFloat(e)||0}function y(e,n){return g(t.getComputedStyle(e,null)[n])}function v(e){var n=t.getComputedStyle(e);return{top:g(n.marginTop),right:g(n.marginRight),bottom:g(n.marginBottom),left:g(n.marginLeft)}}function b(e,t,n,i,r){var o=t.toLowerCase();e._eventsMap||(e._eventsMap={}),e._eventsMap[o]||(e._eventsMap[o]=[]),e._eventsMap[o].push({listener:n,useCapture:i,data:r})}function k(e,t,n,i){var r=t.toLowerCase(),o=e._eventsMap&&e._eventsMap[r];if(o)for(var a=o.length-1;a>=0;a--){var s=o[a];if(s.listener===n&&!!i==!!s.useCapture)return o.splice(a,1),s}return null}function I(e,t){var n=t.toLowerCase();return e._eventsMap&&e._eventsMap[n]&&e._eventsMap[n].slice(0)||[]}function S(e,t,n){for(;e;){for(var i=I(e,t),r=0,o=i.length;o>r;r++)i[r].listener.call(e,n);e=e.parentNode}}function w(e){return(e.relatedTarget&&"IFRAME"===e.relatedTarget.tagName||e.target&&"IFRAME"===e.target.tagName)&&(e.relatedTarget=null),e}function C(e,t,n,i){if(i)throw"This custom WinJS event only supports bubbling";b(e,t,n,i)}function x(e,t){var n=t.changedTouches,i=null;if(!n)return i;for(var r=0,o=n.length;o>r;r++){var a=n[r],s=new G(t,{pointerType:H.MSPOINTER_TYPE_TOUCH,pointerId:a.identifier,isPrimary:0===r,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,pageX:a.pageX,pageY:a.pageY,radiusX:a.radiusX,radiusY:a.radiusY,rotationAngle:a.rotationAngle,force:a.force,_currentTouch:a}),c=e(s);i=i||c}return i}function E(e,t){return t.pointerType=H.MSPOINTER_TYPE_MOUSE,t.pointerId=-1,t.isPrimary=!0,e(t)}function T(e,t){return e(t)}function L(e,n,i,r){var o,a,s,c,l=n.toLowerCase(),u=Y[l];t.MSPointerEvent?(s=function(e){return e._normalizedType=l,c=!0,T(i,e)},e.addEventListener(u.mspointer,s,r)):(u.mouse&&(o=function(e){return e._normalizedType=l,c?void(c=!1):E(i,e)},e.addEventListener(u.mouse,o,r)),u.touch&&(a=function(e){return e._normalizedType=l,c=!0,x(i,e)},e.addEventListener(u.touch,a,r))),b(e,n,i,r,{mouseWrapper:o,touchWrapper:a,mspointerWrapper:s})}function B(e,t,n,i){var r=t.toLowerCase(),o=k(e,t,n,i);if(o){var a=Y[r];o.data.mouseWrapper&&e.removeEventListener(a.mouse,o.data.mouseWrapper,i),o.data.touchWrapper&&e.removeEventListener(a.touch,o.data.touchWrapper,i),o.data.mspointerWrapper&&e.removeEventListener(a.mspointer,o.data.mspointerWrapper,i)}}function A(){var e=t.document.createElement("div");e.style.direction="rtl",e.innerHTML="<div style='width: 100px; height: 100px; overflow: scroll; visibility:hidden'><div style='width: 10000px; height: 100px;'></div></div>",t.document.body.appendChild(e);var n=e.firstChild;n.scrollLeft>0&&(re=!0),n.scrollLeft+=100,0===n.scrollLeft&&(oe=!0),t.document.body.removeChild(e),ie=!0}function P(e){var n=t.getComputedStyle(e),i=e.scrollLeft;return"rtl"===n.direction&&(ie||A(),re&&(i=e.scrollWidth-e.clientWidth-i),i=Math.abs(i)),{scrollLeft:i,scrollTop:e.scrollTop}}function M(e,n,i){if(void 0!==n){var r=t.getComputedStyle(e);"rtl"===r.direction&&(ie||A(),oe?n=-n:re&&(n=e.scrollWidth-e.clientWidth-n)),e.scrollLeft=n}void 0!==i&&(e.scrollTop=i)}function N(e){return P(e)}function W(e,t){t=t||{},M(e,t.scrollLeft,t.scrollTop)}function O(e){return e.uniqueID||e._uniqueID||(e._uniqueID="element__"+ ++ce),e.uniqueID||e._uniqueID}function q(e){e.id||(e.id=O(e))}function D(e){var n=t.document.documentElement,i=N(n);return{left:e.clientX+("rtl"===t.document.body.dir?-i.scrollLeft:i.scrollLeft),top:e.clientY+n.scrollTop}}function F(e,t){for(var n=[],i=0,r=t.length;r>i;i++){var o=e.querySelector("."+t[i]);o&&n.push(o)}return n}if(t.document){var R=167,j=/^-?\d+\.?\d*(px)?$/i,U=/^-?\d+/i,z=t.MSGestureEvent||{MSGESTURE_FLAG_BEGIN:1,MSGESTURE_FLAG_CANCEL:4,MSGESTURE_FLAG_END:2,MSGESTURE_FLAG_INERTIA:8,MSGESTURE_FLAG_NONE:0},J=t.MSManipulationEvent||{MS_MANIPULATION_STATE_ACTIVE:1,MS_MANIPULATION_STATE_CANCELLED:6,MS_MANIPULATION_STATE_COMMITTED:7,MS_MANIPULATION_STATE_DRAGGING:5,MS_MANIPULATION_STATE_INERTIA:2,MS_MANIPULATION_STATE_PRESELECT:3,MS_MANIPULATION_STATE_SELECTING:4,MS_MANIPULATION_STATE_STOPPED:0},H=t.MSPointerEvent||{MSPOINTER_TYPE_TOUCH:"touch",MSPOINTER_TYPE_PEN:"pen",MSPOINTER_TYPE_MOUSE:"mouse"},K="onfocusin"in t.document.documentElement,V=null;t.addEventListener(K?"focusout":"blur",function(e){if(e.target===t){var n=V;n&&S(n,"focusout",w({type:"focusout",target:n,relatedTarget:null})),V=null}}),t.document.documentElement.addEventListener(K?"focusin":"focus",function(e){var t=V;V=e.target,t&&S(t,"focusout",w({type:"focusout",target:t,relatedTarget:V})),V&&S(V,"focusin",w({type:"focusin",target:V,relatedTarget:t}))},!0);var G=function(e,t){t=t||{},this.__eventObject=e;var n=this;Object.keys(t).forEach(function(e){Object.defineProperty(n,e,{value:t[e]})})};["altKey","AT_TARGET","bubbles","BUBBLING_PHASE","button","buttons","cancelable","cancelBubble","CAPTURING_PHASE","clientX","clientY","ctrlKey","currentTarget","defaultPrevented","detail","eventPhase","fromElement","getModifierState","height","hwTimestamp","initEvent","initMouseEvent","initPointerEvent","initUIEvent","isPrimary","isTrusted","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","pointerId","pointerType","pressure","preventDefault","relatedTarget","rotation","screenX","screenY","shiftKey","srcElement","stopImmediatePropagation","stopPropagation","target","tiltX","tiltY","timeStamp","toElement","type","view","which","width","x","y","_normalizedType","_fakedBySemanticZoom"].forEach(function(e){Object.defineProperty(G.prototype,e,{get:function(){var t=this.__eventObject[e];return"function"==typeof t?t.bind(this.__eventObject):t},configurable:!0})});var Y={pointerdown:{touch:"touchstart",mspointer:"MSPointerDown",mouse:"mousedown"},pointerup:{touch:"touchend",mspointer:"MSPointerUp",mouse:"mouseup"},pointermove:{touch:"touchmove",mspointer:"MSPointerMove",mouse:"mousemove"},pointerenter:{touch:"touchenter",mspointer:"MSPointerEnter",mouse:"mouseenter"},pointerover:{touch:null,mspointer:"MSPointerOver",mouse:"mouseover"},pointerout:{touch:"touchleave",mspointer:"MSPointerOut",mouse:"mouseout"},pointercancel:{touch:"touchcancel",mspointer:"MSPointerCancel",mouse:null}},X={focusout:{register:C,unregister:k},focusin:{register:C,unregister:k}};if(!t.PointerEvent){var Q={register:L,unregister:B};X.pointerdown=Q,X.pointerup=Q,X.pointermove=Q,X.pointerenter=Q,X.pointerover=Q,X.pointerout=Q,X.pointercancel=Q}var $=n.Class.define(function(e){this._callback=e,this._toDispose=[],this._attributeFilter=[],this._scheduled=!1,this._pendingChanges=[],this._observerCount=0,this._handleCallback=this._handleCallback.bind(this),this._targetElements=[]},{observe:function(e,t){-1===this._targetElements.indexOf(e)&&this._targetElements.push(e),this._observerCount++,t.attributes&&this._addRemovableListener(e,"DOMAttrModified",this._handleCallback),t.attributeFilter&&(this._attributeFilter=t.attributeFilter)},disconnect:function(){this._observerCount=0,this._targetElements=[],this._toDispose.forEach(function(e){e()})},_addRemovableListener:function(e,t,n){e.addEventListener(t,n),this._toDispose.push(function(){e.removeEventListener(t,n)})},_handleCallback:function(e){e.stopPropagation();var t=e.attrName;if((!this._attributeFilter.length||-1!==this._attributeFilter.indexOf(t))&&-1!==this._targetElements.indexOf(e.target)){var n=t.indexOf("aria")>=0;"tabindex"===t&&(t="tabIndex"),this._pendingChanges.push({type:"attributes",target:e.target,attributeName:t}),1!==this._observerCount||n?this._scheduled===!1&&(this._scheduled=!0,i._setImmediate(this._dispatchEvent.bind(this))):this._dispatchEvent()}},_dispatchEvent:function(){try{this._callback(this._pendingChanges)}finally{this._pendingChanges=[],this._scheduled=!1}}},{_isShim:!0}),Z=t.MutationObserver||$,ee=null,te=n.Class.define(function(){t.addEventListener("resize",this._handleResize.bind(this))},{subscribe:function(e,t){e.addEventListener(this._resizeEvent,t),u(e,this._resizeClass)},unsubscribe:function(e,t){d(e,this._resizeClass),e.removeEventListener(this._resizeEvent,t)},_handleResize:function(){for(var e=t.document.querySelectorAll("."+this._resizeClass),n=e.length,i=0;n>i;i++){var r=t.document.createEvent("Event");r.initEvent(this._resizeEvent,!1,!0),e[i].dispatchEvent(r)}},_resizeClass:{get:function(){return"win-element-resize"}},_resizeEvent:{get:function(){return"WinJSElementResize"}}}),ne=n.Class.define(function(e,t,n){n=n||{},this.registerThruWinJSCustomEvents=!!n.registerThruWinJSCustomEvents,this.objectName=e,this.object=t,this.capture={},this.bubble={}},{addEventListener:function(t,n,i,r){n=n.toLowerCase();var o=this._getHandlers(r),a=o[n];a||(a=this._getListener(n,r),a.refCount=0,o[n]=a,this.registerThruWinJSCustomEvents?e._addEventListener(this.object,n,a,r):this.object.addEventListener(n,a,r)),a.refCount++,t.addEventListener(this._getEventName(n,r),i),u(t,this._getClassName(n,r))},removeEventListener:function(t,n,i,r){n=n.toLowerCase();var o=this._getHandlers(r),a=o[n];a&&(a.refCount--,0===a.refCount&&(this.registerThruWinJSCustomEvents?e._removeEventListener(this.object,n,a,r):this.object.removeEventListener(n,a,r),delete o[n])),d(t,this._getClassName(n,r)),t.removeEventListener(this._getEventName(n,r),i)},_getHandlers:function(e){return e?this.capture:this.bubble},_getClassName:function(e,t){var n=t?"capture":"bubble";return"win-"+this.objectName.toLowerCase()+"-event-"+e+n},_getEventName:function(e,t){var n=t?"capture":"bubble";return"WinJS"+this.objectName+"Event-"+e+n},_getListener:function(e,n){var i=function(i){for(var r=t.document.querySelectorAll("."+this._getClassName(e,n)),o=r.length,a=!1,s=0;o>s;s++){var c=t.document.createEvent("Event");c.initEvent(this._getEventName(e,n),!1,!0),c.detail={originalEvent:i};var l=r[s].dispatchEvent(c);a=a||!l}return a};return i.bind(this)}}),ie=!1,re=!1,oe=!1,ae=t.navigator.msManipulationViewsEnabled||t.navigator.userAgent.indexOf("MSAppHost")>=0,se=!(!t.MSPointerEvent&&!t.TouchEvent),ce=0,le=".win-selectionborder, .win-selectionbackground, .win-selectioncheckmark, .win-selectioncheckmarkbackground",ue="_msDataKey";n.Namespace._moduleDefine(e,"WinJS.Utilities",{_dataKey:ue,_supportsSnapPoints:{get:function(){return ae}},_supportsTouchDetection:{get:function(){return se}},_uniqueID:O,_ensureId:q,_clamp:m,_getCursorPos:D,_getElementsByClasses:F,_createGestureRecognizer:function(){if(t.MSGesture)return new t.MSGesture;var e=function(){};return{addEventListener:e,removeEventListener:e,addPointer:e,stop:e}},_MSGestureEvent:z,_MSManipulationEvent:J,_elementsFromPoint:function(e,n){if(t.document.msElementsFromPoint)return t.document.msElementsFromPoint(e,n);var i=t.document.elementFromPoint(e,n);return i?[i]:null},_matchesSelector:function(e,t){var n=e.matches||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector;return n.call(e,t)},_selectionPartsSelector:le,_isSelectionRendered:function(e){return e.querySelectorAll(le).length>0},_addEventListener:function(e,t,n,r){var o=t&&t.toLowerCase(),a=X[o],s=i._browserEventEquivalents[t];a?a.register(e,t,n,r):s?e.addEventListener(s,n,r):e.addEventListener(t,n,r)},_removeEventListener:function(e,t,n,r){var o=t&&t.toLowerCase(),a=X[o],s=i._browserEventEquivalents[t];a?a.unregister(e,t,n,r):s?e.removeEventListener(s,n,r):e.removeEventListener(t,n,r)},_initEventImpl:function(e,t,n){n=n.toLowerCase();var i=Y[n];if(i)switch(e.toLowerCase()){case"pointer":arguments[2]=i.mspointer;break;default:arguments[2]=i[e.toLowerCase()]}t["init"+e+"Event"].apply(t,Array.prototype.slice.call(arguments,2))},_initMouseEvent:function(e){this._initEventImpl.apply(this,["Mouse",e].concat(Array.prototype.slice.call(arguments,1)))},_initPointerEvent:function(e){this._initEventImpl.apply(this,["Pointer",e].concat(Array.prototype.slice.call(arguments,1)))},_PointerEventProxy:G,_bubbleEvent:S,_setPointerCapture:function(e,t){e.setPointerCapture&&e.setPointerCapture(t)},_releasePointerCapture:function(e,t){e.releasePointerCapture&&e.releasePointerCapture(t)},_MSPointerEvent:H,_zoomToDuration:R,_zoomTo:function(e,n){this._supportsSnapPoints&&e.msZoomTo?e.msZoomTo(n):a.schedule(function(){var r=P(e),o="number"==typeof e._zoomToDestX?e._zoomToDestX:r.scrollLeft,a="number"==typeof e._zoomToDestY?e._zoomToDestY:r.scrollTop,s=t.getComputedStyle(e),c=e.scrollWidth-parseInt(s.width,10)-parseInt(s.paddingLeft,10)-parseInt(s.paddingRight,10),l=e.scrollHeight-parseInt(s.height,10)-parseInt(s.paddingTop,10)-parseInt(s.paddingBottom,10);"number"!=typeof n.contentX&&(n.contentX=o),"number"!=typeof n.contentY&&(n.contentY=a);var u=m(n.contentX,0,c),d=m(n.contentY,0,l);if(u!==o||d!==a){e._zoomToId=e._zoomToId||0,e._zoomToId++,e._zoomToDestX=u,e._zoomToDestY=d;var p=e._zoomToId,f=i._now(),h=(e._zoomToDestX-r.scrollLeft)/R,_=(e._zoomToDestY-r.scrollTop)/R,g=function(){var t=i._now()-f;e._zoomToId===p&&(t>R?(M(e,e._zoomToDestX,e._zoomToDestY),e._zoomToDestX=null,e._zoomToDestY=null):(M(e,r.scrollLeft+t*h,r.scrollTop+t*_),i._requestAnimationFrame(g)))};i._requestAnimationFrame(g)}},a.Priority.high,null,"WinJS.Utilities._zoomTo")},_setActive:function(e,n){var i=!0;try{if(t.HTMLElement&&t.HTMLElement.prototype.setActive)e.setActive();else{var r,o;n&&(r=n.scrollLeft,o=n.scrollTop),e.focus(),n&&(n.scrollLeft=r,n.scrollTop=o)}}catch(a){i=!1}return i},_MutationObserver:Z,_resizeNotifier:{get:function(){return ee||(ee=new te),ee}},_GenericListener:ne,_globalListener:new ne("Global",t,{registerThruWinJSCustomEvents:!0}),_documentElementListener:new ne("DocumentElement",t.document.documentElement,{registerThruWinJSCustomEvents:!0}),_inputPaneListener:r.Windows.UI.ViewManagement.InputPane?new ne("InputPane",r.Windows.UI.ViewManagement.InputPane.getForCurrentView()):{addEventListener:function(){},removeEventListener:function(){}},_addInsertedNotifier:function(n){var r=t.document.createElement("div");return r.style[i._browserStyleEquivalents["animation-name"].scriptName]="WinJS-node-inserted",r.style[i._browserStyleEquivalents["animation-duration"].scriptName]="0.01s",r.style.position="absolute",n.appendChild(r),e._addEventListener(r,"animationStart",function(e){if("WinJS-node-inserted"===e.animationName){var e=t.document.createEvent("Event");e.initEvent("WinJSNodeInserted",!1,!0),n.dispatchEvent(e)}},!1),r},_inDom:function(n){return new o(function(i){if(t.document.body.contains(n))i();else{var r=function(){n.removeEventListener("WinJSNodeInserted",r,!1),i()};e._addInsertedNotifier(n),n.addEventListener("WinJSNodeInserted",r,!1)}})},_setFlexStyle:function(e,t){var n=e.style;"undefined"!=typeof t.grow&&(n.msFlexPositive=t.grow,n.webkitFlexGrow=t.grow,n.flexGrow=t.grow),"undefined"!=typeof t.shrink&&(n.msFlexNegative=t.shrink,n.webkitFlexShrink=t.shrink,n.flexShrink=t.shrink),"undefined"!=typeof t.basis&&(n.msFlexPreferredSize=t.basis,n.webkitFlexBasis=t.basis,n.flexBasis=t.basis)},Key:{backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capsLock:20,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40,insert:45,deleteKey:46,num0:48,num1:49,num2:50,num3:51,num4:52,num5:53,num6:54,num7:55,num8:56,num9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftWindows:91,rightWindows:92,menu:93,numPad0:96,numPad1:97,numPad2:98,numPad3:99,numPad4:100,numPad5:101,numPad6:102,numPad7:103,numPad8:104,numPad9:105,multiply:106,add:107,subtract:109,decimalPoint:110,divide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NavigationView:136,NavigationMenu:137,NavigationUp:138,NavigationDown:139,NavigationLeft:140,NavigationRight:141,NavigationAccept:142,NavigationCancel:143,numLock:144,scrollLock:145,browserBack:166,browserForward:167,semicolon:186,equal:187,comma:188,dash:189,period:190,forwardSlash:191,graveAccent:192,GamepadA:195,GamepadB:196,GamepadX:197,GamepadY:198,GamepadRightShoulder:199,GamepadLeftShoulder:200,GamepadLeftTrigger:201,GamepadRightTrigger:202,GamepadDPadUp:203,GamepadDPadDown:204,GamepadDPadLeft:205,GamepadDPadRight:206,GamepadMenu:207,GamepadView:208,GamepadLeftThumbstick:209,GamepadRightThumbstick:210,GamepadLeftThumbstickUp:211,GamepadLeftThumbstickDown:212,GamepadLeftThumbstickRight:213,GamepadLeftThumbstickLeft:214,GamepadRightThumbstickUp:215,GamepadRightThumbstickDown:216,GamepadRightThumbstickRight:217,GamepadRightThumbstickLeft:218,openBracket:219,backSlash:220,closeBracket:221,singleQuote:222,IME:229},data:function(e){return e[ue]||(e[ue]={}),e[ue]},hasClass:function(e,t){if(e.classList)return e.classList.contains(t);for(var n=c(e),i=n.trim().split(" "),r=i.length,o=0;r>o;o++)if(i[o]===t)return!0;return!1},addClass:u,removeClass:d,toggleClass:p,_setAttribute:f,getRelativeLeft:function(e,t){if(!e)return 0;for(var n=e.offsetLeft,i=e.parentNode;i&&(n-=i.offsetLeft,i!==t);)i=i.parentNode;return n},getRelativeTop:function(e,t){if(!e)return 0;for(var n=e.offsetTop,i=e.parentNode;i&&(n-=i.offsetTop,i!==t);)i=i.parentNode;return n},getScrollPosition:N,setScrollPosition:W,empty:function(e){if(e.childNodes&&e.childNodes.length>0)for(var t=e.childNodes.length-1;t>=0;t--)e.removeChild(e.childNodes.item(t));return e},_isDOMElement:function(e){return e&&"object"==typeof e&&"string"==typeof e.tagName},getContentWidth:function(e){var t=_(e,"borderLeftWidth")+_(e,"borderRightWidth"),n=_(e,"paddingLeft")+_(e,"paddingRight");return e.offsetWidth-t-n},_getPreciseContentWidth:function(e){var t=y(e,"borderLeftWidth")+y(e,"borderRightWidth"),n=y(e,"paddingLeft")+y(e,"paddingRight");return e.offsetWidth-t-n},getTotalWidth:function(e){var t=_(e,"marginLeft")+_(e,"marginRight");return e.offsetWidth+t},_getPreciseTotalWidth:function(e){var t=y(e,"marginLeft")+y(e,"marginRight");return e.offsetWidth+t},getContentHeight:function(e){var t=_(e,"borderTopWidth")+_(e,"borderBottomWidth"),n=_(e,"paddingTop")+_(e,"paddingBottom");return e.offsetHeight-t-n},_getPreciseContentHeight:function(e){var t=y(e,"borderTopWidth")+y(e,"borderBottomWidth"),n=y(e,"paddingTop")+y(e,"paddingBottom");return e.offsetHeight-t-n},getTotalHeight:function(e){var t=_(e,"marginTop")+_(e,"marginBottom");return e.offsetHeight+t},_getPreciseTotalHeight:function(e){var t=y(e,"marginTop")+y(e,"marginBottom");return e.offsetHeight+t},getPosition:function(t){return e._getPositionRelativeTo(t,null)},getTabIndex:function(e){var t=/BUTTON|COMMAND|MENUITEM|OBJECT|SELECT|TEXTAREA/;if(e.disabled)return-1;var n=e.getAttribute("tabindex");if(null===n||void 0===n){var i=e.tagName;return t.test(i)||e.href&&("A"===i||"AREA"===i||"LINK"===i)||"INPUT"===i&&"hidden"!==e.type||"TH"===i&&e.sorted?0:-1}return parseInt(n,10)},convertToPixels:h,_convertToPrecisePixels:g,_getPreciseMargins:v,eventWithinElement:function(e,t){var n=t.relatedTarget;return n&&n!==e?e.contains(n):!1},_deprecated:function(e){t.console&&t.console.warn(e)},_syncRenderer:function(e,n){if(n=n||"div","function"==typeof e)return function(t,n){return n?(n.appendChild(e(t)),n):e(t)};var i;return"function"==typeof e.render?i=e:e.winControl&&"function"==typeof e.winControl.render&&(i=e.winControl),function(e,r){var o=r||t.document.createElement(n);if(i.render(e,o),r)return r;var a=o.firstElementChild;if(a&&o.dispose){var s=a.dispose;a.dispose=function(){a.dispose=s,o.appendChild(a),o.dispose()}}return a}},_getPositionRelativeTo:function(e,n){for(var i=e,r=e.offsetParent,o=e.offsetTop,a=e.offsetLeft;(e=e.parentNode)&&e!==n&&e!==t.document.body&&e!==t.document.documentElement;){o-=e.scrollTop;var s=t.document.defaultView.getComputedStyle(e,null).direction;a-="rtl"!==s?e.scrollLeft:-P(e).scrollLeft,e===r&&(o+=e.offsetTop,a+=e.offsetLeft,r=e.offsetParent)}return{left:a,top:o,width:i.offsetWidth,height:i.offsetHeight}},_getHighAndLowTabIndices:function(e){for(var t=e.getElementsByTagName("*"),n=0,i=0,r=!1,o=0,a=t.length;a>o;o++){var s=t[o].getAttribute("tabIndex");if(null!==s&&void 0!==s){var c=parseInt(s,10);c>0&&(n>c||0===n)&&(n=c),r||(0===c?(r=!0,i=0):c>i&&(i=c))}}return{highest:i,lowest:n}},_getLowestTabIndexInList:function(e){for(var t,n=0,i=0;i<e.length;i++)t=parseInt(e[i].getAttribute("tabIndex"),10),t>0&&(n>t||!n)&&(n=t);return n},_getHighestTabIndexInList:function(e){for(var t,n=0,i=0;i<e.length;i++){if(t=parseInt(e[i].getAttribute("tabIndex"),10),0===t)return t;t>n&&(n=t)}return n},_hasCursorKeysBehaviors:function(e){return"SELECT"===e.tagName||"TEXTAREA"===e.tagName?!0:"INPUT"===e.tagName?""===e.type||"date"===e.type||"datetime"===e.type||"datetime-local"===e.type||"email"===e.type||"month"===e.type||"number"===e.type||"password"===e.type||"range"===e.type||"search"===e.type||"tel"===e.type||"text"===e.type||"time"===e.type||"url"===e.type||"week"===e.type:!1},_reparentChildren:function(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}},_maintainFocus:function(n){var i=t.document.activeElement;n(),e._trySetActiveOnAnyElement(i)},_trySetActiveOnAnyElement:function(t,n){return e._tryFocusOnAnyElement(t,!0,n)},_tryFocusOnAnyElement:function(n,i,r){var o=t.document.activeElement;return n===o?!0:(i?e._setActive(n,r):n.focus(),o!==t.document.activeElement)},_trySetActive:function(e,t){return this._tryFocus(e,!0,t)},_tryFocus:function(n,i,r){var o=t.document.activeElement;if(n===o)return!0;var a=e.getTabIndex(n)>=0;return a?(i?e._setActive(n,r):n.focus(),o!==t.document.activeElement?!0:!1):!1},_setActiveFirstFocusableElement:function(e,t){return this._focusFirstFocusableElement(e,!0,t)},_focusFirstFocusableElement:function(e,t,n){for(var i,r=e.getElementsByTagName("*"),o=this._getLowestTabIndexInList(r),a=0;o;){for(i=0;i<r.length;i++)if(r[i].tabIndex===o){if(this._tryFocus(r[i],t,n))return!0}else o<r[i].tabIndex&&(r[i].tabIndex<a||0===a)&&(a=r[i].tabIndex);o=a,a=0}for(i=0;i<r.length;i++)if(this._tryFocus(r[i],t,n))return!0;return!1},_setActiveLastFocusableElement:function(e,t){return this._focusLastFocusableElement(e,!0,t)},_focusLastFocusableElement:function(e,t,n){var i,r=e.getElementsByTagName("*"),o=this._getHighestTabIndexInList(r),a=0;if(0===o){for(i=r.length-1;i>=0;i--)if(r[i].tabIndex===o){if(this._tryFocus(r[i],t,n))return!0}else a<r[i].tabIndex&&(a=r[i].tabIndex);o=a,a=0}for(;o;){for(i=r.length-1;i>=0;i--)if(r[i].tabIndex===o){if(this._tryFocus(r[i],t,n))return!0}else a<r[i].tabIndex&&r[i].tabIndex<o&&(a=r[i].tabIndex);o=a,a=0}for(i=r.length-2;i>0;i--)if(this._tryFocus(r[i],t,n))return!0;return!1}})}}),define("WinJS/Utilities/_Dispose",["exports","../Core/_Base","../Core/_WriteProfilerMark","./_ElementUtilities"],function(e,t,n,i){"use strict";function r(e,t){var n=!1;i.addClass(e,"win-disposable");var r=e.winControl||e;r.dispose=function(){n||(n=!0,o(e),t&&t())}}function o(e){if(e){n("WinJS.Utilities.disposeSubTree,StartTM");for(var t=e.querySelectorAll(".win-disposable"),i=0,r=t.length;r>i;){var o=t[i];o.winControl&&o.winControl.dispose&&o.winControl.dispose(),o.dispose&&o.dispose(),i+=o.querySelectorAll(".win-disposable").length+1}n("WinJS.Utilities.disposeSubTree,StopTM")}}function a(e){if(e){var t=!1;e.winControl&&e.winControl.dispose&&(e.winControl.dispose(),t=!0),e.dispose&&(e.dispose(),t=!0),t||o(e)}}t.Namespace._moduleDefine(e,"WinJS.Utilities",{markDisposable:r,disposeSubTree:o,_disposeElement:a})}),define("WinJS/ControlProcessor/_OptionsLexer",["exports","../Core/_Base"],function optionsLexerInit(exports,_Base){"use strict";_Base.Namespace._moduleDefine(exports,"WinJS.UI",{_optionsLexer:_Base.Namespace._lazy(function(){function reservedWord(e){return{type:tokenType.reservedWord,value:e,length:e.length,keyword:!0}}function reservedWordLookup(e){switch(e.charCodeAt(0)){case 98:switch(e){case"break":return reservedWord(e)}break;case 99:switch(e){case"case":case"catch":case"class":case"const":case"continue":return reservedWord(e)}break;case 100:switch(e){case"debugger":case"default":case"delete":case"do":return reservedWord(e)}break;case 101:switch(e){case"else":case"enum":case"export":case"extends":return reservedWord(e)}break;case 102:switch(e){case"false":return tokens.falseLiteral;case"finally":case"for":case"function":return reservedWord(e)}break;case 105:switch(e){case"if":case"import":case"in":case"instanceof":return reservedWord(e)}break;case 110:switch(e){case"null":return tokens.nullLiteral;case"new":return reservedWord(e)}break;case 114:switch(e){case"return":return reservedWord(e)}break;case 115:switch(e){case"super":case"switch":return reservedWord(e)}break;case 116:switch(e){case"true":return tokens.trueLiteral;case"this":return tokens.thisKeyword;case"throw":case"try":case"typeof":return reservedWord(e)}break;case 118:switch(e){case"var":case"void":return reservedWord(e)}break;case 119:switch(e){case"while":case"with":return reservedWord(e)}}}var tokenType={leftBrace:1,rightBrace:2,leftBracket:3,rightBracket:4,separator:5,colon:6,semicolon:7,comma:8,dot:9,nullLiteral:10,trueLiteral:11,falseLiteral:12,numberLiteral:13,stringLiteral:14,identifier:15,reservedWord:16,thisKeyword:17,leftParentheses:18,rightParentheses:19,
eof:20,error:21},tokens={leftBrace:{type:tokenType.leftBrace,length:1},rightBrace:{type:tokenType.rightBrace,length:1},leftBracket:{type:tokenType.leftBracket,length:1},rightBracket:{type:tokenType.rightBracket,length:1},colon:{type:tokenType.colon,length:1},semicolon:{type:tokenType.semicolon,length:1},comma:{type:tokenType.comma,length:1},dot:{type:tokenType.dot,length:1},nullLiteral:{type:tokenType.nullLiteral,length:4,value:null,keyword:!0},trueLiteral:{type:tokenType.trueLiteral,length:4,value:!0,keyword:!0},falseLiteral:{type:tokenType.falseLiteral,length:5,value:!1,keyword:!0},thisKeyword:{type:tokenType.thisKeyword,length:4,value:"this",keyword:!0},leftParentheses:{type:tokenType.leftParentheses,length:1},rightParentheses:{type:tokenType.rightParentheses,length:1},eof:{type:tokenType.eof,length:0}},lexer=function(){function isIdentifierStartCharacter(e,t,n,i){switch(e){case e>=97&&122>=e&&e:case e>=65&&90>=e&&e:case 36:case 95:return!0;case isWhitespace(e)&&e:case isLineTerminator(e)&&e:return!1;case e>127&&e:return!0;case 92:return i>n+4&&117===t.charCodeAt(n)&&isHexDigit(t.charCodeAt(n+1))&&isHexDigit(t.charCodeAt(n+2))&&isHexDigit(t.charCodeAt(n+3))&&isHexDigit(t.charCodeAt(n+4))?!0:!1;default:return!1}}function readIdentifierPart(e,t,n){for(var i=!1;n>t;){var r=e.charCodeAt(t);switch(r){case r>=97&&122>=r&&r:case r>=65&&90>=r&&r:case 36:case 95:break;case isWhitespace(r)&&r:case isLineTerminator(r)&&r:return i?-t:t;case r>127&&r:break;case r>=48&&57>=r&&r:break;case 92:if(n>t+5&&117===e.charCodeAt(t+1)&&isHexDigit(e.charCodeAt(t+2))&&isHexDigit(e.charCodeAt(t+3))&&isHexDigit(e.charCodeAt(t+4))&&isHexDigit(e.charCodeAt(t+5))){t+=5,i=!0;break}return i?-t:t;default:return i?-t:t}t++}return i?-t:t}function readIdentifierToken(e,t,n){var i=t;t=readIdentifierPart(e,t,n);var r=!1;0>t&&(t=-t,r=!0);var o=e.substr(i,t-i);r&&(o=""+JSON.parse('"'+o+'"'));var a=reservedWordLookup(o);return a?a:{type:tokenType.identifier,length:t-i,value:o}}function isHexDigit(e){switch(e){case e>=48&&57>=e&&e:case e>=97&&102>=e&&e:case e>=65&&70>=e&&e:return!0;default:return!1}}function readHexIntegerLiteral(e,t,n){for(;n>t&&isHexDigit(e.charCodeAt(t));)t++;return t}function isDecimalDigit(e){switch(e){case e>=48&&57>=e&&e:return!0;default:return!1}}function readDecimalDigits(e,t,n){for(;n>t&&isDecimalDigit(e.charCodeAt(t));)t++;return t}function readDecimalLiteral(e,t,n){if(t=readDecimalDigits(e,t,n),n>t&&46===e.charCodeAt(t)&&n>t+1&&isDecimalDigit(e.charCodeAt(t+1))&&(t=readDecimalDigits(e,t+2,n)),n>t){var i=e.charCodeAt(t);if(101===i||69===i){var r=t+1;n>r&&(i=e.charCodeAt(r),(43===i||45===i)&&r++,t=readDecimalDigits(e,r,n))}}return t}function readDecimalLiteralToken(e,t,n,i){var n=readDecimalLiteral(e,n,i),r=n-t;return{type:tokenType.numberLiteral,length:r,value:+e.substr(t,r)}}function isLineTerminator(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function readStringLiteralToken(text,offset,limit){var startOffset=offset,quoteCharCode=text.charCodeAt(offset),hasEscape=!1;for(offset++;limit>offset&&!isLineTerminator(text.charCodeAt(offset));){if(limit>offset+1&&92===text.charCodeAt(offset))switch(hasEscape=!0,text.charCodeAt(offset+1)){case quoteCharCode:case 92:case 10:case 8232:case 8233:offset+=2;continue;case 13:offset+=limit>offset+2&&10===text.charCodeAt(offset+2)?3:2;continue}if(offset++,text.charCodeAt(offset-1)===quoteCharCode)break}var length=offset-startOffset;hasEscape=hasEscape||1===length||text.charCodeAt(offset-1)!==quoteCharCode;var stringValue;return stringValue=hasEscape?eval(text.substr(startOffset,length)):text.substr(startOffset+1,length-2),{type:tokenType.stringLiteral,length:length,value:stringValue}}function isWhitespace(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 65279:return!0;case 5760>e&&e:return!1;case 5760:case 6158:case e>=8192&&8202>=e&&e:case 8239:case 8287:case 12288:return!0;default:return!1}}function readWhitespace(e,t,n){for(;n>t;){var i=e.charCodeAt(t);switch(i){case 9:case 11:case 12:case 32:case 160:case 65279:break;case 5760>i&&i:return t;case 5760:case 6158:case i>=8192&&8202>=i&&i:case 8239:case 8287:case 12288:break;default:return t}t++}return t}function lex(e,t,n,i){for(;i>n;){var r,o=n,a=t.charCodeAt(n++);switch(a){case isWhitespace(a)&&a:case isLineTerminator(a)&&a:n=readWhitespace(t,n,i),r={type:tokenType.separator,length:n-o};continue;case 34:case 39:r=readStringLiteralToken(t,n-1,i);break;case 40:r=tokens.leftParentheses;break;case 41:r=tokens.rightParentheses;break;case 43:case 45:if(i>n){var s=t.charCodeAt(n);if(46===s){var c=n+1;if(i>c&&isDecimalDigit(t.charCodeAt(c))){r=readDecimalLiteralToken(t,o,c,i);break}}else if(isDecimalDigit(s)){r=readDecimalLiteralToken(t,o,n,i);break}}r={type:tokenType.error,length:n-o,value:t.substring(o,n)};break;case 44:r=tokens.comma;break;case 46:r=tokens.dot,i>n&&isDecimalDigit(t.charCodeAt(n))&&(r=readDecimalLiteralToken(t,o,n,i));break;case 48:var l=i>n?t.charCodeAt(n):0;if(120===l||88===l){var u=readHexIntegerLiteral(t,n+1,i);r={type:tokenType.numberLiteral,length:u-o,value:+t.substr(o,u-o)}}else r=readDecimalLiteralToken(t,o,n,i);break;case a>=49&&57>=a&&a:r=readDecimalLiteralToken(t,o,n,i);break;case 58:r=tokens.colon;break;case 59:r=tokens.semicolon;break;case 91:r=tokens.leftBracket;break;case 93:r=tokens.rightBracket;break;case 123:r=tokens.leftBrace;break;case 125:r=tokens.rightBrace;break;default:if(isIdentifierStartCharacter(a,t,n,i)){r=readIdentifierToken(t,n-1,i);break}r={type:tokenType.error,length:n-o,value:t.substring(o,n)}}n+=r.length-1,e.push(r)}}return function(e){var t=[];return lex(t,e,0,e.length),t.push(tokens.eof),t}}();return lexer.tokenType=tokenType,lexer})})}),define("WinJS/ControlProcessor/_OptionsParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","./_OptionsLexer"],function(e,t,n,i,r,o){"use strict";function a(){throw"Illegal"}function s(e){for(var t=Object.keys(l.tokenType),n=0,i=t.length;i>n;n++)if(e===l.tokenType[t[n]])return t[n];return"<unknown>"}var c={get invalidOptionsRecord(){return"Invalid options record: '{0}', expected to be in the format of an object literal. {1}"},get unexpectedTokenExpectedToken(){return"Unexpected token: {0}, expected token: {1}, at offset {2}"},get unexpectedTokenExpectedTokens(){return"Unexpected token: {0}, expected one of: {1}, at offset {2}"},get unexpectedTokenGeneric(){return"Unexpected token: {0}, at offset {1}"}},l=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return o._optionsLexer}),tokenType:t.Namespace._lazy(function(){return o._optionsLexer.tokenType})}),u=n.requireSupportedForProcessing,d=t.Namespace.defineWithParent(null,null,{BaseInterpreter:t.Namespace._lazy(function(){return t.Class.define(null,{_error:function(e){throw new i("WinJS.UI.ParseError",e)},_currentOffset:function(){for(var e=this._pos,t=0,n=0;e>n;n++)t+=this._tokens[n].length;return t},_evaluateAccessExpression:function(e){switch(this._current.type){case l.tokenType.dot:switch(this._read(),this._current.type){case l.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),e[t];default:this._unexpectedToken(l.tokenType.identifier,l.tokenType.reservedWord)}return;case l.tokenType.leftBracket:this._read();var n=this._evaluateValue();return this._read(l.tokenType.rightBracket),e[n]}},_evaluateAccessExpressions:function(e){for(;;)switch(this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:e=this._evaluateAccessExpression(e);break;default:return e}},_evaluateIdentifier:function(e,t){var n=this._readIdentifier();return t=e?t[n]:this._context[n]},_evaluateIdentifierExpression:function(){var e=this._evaluateIdentifier(!1);switch(this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:return this._evaluateAccessExpressions(e);default:return e}},_initialize:function(e,t,n,i){this._originalSource=t,this._tokens=e,this._context=n,this._functionContext=i,this._pos=0,this._current=this._tokens[0]},_read:function(e){e&&this._current.type!==e&&this._unexpectedToken(e),this._current!==l.tokenType.eof&&(this._current=this._tokens[++this._pos])},_peek:function(e){return e&&this._current.type!==e?void 0:this._current!==l.tokenType.eof?this._tokens[this._pos+1]:void 0},_readAccessExpression:function(e){switch(this._current.type){case l.tokenType.dot:switch(this._read(),this._current.type){case l.tokenType.identifier:case this._current.keyword&&this._current.type:e.push(this._current.value),this._read();break;default:this._unexpectedToken(l.tokenType.identifier,l.tokenType.reservedWord)}return;case l.tokenType.leftBracket:return this._read(),e.push(this._evaluateValue()),void this._read(l.tokenType.rightBracket)}},_readAccessExpressions:function(e){for(;;)switch(this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:this._readAccessExpression(e);break;default:return}},_readIdentifier:function(){var e=this._current.value;return this._read(l.tokenType.identifier),e},_readIdentifierExpression:function(){var e=[];switch(this._peek(l.tokenType.thisKeyword)&&0===e.length?this._read():e.push(this._readIdentifier()),this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:this._readAccessExpressions(e)}return e},_unexpectedToken:function(e){var t=this._current.type===l.tokenType.error?"'"+this._current.value+"'":s(this._current.type);if(e)if(1===arguments.length)e=s(e),this._error(r._formatString(c.unexpectedTokenExpectedToken,t,e,this._currentOffset()));else{for(var n=[],i=0,o=arguments.length;o>i;i++)n.push(s(arguments[i]));e=n.join(", "),this._error(r._formatString(c.unexpectedTokenExpectedTokens,t,e,this._currentOffset()))}else this._error(r._formatString(c.unexpectedTokenGeneric,t,this._currentOffset()))}},{supportedForProcessing:!1})}),OptionsInterpreter:t.Namespace._lazy(function(){return t.Class.derive(d.BaseInterpreter,function(e,t,n,i){this._initialize(e,t,n,i)},{_error:function(e){throw new i("WinJS.UI.ParseError",r._formatString(c.invalidOptionsRecord,this._originalSource,e))},_evaluateArrayLiteral:function(){var e=[];return this._read(l.tokenType.leftBracket),this._readArrayElements(e),this._read(l.tokenType.rightBracket),e},_evaluateObjectLiteral:function(){var e={};return this._read(l.tokenType.leftBrace),this._readObjectProperties(e),this._tryReadComma(),this._read(l.tokenType.rightBrace),e},_evaluateOptionsLiteral:function(){var e=this._evaluateValue();return this._current.type!==l.tokenType.eof&&this._unexpectedToken(l.tokenType.eof),e},_peekValue:function(){switch(this._current.type){case l.tokenType.falseLiteral:case l.tokenType.nullLiteral:case l.tokenType.stringLiteral:case l.tokenType.trueLiteral:case l.tokenType.numberLiteral:case l.tokenType.leftBrace:case l.tokenType.leftBracket:case l.tokenType.identifier:return!0;default:return!1}},_evaluateValue:function(){switch(this._current.type){case l.tokenType.falseLiteral:case l.tokenType.nullLiteral:case l.tokenType.stringLiteral:case l.tokenType.trueLiteral:case l.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;case l.tokenType.leftBrace:return this._evaluateObjectLiteral();case l.tokenType.leftBracket:return this._evaluateArrayLiteral();case l.tokenType.identifier:return u(this._peek(l.tokenType.identifier).type===l.tokenType.leftParentheses?this._evaluateObjectQueryExpression():this._evaluateIdentifierExpression());default:this._unexpectedToken(l.tokenType.falseLiteral,l.tokenType.nullLiteral,l.tokenType.stringLiteral,l.tokenType.trueLiteral,l.tokenType.numberLiteral,l.tokenType.leftBrace,l.tokenType.leftBracket,l.tokenType.identifier)}},_tryReadElement:function(e){return this._peekValue()?(e.push(this._evaluateValue()),!0):!1},_tryReadComma:function(){return this._peek(l.tokenType.comma)?(this._read(),!0):!1},_tryReadElision:function(e){for(var t=!1;this._tryReadComma();)e.push(void 0),t=!0;return t},_readArrayElements:function(e){for(;!this._peek(l.tokenType.rightBracket);){var t=this._tryReadElision(e),n=this._tryReadElement(e),i=this._peek(l.tokenType.comma);if(!n||!i){if(n||t)break;this._unexpectedToken(l.tokenType.falseLiteral,l.tokenType.nullLiteral,l.tokenType.stringLiteral,l.tokenType.trueLiteral,l.tokenType.numberLiteral,l.tokenType.leftBrace,l.tokenType.leftBracket,l.tokenType.identifier);break}this._read()}},_readObjectProperties:function(e){for(;!this._peek(l.tokenType.rightBrace);){var t=this._tryReadObjectProperty(e),n=this._peek(l.tokenType.comma);if(!t||!n){if(t)break;this._unexpectedToken(l.tokenType.numberLiteral,l.tokenType.stringLiteral,l.tokenType.identifier);break}this._read()}},_tryReadObjectProperty:function(e){switch(this._current.type){case l.tokenType.numberLiteral:case l.tokenType.stringLiteral:case l.tokenType.identifier:case this._current.keyword&&this._current.type:var t=this._current.value;return this._read(),this._read(l.tokenType.colon),e[t]=this._evaluateValue(),!0;default:return!1}},_failReadObjectProperty:function(){this._unexpectedToken(l.tokenType.numberLiteral,l.tokenType.stringLiteral,l.tokenType.identifier,l.tokenType.reservedWord)},_evaluateObjectQueryExpression:function(){var e=this._current.value;this._read(l.tokenType.identifier),this._read(l.tokenType.leftParentheses);var t=this._current.value;this._read(l.tokenType.stringLiteral),this._read(l.tokenType.rightParentheses);var n=u(this._functionContext[e])(t);switch(this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:return this._evaluateAccessExpressions(n);default:return n}},run:function(){return this._evaluateOptionsLiteral()}},{supportedForProcessing:!1})}),OptionsParser:t.Namespace._lazy(function(){return t.Class.derive(d.OptionsInterpreter,function(e,t){this._initialize(e,t)},{_evaluateAccessExpression:a,_evaluateAccessExpressions:a,_evaluateIdentifier:a,_evaluateIdentifierExpression:a,_evaluateObjectQueryExpression:a,_evaluateValue:function(){switch(this._current.type){case l.tokenType.falseLiteral:case l.tokenType.nullLiteral:case l.tokenType.stringLiteral:case l.tokenType.trueLiteral:case l.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;case l.tokenType.leftBrace:return this._evaluateObjectLiteral();case l.tokenType.leftBracket:return this._evaluateArrayLiteral();case l.tokenType.identifier:return this._peek(l.tokenType.identifier).type===l.tokenType.leftParentheses?this._readObjectQueryExpression():this._readIdentifierExpression();default:this._unexpectedToken(l.tokenType.falseLiteral,l.tokenType.nullLiteral,l.tokenType.stringLiteral,l.tokenType.trueLiteral,l.tokenType.numberLiteral,l.tokenType.leftBrace,l.tokenType.leftBracket,l.tokenType.identifier)}},_readIdentifierExpression:function(){var e=d.BaseInterpreter.prototype._readIdentifierExpression.call(this);return new h(e)},_readObjectQueryExpression:function(){var e=this._current.value;this._read(l.tokenType.identifier),this._read(l.tokenType.leftParentheses);var t=this._current.value;this._read(l.tokenType.stringLiteral),this._read(l.tokenType.rightParentheses);var n=new m(e,t);switch(this._current.type){case l.tokenType.dot:case l.tokenType.leftBracket:var i=[n];return this._readAccessExpressions(i),new h(i);default:return n}}},{supportedForProcessing:!1})})}),p=function(e,t,n){var i=l.lexer(e),r=new d.OptionsInterpreter(i,e,t||{},n||{});return r.run()};Object.defineProperty(p,"_BaseInterpreter",{get:function(){return d.BaseInterpreter}});var f=function(e){var t=l.lexer(e),n=new d.OptionsParser(t,e);return n.run()},m=t.Class.define(function(e,t){this.target=e,this.arg0Value=t});m.supportedForProcessing=!1;var h=t.Class.define(function(e){this.parts=e});h.supportedForProcessing=!1,t.Namespace._moduleDefine(e,"WinJS.UI",{optionsParser:p,_optionsParser:f,_CallExpression:m,_IdentifierExpression:h})}),define("WinJS/ControlProcessor",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_Resources","./Core/_WriteProfilerMark","./ControlProcessor/_OptionsParser","./Promise","./Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s,c,l){"use strict";function u(e){var n=function(n){for(var i,r=e;r;){if(r.msParentSelectorScope){var o=r.parentNode;if(o&&(i=l._matchesSelector(o,n)?o:o.querySelector(n)))break}r=r.parentNode}return i||t.document.querySelector(n)};return y(n)}function d(e,n){return new c(function(i,a){try{var c,l=e.getAttribute("data-win-options");l&&(c=s.optionsParser(l,t,{select:u(e)}));var d,p=1;n.length>2&&p++;var f=function(){p--,0===p&&(e.winControl=e.winControl||d,i(d))};d=new n(e,c,f),f()}catch(m){r.log&&r.log(o._formatString(g.errorActivatingControl,m&&m.message),"winjs controls","error"),a(m)}})}function p(e,n){return new c(function(i,r){a("WinJS.UI:processAll,StartTM"),e=e||t.document.body;var o=0,s="[data-win-control]",c=e.querySelectorAll(s),l=[];!n&&f(e)&&l.push(e);for(var u=0,p=c.length;p>u;u++)l.push(c[u]);if(0===l.length)return a("WinJS.UI:processAll,StopTM"),void i(e);for(var m=function(){o-=1,0>o&&(a("WinJS.UI:processAll,StopTM"),i(e))},_=new Array(l.length),u=0,p=l.length;p>u;u++){var g,y=l[u],b=y.winControl;b?g=b.constructor:_[u]=g=f(y),g&&g.isDeclarativeControlContainer&&(u+=y.querySelectorAll(s).length)}a("WinJS.UI:processAllActivateControls,StartTM");for(var u=0,p=l.length;p>u;u++){var k=_[u],y=l[u];if(k&&!y.winControl&&(o++,d(y,k).then(m,function(e){a("WinJS.UI:processAll,StopTM"),r(e)}),k.isDeclarativeControlContainer&&"function"==typeof k.isDeclarativeControlContainer)){var I=v(k.isDeclarativeControlContainer);I(y.winControl,h)}}a("WinJS.UI:processAllActivateControls,StopTM"),m()})}function f(e){if(e.getAttribute){var n=e.getAttribute("data-win-control");if(n)return i._getMemberFiltered(n.trim(),t,v)}}function m(e,t){return u(t)(e)}function h(e,t){return b?p(e,t):i.ready().then(function(){return b=!0,p(e,t)})}function _(e){if(e&&e.winControl)return c.as(e.winControl);var t=f(e);return t?d(e,t):c.as()}if(t.document){var g={get errorActivatingControl(){return"Error activating control: {0}"}},y=i.markSupportedForProcessing,v=i.requireSupportedForProcessing,b=!1;n.Namespace._moduleDefine(e,"WinJS.UI",{scopedSelect:m,processAll:h,process:_})}}),define("WinJS/Utilities/_ElementListUtilities",["exports","../Core/_Global","../Core/_Base","../ControlProcessor","../Promise","../Utilities/_Control","../Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a){"use strict";t.document&&n.Namespace._moduleDefine(e,"WinJS.Utilities",{QueryCollection:n.Class.derive(Array,function(e){e&&this.include(e)},{forEach:function(e,t){return Array.prototype.forEach.apply(this,[e,t]),this},get:function(e){return this[e]},setAttribute:function(e,t){return this.forEach(function(n){n.setAttribute(e,t)}),this},getAttribute:function(e){return this.length>0?this[0].getAttribute(e):void 0},addClass:function(e){return this.forEach(function(t){a.addClass(t,e)}),this},hasClass:function(e){return this.length>0?a.hasClass(this[0],e):!1},removeClass:function(e){return this.forEach(function(t){a.removeClass(t,e)}),this},toggleClass:function(e){return this.forEach(function(t){a.toggleClass(t,e)}),this},listen:function(e,t,n){return this.forEach(function(i){i.addEventListener(e,t,n)}),this},removeEventListener:function(e,t,n){return this.forEach(function(i){i.removeEventListener(e,t,n)}),this},setStyle:function(e,t){return this.forEach(function(n){n.style[e]=t}),this},clearStyle:function(e){return this.forEach(function(t){t.style[e]=""}),this},query:function(t){var n=new e.QueryCollection;return this.forEach(function(e){n.include(e.querySelectorAll(t))}),n},include:function(e){if("number"==typeof e.length)for(var t=0;t<e.length;t++)this.push(e[t]);else e.DOCUMENT_FRAGMENT_NODE&&e.nodeType===e.DOCUMENT_FRAGMENT_NODE?this.include(e.childNodes):this.push(e)},control:function(e,t){return e&&"function"==typeof e?this.forEach(function(n){n.winControl=new e(n,t)}):(t=e,this.forEach(function(e){i.process(e).done(function(e){e&&o.setOptions(e,t)})})),this},template:function(t,n,i){t instanceof e.QueryCollection&&(t=t[0]);var o=t.winControl;null!==n&&void 0!==n&&n.forEach||(n=[n]),i=i||function(){};var a=this,s=[];return n.forEach(function(e){a.forEach(function(t){s.push(o.render(e,t))})}),i(r.join(s)),this}},{supportedForProcessing:!1}),query:function(n,i){return new e.QueryCollection((i||t.document).querySelectorAll(n))},id:function(n){var i=t.document.getElementById(n);return new e.QueryCollection(i?[i]:[])},children:function(t){return new e.QueryCollection(t.children)}})}),define("WinJS/Utilities/_Hoverable",["exports","../Core/_Global"],function(e,t){"use strict";if(t.document&&(t.document.documentElement.classList.add("win-hoverable"),e.isHoverable=!0,!t.MSPointerEvent)){var n=function(){t.document.removeEventListener("touchstart",n),t.document.documentElement.classList.remove("win-hoverable"),e.isHoverable=!1};t.document.addEventListener("touchstart",n)}}),define("WinJS/Utilities/_ParallelWorkQueue",["exports","../Core/_Base","../Promise","../Scheduler"],function(e,t,n,i){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_ParallelWorkQueue:t.Namespace._lazy(function(){return t.Class.define(function(e){function t(){l--,u||i.schedule(r,i.Priority.normal,null,"WinJS._ParallelWorkQueue.runNext")}function r(){for(u++;e>l;l++){var n,i;do n=c.shift(),i=n&&s[n];while(n&&!i);if(!i)break;delete s[n];try{i().then(t,t)}catch(r){t()}}u--}function o(e,t,i){var o,l="w"+a++;return new n(function(n,a,u){var d=function(){return o=e().then(n,a,u)};d.data=t,s[l]=d,i?c.unshift(l):c.push(l),r()},function(){delete s[l],o&&o.cancel()})}var a=0,s={},c=[];e=e||3;var l=0,u=0;this.sort=function(e){c.sort(function(t,n){return t=s[t],n=s[n],void 0===t&&void 0===n?0:void 0===t?1:void 0===n?-1:e(t.data,n.data)})},this.queue=o},{},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_VersionManager",["exports","../Core/_Base","../_Signal"],function(e,t,n){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_VersionManager:t.Namespace._lazy(function(){return t.Class.define(function(){this._unlocked=new n,this._unlocked.complete()},{_cancelCount:0,_notificationCount:0,_updateCount:0,_version:0,locked:{get:function(){return 0!==this._notificationCount||0!==this._updateCount}},noOutstandingNotifications:{get:function(){return 0===this._notificationCount}},version:{get:function(){return this._version}},unlocked:{get:function(){return this._unlocked.promise}},_dispose:function(){this._unlocked&&(this._unlocked.cancel(),this._unlocked=null)},beginUpdating:function(){this._checkLocked(),this._updateCount++},endUpdating:function(){this._updateCount--,this._checkUnlocked()},beginNotifications:function(){this._checkLocked(),this._notificationCount++},endNotifications:function(){this._notificationCount--,this._checkUnlocked()},_checkLocked:function(){this.locked||(this._dispose(),this._unlocked=new n)},_checkUnlocked:function(){this.locked||this._unlocked.complete()},receivedNotification:function(){if(this._version++,this._cancel){var e=this._cancel;this._cancel=null,e.forEach(function(e){e&&e.cancel()})}},cancelOnNotification:function(e){return this._cancel||(this._cancel=[],this._cancelCount=0),this._cancel[this._cancelCount++]=e,this._cancelCount-1},clearCancelOnNotification:function(e){this._cancel&&delete this._cancel[e]}},{supportedForProcessing:!1})})})}),define("WinJS/Utilities/_ItemsManager",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../_Signal","../Scheduler","../Utilities/_ElementUtilities","./_ParallelWorkQueue","./_VersionManager"],function(e,t,n,i,r,o,a,s,c,l,u,d,p){"use strict";function f(e){return v(function(t,n){return t.then(function(t){return t?e(t,n):null})})}function m(e,t){var n=!1,i=!1;return e.isOnScreen().then(function(e){n=e}),t.isOnScreen().then(function(e){i=e}),(n?0:1)-(i?0:1)}function h(e){if(!/^blob:/i.test(e)&&(E[e]=!0,T.push(e),T.length>B)){var t=T;E={},T=[];for(var n=0,i=t.length-1;i>=0&&L>n;i--){var r=t[i];E[r]||(E[r]=!0,n++)}}}function _(e,n,i){var r=x++;return I=I||new d._ParallelWorkQueue(6),I.queue(function(){return new s(function(i,o){l.schedule(function(r){n||(n=t.document.createElement("img"));var a=E[e];a?(h(e),n.src=e,i(n)):r.setPromise(new s(function(r){var a=t.document.createElement("img"),s=function(){a.removeEventListener("load",c,!1),a.removeEventListener("error",l,!1),n.src=e;var t=new Date;t-w>C&&(w=t,I.sort(m))},c=function(){r(u)},l=function(){r(d)},u=function(){h(e),s(),i(n)},d=function(){s(),o(n)};a.addEventListener("load",c,!1),a.addEventListener("error",l,!1),a.src=e}))},l.Priority.normal,null,"WinJS.UI._ImageLoader._image"+r)})},i)}function g(e){return E[e]}function y(){return t.document.createElement("div")}var v=i.markSupportedForProcessing,b=u._uniqueID,k=f(function(e){if(u._isDOMElement(e.data))return e.data;var n=e.data;void 0===n?n="undefined":null===n?n="null":"object"==typeof n&&(n=JSON.stringify(n));var i=t.document.createElement("span");return i.textContent=n.toString(),i});n.Namespace._moduleDefine(e,"WinJS.UI",{_normalizeRendererReturn:function(e){if(e){if("object"==typeof e&&e.element){var t=s.as(e.element);return t.then(function(t){return{element:t,renderComplete:s.as(e.renderComplete)}})}var t=s.as(e);return t.then(function(e){return{element:e,renderComplete:s.as()}})}return{element:null,renderComplete:s.as()}},simpleItemRenderer:f,_trivialHtmlRenderer:k});var I,S={get listDataSourceIsInvalid(){return"Invalid argument: dataSource must be an object."},get itemRendererIsInvalid(){return"Invalid argument: itemRenderer must be a function."},get itemIsInvalid(){return"Invalid argument: item must be a DOM element that was returned by the Items Manager, and has not been replaced or released."}},w=new Date,C=64,x=0,E={},T=[],L=250,B=1e3;n.Namespace._moduleDefine(e,"WinJS.UI",{_seenUrl:h,_getSeenUrls:function(){return E},_getSeenUrlsMRU:function(){return T},_seenUrlsMaxSize:L,_seenUrlsMRUMaxSize:B}),n.Namespace._moduleDefine(e,"WinJS.UI",{_createItemsManager:n.Namespace._lazy(function(){var t=n.Class.define(function(e){this._itemsManager=e},{beginNotifications:function(){this._itemsManager._versionManager.beginNotifications(),this._itemsManager._beginNotifications()},inserted:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._inserted(e,t,n)},changed:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._changed(e,t)},moved:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._moved(e,t,n)},removed:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._removed(e,t)},countChanged:function(e,t){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._countChanged(e,t)},indexChanged:function(e,t,n){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._indexChanged(e,t,n)},affectedRange:function(e){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._affectedRange(e)},endNotifications:function(){this._itemsManager._versionManager.endNotifications(),this._itemsManager._endNotifications()},reload:function(){this._itemsManager._versionManager.receivedNotification(),this._itemsManager._reload()}},{supportedForProcessing:!1}),i=n.Class.define(function(e,n,i,o){if(!e)throw new r("WinJS.UI.ItemsManager.ListDataSourceIsInvalid",S.listDataSourceIsInvalid);if(!n)throw new r("WinJS.UI.ItemsManager.ItemRendererIsInvalid",S.itemRendererIsInvalid);this.$pipeline_callbacksMap={},this._listDataSource=e,this.dataSource=this._listDataSource,this._elementNotificationHandler=i,this._listBinding=this._listDataSource.createListBinding(new t(this)),o&&(o.ownerElement&&(this._ownerElement=o.ownerElement),this._profilerId=o.profilerId,this._versionManager=o.versionManager||new p._VersionManager),this._indexInView=o&&o.indexInView,this._itemRenderer=n,this._viewCallsReady=o&&o.viewCallsReady,this._elementMap={},this._handleMap={},this._jobOwner=l.createOwnerToken(),this._notificationsSent=!1,this._listBinding.last&&(this.lastItem=function(){return this._elementForItem(this._listBinding.last())})},{_itemFromItemPromise:function(e){return this._waitForElement(this._elementForItem(e))},_itemFromItemPromiseThrottled:function(e){return this._waitForElement(this._elementForItem(e,!0))},_itemAtIndex:function(e){var t=this._itemPromiseAtIndex(e);this._itemFromItemPromise(t).then(null,function(e){return t.cancel(),s.wrapError(e)})},_itemPromiseAtIndex:function(e){return this._listBinding.fromIndex(e)},_waitForElement:function(e){var t=this;return new s(function(n){if(e)if(t.isPlaceholder(e)){var i=b(e),r=t.$pipeline_callbacksMap[i];r?r.push(n):t.$pipeline_callbacksMap[i]=[n]}else n(e);else n(e)})},_updateElement:function(e,t){var n=b(t),i=this.$pipeline_callbacksMap[n];i&&(delete this.$pipeline_callbacksMap[n],i.forEach(function(t){t(e)}))},_firstItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.first()))},_lastItem:function(){return this._waitForElement(this._elementForItem(this._listBinding.last()))},_previousItem:function(e){return this._listBinding.jumpToItem(this._itemFromElement(e)),this._waitForElement(this._elementForItem(this._listBinding.previous()))},_nextItem:function(e){return this._listBinding.jumpToItem(this._itemFromElement(e)),this._waitForElement(this._elementForItem(this._listBinding.next()))},_itemFromPromise:function(e){return this._waitForElement(this._elementForItem(e))},isPlaceholder:function(e){return!!this._recordFromElement(e).elementIsPlaceholder},itemObject:function(e){return this._itemFromElement(e)},release:function(){this._listBinding.release(),this._elementNotificationHandler=null,this._listBinding=null,this._jobOwner.cancelAll(),this._released=!0},releaseItemPromise:function(e){var t=e.handle,n=this._handleMap[t];n?this._releaseRecord(n):e.cancel()},releaseItem:function(e){var t=this._elementMap[b(e)];this._releaseRecord(t)},_releaseRecord:function(e){e&&(e.renderPromise&&e.renderPromise.cancel(),e.itemPromise&&e.itemPromise.cancel(),e.imagePromises&&e.imagePromises.forEach(function(e){e.cancel()}),e.itemReadyPromise&&e.itemReadyPromise.cancel(),e.renderComplete&&e.renderComplete.cancel(),this._removeEntryFromElementMap(e.element),this._removeEntryFromHandleMap(e.itemPromise.handle,e),e.item&&this._listBinding.releaseItem(e.item))},refresh:function(){return this._listDataSource.invalidateAll()},_handlerToNotifyCaresAboutItemAvailable:function(){return!(!this._elementNotificationHandler||!this._elementNotificationHandler.itemAvailable)},_handlerToNotify:function(){return this._notificationsSent||(this._notificationsSent=!0,this._elementNotificationHandler&&this._elementNotificationHandler.beginNotifications&&this._elementNotificationHandler.beginNotifications()),this._elementNotificationHandler},_defineIndexProperty:function(e,t,n){n.indexObserved=!1,Object.defineProperty(e,"index",{get:function(){return n.indexObserved=!0,t.index}})},_renderPlaceholder:function(e){var t={},n=y(t);return e.elementIsPlaceholder=!0,n},_renderItem:function(t,n,i){function r(){t.then(function(e){o._writeProfilerMark(p+",StartTM"),u.complete(e),o._writeProfilerMark(p+",StopTM")})}var o=this,a=o._indexInView||function(){return!0},u=new c,d=new c,p="_renderItem("+n.item.index+"):itemPromise",f=!0,m=!1;t.then(function(e){m=!0,f&&u.complete(e)}),f=!1;var h=u.promise.then(function(e){if(e){var t=Object.create(e);return o._defineIndexProperty(t,e,n),t.ready=d.promise,t.isOnScreen=function(){return s.wrap(a(e.index))},t.loadImage=function(e,i){var r=_(e,i,t);return n.imagePromises?n.imagePromises.push(r):n.imagePromises=[r],r},t.isImageCached=g,t}return s.cancel});m||(i?(n.stage0=t,n.startStage1=function(){n.startStage1=null,r()}):r()),h.handle=t.handle,n.itemPromise=h,n.itemReadyPromise=d.promise,n.readyComplete=!1;var y="_renderItem("+n.item.index+(m?"):syncItemPromise":"):placeholder"),v="_renderItem("+n.item.index+"):itemReady";

this._writeProfilerMark(y+",StartTM");var b=s.as(o._itemRenderer(h,n.element)).then(e._normalizeRendererReturn).then(function(e){return o._released?s.cancel:(h.then(function(e){if(n.pendingReady=function(){n.pendingReady&&(n.pendingReady=null,n.readyComplete=!0,o._writeProfilerMark(v+",StartTM"),d.complete(e),o._writeProfilerMark(v+",StopTM"))},!o._viewCallsReady){var t=l.schedule(n.pendingReady,l.Priority.normal,n,"WinJS.UI._ItemsManager._pendingReady");t.owner=o._jobOwner}}),e)});return this._writeProfilerMark(y+",StopTM"),b},_replaceElement:function(e,t){this._removeEntryFromElementMap(e.element),e.element=t,this._addEntryToElementMap(t,e)},_changeElement:function(e,t,n){e.renderPromise=null;var i=e.element,r=e.item;e.newItem&&(e.item=e.newItem,e.newItem=null),this._replaceElement(e,t),e.item&&e.elementIsPlaceholder&&!n?(e.elementDelayed=null,e.elementIsPlaceholder=!1,this._updateElement(e.element,i),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(e.element,i)):this._handlerToNotify().changed(t,i,r)},_elementForItem:function(e,t){var n,i=e.handle,r=this._recordFromHandle(i,!0);if(!i)return null;if(r)n=r.element;else{r={item:e,itemPromise:e},this._addEntryToHandleMap(i,r);var o=this,a=!1,s=!1,c=o._renderItem(e,r,t).then(function(t){var i=t.element;r.renderComplete=t.renderComplete,e.then(function(e){r.item=e,e||(a=!0,n=null)}),s=!0,r.renderPromise=null,i&&(n?o._presentElements(r,i):n=i)});a||(s||(r.renderPromise=c),n||(n=this._renderPlaceholder(r)),r.element=n,this._addEntryToElementMap(n,r),e.retain())}return n},_addEntryToElementMap:function(e,t){this._elementMap[b(e)]=t},_removeEntryFromElementMap:function(e){delete this._elementMap[b(e)]},_recordFromElement:function(e){var t=this._elementMap[b(e)];if(!t)throw this._writeProfilerMark("_recordFromElement:ItemIsInvalidError,info"),new r("WinJS.UI.ItemsManager.ItemIsInvalid",S.itemIsInvalid);return t},_addEntryToHandleMap:function(e,t){this._handleMap[e]=t},_removeEntryFromHandleMap:function(e){delete this._handleMap[e]},_handleInHandleMap:function(e){return!!this._handleMap[e]},_recordFromHandle:function(e,t){var n=this._handleMap[e];if(!n&&!t)throw new r("WinJS.UI.ItemsManager.ItemIsInvalid",S.itemIsInvalid);return n},_foreachRecord:function(e){var t=this._handleMap;for(var n in t){var i=t[n];e(i)}},_itemFromElement:function(e){return this._recordFromElement(e).item},_elementFromHandle:function(e){if(e){var t=this._recordFromHandle(e,!0);if(t&&t.element)return t.element}return null},_inserted:function(e,t,n){this._handlerToNotify().inserted(e,t,n)},_changed:function(e,t){if(this._handleInHandleMap(t.handle)){var n=this._recordFromHandle(t.handle);n.renderPromise&&n.renderPromise.cancel(),n.itemPromise&&n.itemPromise.cancel(),n.imagePromises&&n.imagePromises.forEach(function(e){e.cancel()}),n.itemReadyPromise&&n.itemReadyPromise.cancel(),n.renderComplete&&n.renderComplete.cancel(),n.newItem=e;var i=this,r=s.as(e);r.handle=n.itemPromise.handle,n.renderPromise=this._renderItem(r,n).then(function(e){n.renderComplete=e.renderComplete,i._changeElement(n,e.element,!1),i._presentElements(n)})}},_moved:function(e,t,n){var i=this._elementFromHandle(e.handle),r=this._elementFromHandle(t),o=this._elementFromHandle(n);this._handlerToNotify().moved(i,r,o,e),this._presentAllElements()},_removed:function(e,t){if(this._handleInHandleMap(e)){var n=this._elementFromHandle(e);this._handlerToNotify().removed(n,t,e),this.releaseItem(n),this._presentAllElements()}else this._handlerToNotify().removed(null,t,e)},_countChanged:function(e,t){this._elementNotificationHandler&&this._elementNotificationHandler.countChanged&&this._handlerToNotify().countChanged(e,t)},_indexChanged:function(e,t,n){var i;if(this._handleInHandleMap(e)){var r=this._recordFromHandle(e);if(r.indexObserved)if(r.elementIsPlaceholder)this._changeElement(r,this._renderPlaceholder(r),!0);else if(r.item.index!==t){r.renderPromise&&r.renderPromise.cancel(),r.renderComplete&&r.renderComplete.cancel();var o=r.newItem||r.item;o.index=t;var a=s.as(o);a.handle=r.itemPromise.handle;var c=this;r.renderPromise=this._renderItem(a,r).then(function(e){r.renderComplete=e.renderComplete,c._changeElement(r,e.element,!1),c._presentElements(r)})}i=r.element}this._elementNotificationHandler&&this._elementNotificationHandler.indexChanged&&this._handlerToNotify().indexChanged(i,t,n)},_affectedRange:function(e){this._elementNotificationHandler&&this._elementNotificationHandler.updateAffectedRange&&this._handlerToNotify().updateAffectedRange(e)},_beginNotifications:function(){this._externalBegin=!0,this._handlerToNotify()},_endNotifications:function(){this._notificationsSent&&(this._notificationsSent=!1,this._externalBegin=!1,this._elementNotificationHandler&&this._elementNotificationHandler.endNotifications&&this._elementNotificationHandler.endNotifications())},_reload:function(){this._elementNotificationHandler&&this._elementNotificationHandler.reload&&this._elementNotificationHandler.reload()},_postEndNotifications:function(){if(this._notificationsSent&&!this._externalBegin&&!this._endNotificationsPosted){this._endNotificationsPosted=!0;var e=this;l.schedule(function(){e._endNotificationsPosted=!1,e._endNotifications()},l.Priority.high,null,"WinJS.UI._ItemsManager._postEndNotifications")}},_presentElement:function(e){var t=e.element;this._replaceElement(e,e.elementDelayed),e.elementDelayed=null,e.elementIsPlaceholder=!1,this._updateElement(e.element,t),this._handlerToNotifyCaresAboutItemAvailable()&&this._handlerToNotify().itemAvailable(e.element,t)},_presentElements:function(e,t){t&&(e.elementDelayed=t),this._listBinding.jumpToItem(e.item),e.elementDelayed&&this._presentElement(e),this._postEndNotifications()},_presentAllElements:function(){var e=this;this._foreachRecord(function(t){t.elementDelayed&&e._presentElement(t)})},_writeProfilerMark:function(e){var t="WinJS.UI._ItemsManager:"+(this._profilerId?this._profilerId+":":":")+e;a(t)}},{supportedForProcessing:!1});return function(e,t,n,r){return new i(e,t,n,r)}})})}),define("WinJS/Utilities/_TabContainer",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","./_ElementUtilities"],function(e,t,n,i,r){"use strict";function o(e,n,i,r){var o=t.document.createEvent("UIEvent");return o.initUIEvent(n,!1,!!r,t,i?1:0),!e.dispatchEvent(o)}function a(e){var n=t.getComputedStyle(e);if("none"===n.display||"hidden"===n.visibility)return t.NodeFilter.FILTER_REJECT;if(e._tabContainer)return t.NodeFilter.FILTER_ACCEPT;if(e.parentNode&&e.parentNode._tabContainer){var i=e.parentNode._tabContainer.childFocus;return i&&e.contains(i)?l(e)>=0?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP:t.NodeFilter.FILTER_REJECT}var r=l(e);return r>=0?t.NodeFilter.FILTER_ACCEPT:t.NodeFilter.FILTER_SKIP}function s(e){function t(){if(e.currentNode._tabContainer)r=r.concat(s(e));else if(l(e.currentNode)>=0&&r.push(e.currentNode),e.firstChild()){do t();while(e.nextSibling());e.parentNode()}}var n=e.currentNode,i=n._tabContainer.childFocus,r=[];return i?(e.currentNode=i,t(),e.currentNode=n,r):[]}function c(e,n){function i(){var e=t.document.createElement("DIV");return e.tabIndex=n?n:0,e.setAttribute("aria-hidden",!0),e}var r=e.parentNode,a=i();r.insertBefore(a,e);var s=i();r.insertBefore(s,e.nextSibling),a.addEventListener("focus",function(){o(e,"onTabEnter",!0)},!0),s.addEventListener("focus",function(){o(e,"onTabEnter",!1)},!0),this._catcherBegin=a,this._catcherEnd=s;var c=1;this.addRef=function(){c++},this.release=function(){return 0===--c&&(a.parentElement&&r.removeChild(a),s.parentElement&&r.removeChild(s)),c},this.updateTabIndex=function(e){a.tabIndex=e,s.tabIndex=e}}if(t.document){var l=r.getTabIndex,u={attach:function(e,t){return e["win-trackTabHelperObject"]?e["win-trackTabHelperObject"].addRef():e["win-trackTabHelperObject"]=new c(e,t),e["win-trackTabHelperObject"]},detach:function(e){e["win-trackTabHelperObject"].release()||delete e["win-trackTabHelperObject"]}};n.Namespace._moduleDefine(e,"WinJS.UI",{TrackTabBehavior:u,TabContainer:n.Class.define(function(e){this._element=e,this._tabIndex=0,e._tabContainer=this,null===e.getAttribute("tabindex")&&(e.tabIndex=-1);var t=this;e.addEventListener("onTabEnter",function(n){var i=o(t._element,"onTabEntered",n.detail,!0);i||(t.childFocus?t.childFocus.focus():e.focus())}),e.addEventListener("keydown",function(e){var n=e.target;if(e.keyCode===r.Key.tab){var a=!e.shiftKey,s=t._hasMoreElementsInTabOrder(n,a);if(!s){var c=o(t._element,"onTabExiting",a,!0);if(c)return e.stopPropagation(),void e.preventDefault();for(var l=t._element.querySelectorAll("a[href],area[href],button,command,input,link,menuitem,object,select,textarea,th[sorted],[tabindex]"),u=l.length,d=[],p=0;u>p;p++){var f=l[p];d.push(f.tabIndex),f.tabIndex=-1}t._elementTabHelper[a?"_catcherEnd":"_catcherBegin"].tabIndex=-1;var m=function(){n.removeEventListener("blur",m,!1);for(var e=0;u>e;e++)-1!==d[e]&&(l[e].tabIndex=d[e]);t._elementTabHelper._catcherBegin.tabIndex=t._tabIndex,t._elementTabHelper._catcherEnd.tabIndex=t._tabIndex};n.addEventListener("blur",m,!1),i._yieldForEvents(function(){o(t._element,"onTabExit",a)})}}}),this._elementTabHelper=u.attach(e,this._tabIndex),this._elementTabHelper._catcherBegin.tabIndex=0,this._elementTabHelper._catcherEnd.tabIndex=0},{dispose:function(){u.detach(this._element,this._tabIndex)},childFocus:{set:function(e){e!==this._focusElement&&(this._focusElement=e&&e.parentNode?e:null)},get:function(){return this._focusElement}},tabIndex:{set:function(e){this._tabIndex=e,this._elementTabHelper.updateTabIndex(e)},get:function(){return this._tabIndex}},_element:null,_skipper:function(e){e.stopPropagation(),e.preventDefault()},_hasMoreElementsInTabOrder:function(e,n){if(!this.childFocus)return!1;for(var i=t.document.createTreeWalker(this._element,t.NodeFilter.SHOW_ELEMENT,a,!1),r=s(i),o=0;o<r.length;o++)if(r[o]===e)return n?o<r.length-1:o>0;return!1},_focusElement:null},{supportedForProcessing:!1})})}}),define("WinJS/Utilities/_KeyboardBehavior",["exports","../Core/_Global","../Core/_Base","./_Control","./_ElementUtilities","./_TabContainer"],function(e,t,n,i,r,o){"use strict";if(t.document){var a={touch:"touch",pen:"pen",mouse:"mouse",keyboard:"keyboard"},s=a.mouse,c={2:a.touch,3:a.pen,4:a.mouse,touch:a.touch,pen:a.pen,mouse:a.mouse};r._addEventListener(t,"pointerdown",function(e){s=c[e.pointerType]||a.mouse},!0),t.addEventListener("keydown",function(){s=a.keyboard},!0),n.Namespace._moduleDefine(e,"WinJS.UI",{_keyboardSeenLast:{get:function(){return s===a.keyboard},set:function(e){s=e?a.keyboard:a.mouse}},_lastInputType:{get:function(){return s},set:function(e){a[e]&&(s=e)}},_InputTypes:a,_WinKeyboard:function(t){r._addEventListener(t,"pointerdown",function(e){r.removeClass(e.target,"win-keyboard")},!0),t.addEventListener("keydown",function(e){r.addClass(e.target,"win-keyboard")},!0),r._addEventListener(t,"focusin",function(t){e._keyboardSeenLast&&r.addClass(t.target,"win-keyboard")},!1),r._addEventListener(t,"focusout",function(e){r.removeClass(e.target,"win-keyboard")},!1)},_KeyboardBehavior:n.Namespace._lazy(function(){var e=r.Key,a=n.Class.define(function(e,n){e=e||t.document.createElement("DIV"),n=n||{},e._keyboardBehavior=this,this._element=e,this._fixedDirection=a.FixedDirection.width,this._fixedSize=1,this._currentIndex=0,i.setOptions(this,n),this._tabContainer=new o.TabContainer(this.scroller||this._element),this._tabContainer.tabIndex=0,this._element.children.length>0&&(this._tabContainer.childFocus=this._getFocusInto(this._element.children[0])),this._element.addEventListener("keydown",this._keyDownHandler.bind(this)),r._addEventListener(this._element,"pointerdown",this._MSPointerDownHandler.bind(this))},{element:{get:function(){return this._element}},fixedDirection:{get:function(){return this._fixedDirection},set:function(e){this._fixedDirection=e}},fixedSize:{get:function(){return this._fixedSize},set:function(e){+e===e&&(e=Math.max(1,e),this._fixedSize=e)}},currentIndex:{get:function(){return this._element.children.length>0?this._currentIndex:-1},set:function(e){if(+e===e){var t=this._element.children.length;e=Math.max(0,Math.min(t-1,e)),this._currentIndex=e,this._tabContainer.childFocus=this._getFocusInto(this._element.children[e])}}},getAdjacent:{get:function(){return this._getAdjacent},set:function(e){this._getAdjacent=e}},scroller:{get:function(){return this._scroller},set:function(e){this._scroller=e}},_keyDownHandler:function(n){if(!n.altKey){if(r._matchesSelector(n.target,".win-interactive, .win-interactive *"))return;var i=this.currentIndex,o=this._element.children.length-1,s="rtl"===t.getComputedStyle(this._element).direction,c=s?e.rightArrow:e.leftArrow,l=s?e.leftArrow:e.rightArrow,u=this.getAdjacent&&this.getAdjacent(i,n.keyCode);if(+u===u)i=u;else{var d=i%this.fixedSize;n.keyCode===c?this.fixedDirection===a.FixedDirection.width?0!==d&&i--:i>=this.fixedSize&&(i-=this.fixedSize):n.keyCode===l?this.fixedDirection===a.FixedDirection.width?d!==this.fixedSize-1&&i++:i+this.fixedSize-d<=o&&(i+=this.fixedSize):n.keyCode===e.upArrow?this.fixedDirection===a.FixedDirection.height?0!==d&&i--:i>=this.fixedSize&&(i-=this.fixedSize):n.keyCode===e.downArrow?this.fixedDirection===a.FixedDirection.height?d!==this.fixedSize-1&&i++:i+this.fixedSize-d<=o&&(i+=this.fixedSize):n.keyCode===e.home?i=0:n.keyCode===e.end&&(i=this._element.children.length-1)}i=Math.max(0,Math.min(this._element.children.length-1,i)),i!==this.currentIndex&&(this._focus(i,n.keyCode),(n.keyCode===c||n.keyCode===l||n.keyCode===e.upArrow||n.keyCode===e.downArrow)&&n.stopPropagation(),n.preventDefault())}},_getFocusInto:function(e,t){return e&&e.winControl&&e.winControl._getFocusInto?e.winControl._getFocusInto(t):e},_focus:function(e,t){e=+e===e?e:this.currentIndex;var n=this._element.children[e];n&&(n=this._getFocusInto(n,t),this.currentIndex=e,r._setActive(n,this.scroller))},_MSPointerDownHandler:function(e){var t=e.target;if(t!==this.element){for(;t.parentNode!==this.element;)t=t.parentNode;for(var n=-1;t;)n++,t=t.previousElementSibling;this.currentIndex=n}}},{FixedDirection:{height:"height",width:"width"}});return a})})}}),define("WinJS/Utilities/_SafeHtml",["exports","../Core/_WinJS","../Core/_Global","../Core/_Base","../Core/_ErrorFromName","../Core/_Resources"],function(e,t,n,i,r){"use strict";var o,a,s,c,l,u,d={get nonStaticHTML(){return"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."}};o=a=function(e,t){e.innerHTML=t},s=c=function(e,t){e.outerHTML=t},l=u=function(e,t,n){e.insertAdjacentHTML(t,n)};var p=n.MSApp;if(p&&p.execUnsafeLocalFunction)a=function(e,n){p.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.innerHTML=n}finally{t._execUnsafe=!1}})},c=function(e,n){p.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.outerHTML=n}finally{t._execUnsafe=!1}})},u=function(e,n,i){p.execUnsafeLocalFunction(function(){try{t._execUnsafe=!0,e.insertAdjacentHTML(n,i)}finally{t._execUnsafe=!1}})};else if(n.msIsStaticHTML){var f=function(e){if(!n.msIsStaticHTML(e))throw new r("WinJS.Utitilies.NonStaticHTML",d.nonStaticHTML)};o=function(e,t){f(t),e.innerHTML=t},s=function(e,t){f(t),e.outerHTML=t},l=function(e,t,n){f(n),e.insertAdjacentHTML(t,n)}}i.Namespace._moduleDefine(e,"WinJS.Utilities",{setInnerHTML:o,setInnerHTMLUnsafe:a,setOuterHTML:s,setOuterHTMLUnsafe:c,insertAdjacentHTML:l,insertAdjacentHTMLUnsafe:u})}),define("WinJS/Utilities/_Select",["exports","../Core/_Base","./_SafeHtml"],function(e,t,n){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{_Select:t.Namespace._lazy(function(){function e(e){return e.replace(s,function(e){return c[e]||""})}function i(e){return e.replace(l,"")}function r(e){return this[e]}function o(){return this.length}function a(e){return e.getValue||(e.getValue=r),e.getLength||(e.getLength=o),e}var s=/[&<>'"]/g,c={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},l=/[\u200e\u200f]/g;return t.Class.define(function(e,t){this._dataSource=a(t.dataSource),this._index=t.index||0,this._domElement=e,this._domElement.tabIndex=0,t.disabled&&this.setDisabled(t.disabled);var n=this;this._domElement.addEventListener("change",function(){n._index=n._domElement.selectedIndex},!1),this._createSelectElement()},{_index:0,_dataSource:null,dataSource:{get:function(){return this._dataSource},set:function(e){this._dataSource=a(e),this._domElement&&this._createSelectElement()}},setDisabled:function(e){e?this._domElement.setAttribute("disabled","disabled"):this._domElement.removeAttribute("disabled")},_createSelectElement:function(){for(var t=this._dataSource.getLength(),r="",o=0;t>o;o++){var a=""+this._dataSource.getValue(o),s=e(a),c=i(s);r+="<option value='"+c+"'>"+s+"</option>"}n.setInnerHTMLUnsafe(this._domElement,r),this._domElement.selectedIndex=this._index},index:{get:function(){return Math.max(0,Math.min(this._index,this._dataSource.getLength()-1))},set:function(e){if(this._index!==e){this._index=e;var t=this._domElement;t&&t.selectedIndex!==e&&(t.selectedIndex=e)}}},value:{get:function(){return this._dataSource.getValue(this.index)}}})})})}),define("WinJS/Utilities/_Telemetry",["exports"],function(e){"use strict";e.send=function(){}}),define("WinJS/Utilities/_UI",["exports","../Core/_BaseCoreUtils","../Core/_Base"],function(e,t,n){"use strict";n.Namespace._moduleDefine(e,"WinJS.UI",{eventHandler:function(e){return t.markSupportedForProcessing(e)},Orientation:{horizontal:"horizontal",vertical:"vertical"},CountResult:{unknown:"unknown"},CountError:{noResponse:"noResponse"},DataSourceStatus:{ready:"ready",waiting:"waiting",failure:"failure"},FetchError:{noResponse:"noResponse",doesNotExist:"doesNotExist"},EditError:{noResponse:"noResponse",canceled:"canceled",notPermitted:"notPermitted",noLongerMeaningful:"noLongerMeaningful"},ObjectType:{item:"item",groupHeader:"groupHeader",header:"header",footer:"footer"},SelectionMode:{none:"none",single:"single",multi:"multi"},TapBehavior:{directSelect:"directSelect",toggleSelect:"toggleSelect",invokeOnly:"invokeOnly",none:"none"},SwipeBehavior:{select:"select",none:"none"},GroupHeaderTapBehavior:{invoke:"invoke",none:"none"}})}),define("WinJS/Utilities/_Xhr",["../Core/_Global","../Core/_Base","../Promise","../Scheduler"],function(e,t,n,i){"use strict";function r(e,t,n){i.schedule(function(){e(t)},n,null,"WinJS.xhr")}function o(){}function a(t){var a;return new n(function(n,c,l){var u=i.currentPriority;a=new e.XMLHttpRequest;var d=!1,p=s.exec(t.url.toLowerCase());p?"file"===p[1]&&(d=!0):"file:"===e.location.protocol&&(d=!0),a.onreadystatechange=function(){return a._canceled?void(a.onreadystatechange=o):void(4===a.readyState?(a.status>=200&&a.status<300||d&&0===a.status?r(n,a,u):r(c,a,u),a.onreadystatechange=o):r(l,a,u))},a.open(t.type||"GET",t.url,!0,t.user,t.password),a.responseType=t.responseType||"",Object.keys(t.headers||{}).forEach(function(e){a.setRequestHeader(e,t.headers[e])}),t.customRequestInitializer&&t.customRequestInitializer(a),void 0===t.data?a.send():a.send(t.data)},function(){a.onreadystatechange=o,a._canceled=!0,a.abort()})}var s=/^(\w+)\:\/\//;return t.Namespace.define("WinJS",{xhr:a}),a}),define("WinJS/Utilities",["./Utilities/_Control","./Utilities/_Dispose","./Utilities/_ElementListUtilities","./Utilities/_ElementUtilities","./Utilities/_Hoverable","./Utilities/_ItemsManager","./Utilities/_KeyboardBehavior","./Utilities/_ParallelWorkQueue","./Utilities/_SafeHtml","./Utilities/_Select","./Utilities/_TabContainer","./Utilities/_Telemetry","./Utilities/_UI","./Utilities/_VersionManager","./Utilities/_Xhr"],function(){}),define("WinJS/XYFocus",["require","exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Utilities/_ElementUtilities","./Core/_Events","./ControlProcessor/_OptionsParser"],function(e,t,n,i,r,o,a,s){"use strict";function c(e,t){var n=d(e,t);return n?n.target:null}function l(e,t){var i=c(e,t);if(i){var r=n.document.activeElement;if(m(i,-1))return B.dispatchEvent(I.focusChanged,{previousFocusElement:r,keyCode:-1}),i}}function u(e,i,r){function o(e,t){var n=p();e===k.left||e===k.right?(n.top=Math.max(t.targetRect.top,t.referenceRect.top,E?E.top:Number.MIN_VALUE),n.bottom=Math.min(t.targetRect.bottom,t.referenceRect.bottom,E?E.bottom:Number.MAX_VALUE),n.bottom<=n.top&&(n.top=t.targetRect.top,n.bottom=t.targetRect.bottom),n.height=n.bottom-n.top,n.width=Number.MAX_VALUE,n.left=Number.MIN_VALUE,n.right=Number.MAX_VALUE):(n.left=Math.max(t.targetRect.left,t.referenceRect.left,E?E.left:Number.MIN_VALUE),n.right=Math.min(t.targetRect.right,t.referenceRect.right,E?E.right:Number.MAX_VALUE),n.right<=n.left&&(n.left=t.targetRect.left,n.right=t.targetRect.right),n.width=n.right-n.left,n.height=Number.MAX_VALUE,n.top=Number.MIN_VALUE,n.bottom=Number.MAX_VALUE),E=n}if(r||n.document.activeElement!==C)E=null,C=null,x=null;else if(C&&x){var a=f(C.getBoundingClientRect());(a.left!==x.left||a.top!==x.top)&&(E=null,C=null,x=null)}var s=n.document.activeElement,c=d(e,{focusRoot:t.focusRoot,historyRect:E,referenceElement:C,referenceRect:r});if(c&&m(c.target,i)){if(o(e,c),C=c.target,x=c.targetRect,"IFRAME"===c.target.tagName){var l=T.lastIndexOf(c.target.contentWindow);if(l>=0){var u=f({left:c.referenceRect.left-c.targetRect.left,top:c.referenceRect.top-c.targetRect.top,width:c.referenceRect.width,height:c.referenceRect.height}),h={};h[b.messageDataProperty]={type:b.dFocusEnter,direction:e,referenceRect:u},c.target.contentWindow.postMessage(h,"*")}}return B.dispatchEvent(I.focusChanged,{previousFocusElement:s,keyCode:i}),!0}if(top!==window){var u=r;u||(u=n.document.activeElement?f(n.document.activeElement.getBoundingClientRect()):p());var h={};return h[b.messageDataProperty]={type:b.dFocusExit,direction:e,referenceRect:u},n.parent.postMessage(h,"*"),!0}return!1}function d(e,i){function r(e,t,n,i){if(e>=i||n>=t)return 0;var r=Math.min(t,i)-Math.max(e,n),o=Math.min(i-n,t-e);return r/o}function a(e,t,n,i,o){var a,s,c=0,l=0,u=0;switch(e){case k.left:if(o.left>=i.left)break;a=r(i.top,i.bottom,o.top,o.bottom),s=i.left-o.right,a>0?u=r(n.top,n.bottom,o.top,o.bottom):l=i.bottom<=o.top?o.top-i.bottom:i.top-o.bottom;break;case k.right:if(o.right<=i.right)break;a=r(i.top,i.bottom,o.top,o.bottom),s=o.left-i.right,a>0?u=r(n.top,n.bottom,o.top,o.bottom):l=i.bottom<=o.top?o.top-i.bottom:i.top-o.bottom;break;case k.up:if(o.top>=i.top)break;a=r(i.left,i.right,o.left,o.right),s=i.top-o.bottom,a>0?u=r(n.left,n.right,o.left,o.right):l=i.right<=o.left?o.left-i.right:i.left-o.right;break;case k.down:if(o.bottom<=i.bottom)break;a=r(i.left,i.right,o.left,o.right),s=o.top-i.bottom,a>0?u=r(n.left,n.right,o.left,o.right):l=i.right<=o.left?o.left-i.right:i.left-o.right}return s>=0&&(s=t-s,l=t-l,s>=0&&l>=0&&(s+=s*a,c=s*w.primaryAxisDistanceWeight+l*w.secondaryAxisDistanceWeight+u*w.percentInHistoryShadowWeight)),c}function c(e,t){var i,r;return(!e&&!t||e&&!e.parentNode)&&n.document.activeElement!==n.document.body&&(e=n.document.activeElement),e?(i=e,r=f(i.getBoundingClientRect())):r=t?f(t):p(),{element:i,rect:r}}function l(e){var t=e.tagName;if(!e.hasAttribute("tabindex")&&-1===S.indexOf(t)&&!o.hasClass(e,v.focusable))return!1;if("IFRAME"===t&&-1===T.indexOf(e.contentWindow))return!1;if("DIV"===t&&e.winControl&&e.winControl.disabled)return!1;var n=getComputedStyle(e);return"-1"===e.getAttribute("tabIndex")||"none"===n.display||"hidden"===n.visibility||e.disabled?!1:!0}i=i||{},i.focusRoot=i.focusRoot||t.focusRoot||n.document.body,i.historyRect=i.historyRect||p();var u=Math.max(n.screen.availHeight,n.screen.availWidth),d=c(i.referenceElement,i.referenceRect);if(d.element){var m=d.element.getAttribute(y.focusOverride)||d.element.getAttribute(y.focusOverrideLegacy);if(m){var h=s.optionsParser(m),_=h[e]||h[e[0].toUpperCase()+e.substr(1)];if(_){for(var g,b=d.element;!g&&b;)g=b.querySelector(_),b=b.parentElement;if(g)return g===n.document.activeElement?null:{target:g,targetRect:f(g.getBoundingClientRect()),referenceRect:d.rect,usedOverride:!0}}}}for(var I={element:null,rect:null,score:0},C=i.focusRoot.querySelectorAll("*"),x=0,E=C.length;E>x;x++){var L=C[x];if(d.element!==L&&l(L)){var B=f(L.getBoundingClientRect());if(0!==B.width&&0!==B.height){var A=a(e,u,i.historyRect,d.rect,B);A>I.score&&(I.element=L,I.rect=B,I.score=A)}}}return I.element?{target:I.element,targetRect:I.rect,referenceRect:d.rect,usedOverride:!1}:null}function p(){return{top:-1,bottom:-1,right:-1,left:-1,height:0,width:0}}function f(e){return{top:Math.floor(e.top),bottom:Math.floor(e.top+e.height),right:Math.floor(e.left+e.width),left:Math.floor(e.left),height:Math.floor(e.height),width:Math.floor(e.width)}}function m(e,t){var i=B.dispatchEvent(I.focusChanging,{nextFocusElement:e,keyCode:t});return i||e.focus(),n.document.activeElement===e}function h(e){var t=n.document.querySelectorAll("IFRAME"),i=Array.prototype.filter.call(t,function(t){return t.contentWindow===e});return i.length?i[0]:null}function _(e){if(!e.defaultPrevented)for(var i=Object.keys(t.keyCodeMap),r=0;r<i.length;r++){var o=i[r],a=t.keyCodeMap[o];if(a.indexOf(e.keyCode)>=0)return void(a===t.keyCodeMap.accept?n.document.activeElement&&n.document.activeElement.click&&n.document.activeElement.click():u(o,e.keyCode)&&e.preventDefault())}}var g=o.Key,y={focusOverride:"data-win-xyfocus",focusOverrideLegacy:"data-win-focus"},v={focusable:"win-focusable",xboxPlatform:"win-xbox"},b={messageDataProperty:"msWinJSXYFocusControlMessage",register:"register",unregister:"unregister",dFocusEnter:"dFocusEnter",dFocusExit:"dFocusExit"},k={left:"left",right:"right",up:"up",down:"down"},I={focusChanging:"focuschanging",focusChanged:"focuschanged"},S=["A","BUTTON","IFRAME","INPUT","SELECT","TEXTAREA"],w={primaryAxisDistanceWeight:30,secondaryAxisDistanceWeight:20,percentInHistoryShadowWeight:1e5};t.keyCodeMap={left:[],right:[],up:[],down:[],accept:[]},t.focusRoot,t.findNextFocusElement=c,t.moveFocus=l;var C,x,E,T=[];if(n.document){t.keyCodeMap.left.push(g.GamepadLeftThumbstickLeft,g.GamepadDPadLeft,g.NavigationLeft),t.keyCodeMap.right.push(g.GamepadLeftThumbstickRight,g.GamepadDPadRight,g.NavigationRight),t.keyCodeMap.up.push(g.GamepadLeftThumbstickUp,g.GamepadDPadUp,g.NavigationUp),t.keyCodeMap.down.push(g.GamepadLeftThumbstickDown,g.GamepadDPadDown,g.NavigationDown),t.keyCodeMap.accept.push(g.GamepadA,g.NavigationAccept),n.addEventListener("message",function(e){if(e.data&&e.data[b.messageDataProperty]){var t=e.data[b.messageDataProperty];switch(t.type){case b.register:T.push(e.source);break;case b.unregister:var i=T.indexOf(e.source);i>=0&&T.splice(i,1);break;case b.dFocusEnter:u(t.direction,-1,t.referenceRect);break;case b.dFocusExit:var r=h(e.source);if(n.document.activeElement!==r)break;var o=t.referenceRect;o.left+=r.offsetLeft,o.top+=r.offsetTop,u(t.direction,-1,o)}}}),r.ready().then(function(){if(o.hasWinRT&&n.Windows&&n.Windows.Xbox&&o.addClass(n.document.body,v.xboxPlatform),n.document.addEventListener("keydown",_),n.top!==n.window){var e={};e[b.messageDataProperty]={type:b.register,version:1},n.parent.postMessage(e,"*")}});var L={focusRoot:{get:function(){return t.focusRoot},set:function(e){t.focusRoot=e}},findNextFocusElement:c,keyCodeMap:t.keyCodeMap,moveFocus:l,onfocuschanged:a._createEventProperty(I.focusChanged),onfocuschanging:a._createEventProperty(I.focusChanging),_xyFocus:u};L=r._merge(L,a.eventMixin),L._listeners={};var B=L;i.Namespace.define("WinJS.UI.XYFocus",L)}}),define("WinJS/Fragments",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./Core/_WriteProfilerMark","./Promise","./Utilities/_ElementUtilities","./Utilities/_SafeHtml","./Utilities/_Xhr"],function(e,t,n,i,r,o,a,s,c,l,u,d){"use strict";function p(e,n,i,r){var o=e.src,a=!o;if(a&&(o=n+"script["+i+"]"),o=o.toLowerCase(),!(o in L)){var s=null;L[o]=!0;var l=t.document.createElement("script");if(e.language&&l.setAttribute("language","javascript"),l.setAttribute("type",e.type),l.setAttribute("async","false"),e.id&&l.setAttribute("id",e.id),a){var u=e.text;s=r.then(function(){l.text=u}).then(null,function(){})}else s=new c(function(t){l.onload=l.onerror=function(){t()},l.setAttribute("src",e.src)});return T.appendChild(l),{promise:s,inline:a}}}function f(e,t,n){var i=(t+"script["+n+"]").toLowerCase();i in B||(B[i]=!0,T.appendChild(e.cloneNode(!0)))}function m(e){var t=e.href.toLowerCase();if(!(t in A)){A[t]=!0;var n=e.cloneNode(!1);n.href=e.href,T.appendChild(n)}}function h(e,n){if("string"==typeof e)return g(e,n);var i={docfrag:l.data(e).docFragment};if(!i.docfrag){for(var r=t.document.createDocumentFragment();e.childNodes.length>0;)r.appendChild(e.childNodes[0]);i.docfrag=l.data(e).docFragment=r,e.setAttribute("data-win-hasfragment","")}return n&&w(e),c.as(i)}function _(e,t){return C(e,t).then(function(){return e.document?y(t,e):e}).then(function(){return e.document&&delete e.document,e})}function g(e,t){var n=e.toLowerCase(),i=M[n];if(i)return t&&delete M[n],i.promise?i.promise:c.as(i);i={},t||(M[n]=i);var r=i.promise=_(i,e);return i.promise.then(function(){delete i.promise}),r}function y(e,n){var i=n.document,r=i.body,o=[];E(i.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),m),E(i.getElementsByTagName("style"),function(t,n){f(t,e,n)});var a=c.as();E(i.getElementsByTagName("script"),function(t,n){var i=p(t,e,n,a);i&&(i.inline||(a=i.promise),o.push(i.promise))}),E(r.getElementsByTagName("img"),function(e){e.src=e.src}),E(r.getElementsByTagName("a"),function(e){if(""!==e.href){var t=e.getAttribute("href");t&&"#"!==t[0]&&(e.href=e.href)}});for(var s=r.getElementsByTagName("script");s.length>0;){var l=s[0];l.parentNode.removeChild(l)}return c.join(o).then(function(){for(var e=t.document.createDocumentFragment(),r=t.document.importNode(i.body,!0);r.childNodes.length>0;)e.appendChild(r.childNodes[0]);return n.docfrag=e,n})}function v(){P||(P=!0,E(T.querySelectorAll("script"),function(e){L[e.src.toLowerCase()]=!0}),E(T.querySelectorAll('link[rel="stylesheet"], link[type="text/css"]'),function(e){A[e.href.toLowerCase()]=!0}))}function b(e,t){return k(e,t,!0)}function k(e,n,i){var o=(e instanceof t.HTMLElement?r._getProfilerMarkIdentifier(e):" href='"+e+"'")+"["+ ++N+"]";return W("WinJS.UI.Fragments:render"+o+",StartTM"),v(),h(e,!i).then(function(e){var t=e.docfrag;i&&(t=t.cloneNode(!0));for(var r=t.firstChild;r;)1===r.nodeType&&(r.msParentSelectorScope=!0),r=r.nextSibling;var a;return n?(n.appendChild(t),a=n):a=t,W("WinJS.UI.Fragments:render"+o+",StopTM"),a})}function I(e,t){return k(e,t,!1)}function S(e){return v(),h(e).then(function(e){return e.docfrag})}function w(e){e?"string"==typeof e?delete M[e.toLowerCase()]:(delete l.data(e).docFragment,e.removeAttribute("data-win-hasfragment")):M={}}function C(e,n){var i=t.document.implementation.createHTMLDocument("frag"),r=i.createElement("base");i.head.appendChild(r);var o=i.createElement("a");return i.body.appendChild(o),r.href=t.document.location.href,o.setAttribute("href",n),r.href=o.href,e.document=i,O(n).then(function(e){u.setInnerHTMLUnsafe(i.documentElement,e),i.head.appendChild(r)})}function x(e){return d({url:e}).then(function(e){return e.responseText})}if(t.document){var E=function(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)},T=t.document.head||t.document.getElementsByTagName("head")[0],L={},B={},A={},P=!1,M={},N=1,W=s,O=x;i.Namespace._moduleDefine(e,"WinJS.UI.Fragments",{renderCopy:b,render:I,cache:S,clearCache:w,_cacheStore:{get:function(){return M}},_getFragmentContents:{get:function(){return O},set:function(e){O=e}},_writeProfilerMark:{get:function(){return W},set:function(e){W=e}}})}}),define("WinJS/Application/_State",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise"],function(e,t,n,i,r,o){
"use strict";function a(){var t,r,o,a=i.Class.define(function(e){this.folder=e,this._path=e.path,e.tryGetItemAsync&&(this._tryGetItemAsync=e.tryGetItemAsync.bind(e))},{_tryGetItemAsync:function(e){return this.folder.getFileAsync(e).then(null,function(){return!1})},exists:function(e){return this._tryGetItemAsync(e).then(function(e){return e?!0:!1})},remove:function(e){return this._tryGetItemAsync(e).then(function(e){return e?e.deleteAsync():!1}).then(null,function(){return!1})},writeText:function(e,t){var i=n.Windows.Storage,r=this;return r.folder.createFileAsync(e,i.CreationCollisionOption.openIfExists).then(function(e){return i.FileIO.writeTextAsync(e,t)})},readText:function(e,t){var i=n.Windows.Storage;return this._tryGetItemAsync(e).then(function(e){return e?i.FileIO.readTextAsync(e):t}).then(null,function(){return t})}},{supportedForProcessing:!1});i.Namespace._moduleDefine(e,"WinJS.Application",{local:{get:function(){return t||(t=new a(n.Windows.Storage.ApplicationData.current.localFolder)),t}},temp:{get:function(){return r||(r=new a(n.Windows.Storage.ApplicationData.current.temporaryFolder)),r}},roaming:{get:function(){return o||(o=new a(n.Windows.Storage.ApplicationData.current.roamingFolder)),o}}})}function s(){var t=i.Class.define(function(){this.storage={}},{exists:function(e){return o.as(void 0!==this.storage[e])},remove:function(e){return delete this.storage[e],o.as()},writeText:function(e,t){return this.storage[e]=t,o.as(t.length)},readText:function(e,t){var n=this.storage[e];return o.as("string"==typeof n?n:t)}},{supportedForProcessing:!1});i.Namespace._moduleDefine(e,"WinJS.Application",{local:new t,temp:new t,roaming:new t})}n.Windows.Storage.FileIO&&n.Windows.Storage.ApplicationData&&n.Windows.Storage.CreationCollisionOption?a():s();var c={};i.Namespace._moduleDefine(e,"WinJS.Application",{sessionState:{get:function(){return c},set:function(e){c=e}},_loadState:function(t){return 3===t.previousExecutionState?e.local.readText("_sessionState.json","{}").then(function(t){var n=JSON.parse(t);n&&Object.keys(n).length>0&&(e._sessionStateLoaded=!0),e.sessionState=n}).then(null,function(){e.sessionState={}}):o.as()},_oncheckpoint:function(n,i){if(!(t.MSApp&&t.MSApp.getViewOpener&&t.MSApp.getViewOpener())){var r=e.sessionState;if(r&&Object.keys(r).length>0||e._sessionStateLoaded){var o;try{o=JSON.stringify(r)}catch(a){o="",i.queueEvent({type:"error",detail:a})}n.setPromise(e.local.writeText("_sessionState.json",o).then(null,function(e){i.queueEvent({type:"error",detail:e})}))}}}})}),define("WinJS/Navigation",["exports","./Core/_Base","./Core/_Events","./Core/_WriteProfilerMark","./Promise"],function(e,t,n,i,r){"use strict";var o="navigated",a="navigating",s="beforenavigate",c=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),n.eventMixin),l=new c,u={backStack:[],current:{location:"",initialPlaceholder:!0},forwardStack:[]},d=n._createEventProperty,p=function(e){return i("WinJS.Navigation:navigation,StartTM"),r.as().then(function(){var t=r.as(),n=l.dispatchEvent(s,{setPromise:function(e){t=t.then(function(){return e})},location:e.location,state:e.state});return t.then(function(e){return n||e})})},f=function(e){return r.as().then(function(){var t=r.as();return l.dispatchEvent(a,{setPromise:function(e){t=t.then(function(){return e})},location:u.current.location,state:u.current.state,delta:e}),t})},m=function(e,t){i("WinJS.Navigation:navigation,StopTM");var n=r.as(),a={value:e,location:u.current.location,state:u.current.state,setPromise:function(e){n=n.then(function(){return e})}};return!e&&t&&(a.error=t),l.dispatchEvent(o,a),n},h=function(e,t,n,i){return e=Math.min(e,t.length),e>0?p(t[t.length-e]).then(function(r){if(r)return!1;for(n.push(u.current);e-1>0;)e--,n.push(t.pop());return u.current=t.pop(),f(i).then(m,function(e){throw m(void 0,e||!0),e}).then(function(){return!0})}):r.wrap(!1)};t.Namespace._moduleDefine(e,"WinJS.Navigation",{canGoForward:{get:function(){return u.forwardStack.length>0}},canGoBack:{get:function(){return u.backStack.length>0}},location:{get:function(){return u.current.location}},state:{get:function(){return u.current.state},set:function(e){u.current.state=e}},history:{get:function(){return u},set:function(e){u=e,u.backStack=u.backStack||[],u.forwardStack=u.forwardStack||[],u.current=u.current||{location:"",initialPlaceholder:!0},u.current.location=u.current.location||""}},forward:function(e){return e=e||1,h(e,u.forwardStack,u.backStack,e)},back:function(e){return e=e||1,h(e,u.backStack,u.forwardStack,-e)},navigate:function(e,t){var n={location:e,state:t};return p(n).then(function(e){return e?!1:(u.current.initialPlaceholder||u.backStack.push(u.current),u.forwardStack=[],u.current=n,f().then(m,function(e){throw m(void 0,e||!0),e}).then(function(){return!0}))})},addEventListener:function(e,t,n){l.addEventListener(e,t,n)},removeEventListener:function(e,t,n){l.removeEventListener(e,t,n)},onnavigated:d(o),onnavigating:d(a),onbeforenavigate:d(s)})}),define("WinJS/Application",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_Events","./Core/_Log","./Core/_WriteProfilerMark","./Application/_State","./Navigation","./Promise","./_Signal","./Scheduler","./Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s,c,l,u,d,p){"use strict";function f(e){var n;try{var i=[];n=JSON.stringify(e,function(e,n){return n===t?"[window]":n instanceof t.HTMLElement?"[HTMLElement]":"function"==typeof n?"[function]":"object"==typeof n?null===n?n:-1===i.indexOf(n)?(i.push(n),n):"[circular]":n})}catch(r){n=JSON.stringify("[object]")}return n}function m(n){if(o.log&&o.log(f(n),"winjs","error"),t.document&&e._terminateApp){var i=n.detail,r=i&&(i.number||i.exception&&(i.exception.number||i.exception.code)||i.error&&i.error.number||i.errorCode||0),a={description:f(i),stack:i&&(i.stack||i.exception&&(i.exception.stack||i.exception.message)||i.error&&i.error.stack||null),errorNumber:r,number:r};e._terminateApp(a,n)}}function h(e){t.MSApp&&t.MSApp.terminateApp(e)}function _(e){var t="def"+le++;return{deferral:ce[t]=e.getDeferral(),id:t}}function g(e,t){t&&(e=ce[t],delete ce[t]),e&&e.complete()}function y(){ce&&(Object.keys(ce).forEach(function(e){ce[e].complete()}),ce={})}function v(e){function t(t){return a("WinJS.Application:Event_"+e.type+",StopTM"),e._deferral&&g(e._deferral,e._deferralID),t}a("WinJS.Application:Event_"+e.type+",StartTM");var n=l.as();e.setPromise=function(e){n=n.then(function(){return e})},e._stoppedImmediatePropagation=!1,e.stopImmediatePropagation=function(){e._stoppedImmediatePropagation=!0},e.detail=e.detail||{},"object"==typeof e.detail&&(e.detail.setPromise=e.setPromise);try{if(ae._listeners){var i=!1;if(s=ae._listeners[e.type])for(var r=0,o=s.length;o>r&&!e._stoppedImmediatePropagation;r++)i=s[r].listener(e)||i}var s=pe[e.type];s&&s.forEach(function(t){t(e,i)})}catch(c){e.type===K?m(e):w({type:K,detail:c})}return n.then(t,function(e){return e=t(e),e&&"Canceled"===e.name?void 0:l.wrapError(e)})}function b(){return ne||(ne=new u,ne.promise.done(function(){ne=null},function(){ne=null})),ne}function k(e){function t(e){w({type:K,detail:e})}return 0===e.length?b().promise:v(e.shift()).then(null,t)}function I(e){function t(){return I}var n=e.job._queue;0===n.length&&ee.length>0&&(n=e.job._queue=C()),e.setPromise(k(n).then(t,t))}function S(){function e(){i=!0}for(var t,n=[],i=!0;i;)0===n.length&&ee.length>0&&(n=C()),i=!1,t=k(n),t.done(e,e);te=d.schedule(function(e){function n(){return I}e.setPromise(t.then(n,n))},d.Priority.high,null,"WinJS.Application._pumpEventQueue"),te._queue=n}function w(e){a("WinJS.Application:Event_"+e.type+" queued,Info"),ee.push(e),ie&&ne&&ne.complete(I)}function C(){var e=ee;return ee=[],e}function x(e){var t=_(e.activatedOperation);s._loadState(e).then(function(){w({type:z,detail:e,_deferral:t.deferral,_deferralID:t.id})})}function E(e){var t=_(e.suspendingOperation);w({type:j,_deferral:t.deferral,_deferralID:t.id})}function T(){if(w({type:J}),!t.document||!n.Windows.UI.WebUI.WebUIApplication){var e={arguments:"",kind:"Windows.Launch",previousExecutionState:0};s._loadState(e).then(function(){w({type:z,detail:e})})}}function L(){y(),w({type:U})}function B(t){var n={};for(var i in t)n[i]=t[i];var r,o=!0,a=e._terminateApp;try{e._terminateApp=function(e,t){o=!1,r=e,a!==h&&a(e,t)},v({type:K,detail:{error:n,errorLine:t.lineno,errorCharacter:t.colno,errorUrl:t.filename,errorMessage:t.message}})}finally{e._terminateApp=a}return o}function A(e){var t=e.detail,n=t.id;if(t.parent)return void(t.handler&&R&&delete R[n]);if(t.exception instanceof Error){var i={stack:t.exception.stack,message:t.exception.message};t.exception=i}var r=!R;R=R||[],R[n]=t,r&&d.schedule(function(){var e=R;R=null,e.forEach(function(e){w({type:K,detail:e})})},d.Priority.high,null,"WinJS.Application._queuePromiseErrors")}function P(e){var t={e:e,applicationcommands:void 0};ae.dispatchEvent(V,t)}function M(e){var t={type:G};Object.defineProperty(t,"_winRTBackPressedEvent",{value:e,enumerable:!1}),v(t)}function N(){v({type:Y})}function W(e){v({type:Q,kind:e.kind})}function O(e){v({type:$,kind:e.kind})}function q(e){v({type:Z,kind:e.kind})}function D(){if(!re){if(re=!0,t.addEventListener("beforeunload",L,!1),t.document){if(t.addEventListener("error",B,!1),n.Windows.UI.WebUI.WebUIApplication){var e=n.Windows.UI.WebUI.WebUIApplication;e.addEventListener("activated",x,!1),e.addEventListener("suspending",E,!1)}if(n.Windows.UI.ApplicationSettings.SettingsPane){var i=n.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();i.addEventListener("commandsrequested",P)}if(n.Windows.Phone.UI.Input.HardwareButtons&&n.Windows.Phone.UI.Input.HardwareButtons.addEventListener("backpressed",M),n.Windows.UI.Input.EdgeGesture){var r=n.Windows.UI.Input.EdgeGesture.getForCurrentView();r.addEventListener("starting",W),r.addEventListener("completed",O),r.addEventListener("canceled",q)}}l.addEventListener("error",A)}}function F(){if(re){if(re=!1,t.removeEventListener("beforeunload",L,!1),t.document){if(n.Windows.UI.WebUI.WebUIApplication){t.removeEventListener("error",B,!1);var e=n.Windows.UI.WebUI.WebUIApplication;e.removeEventListener("activated",x,!1),e.removeEventListener("suspending",E,!1)}if(n.Windows.UI.ApplicationSettings.SettingsPane){var i=n.Windows.UI.ApplicationSettings.SettingsPane.getForCurrentView();i.removeEventListener("commandsrequested",P)}if(n.Windows.Phone.UI.Input.HardwareButtons&&n.Windows.Phone.UI.Input.HardwareButtons.removeEventListener("backpressed",M),n.Windows.UI.Input.EdgeGesture){var r=n.Windows.UI.Input.EdgeGesture.getForCurrentView();r.removeEventListener("starting",W),r.removeEventListener("completed",O),r.removeEventListener("canceled",q)}}l.removeEventListener("error",A)}}t.Debug&&(t.Debug.setNonUserCodeExceptions=!0);var R,j="checkpoint",U="unload",z="activated",J="loaded",H="ready",K="error",V="settings",G="backclick",Y="beforerequestingfocusonkeyboardinput",X="requestingfocusonkeyboardinput",Q="edgystarting",$="edgycompleted",Z="edgycanceled",ee=[],te=null,ne=null,ie=!1,re=!1,oe=i.Class.mix(i.Class.define(null,{},{supportedForProcessing:!1}),r.eventMixin),ae=new oe,se=r._createEventProperty,ce={},le=0,ue={_registered:!1,updateRegistration:function(){var e=ae._listeners&&ae._listeners[X]||[];!ue._registered&&e.length>0&&(ue._updateKeydownCaptureListeners(t.top,!0),ue._registered=!0),ue._registered&&0===e.length&&(ue._updateKeydownCaptureListeners(t.top,!1),ue._registered=!1)},_keydownCaptureHandler:function(e){ue._registered&&ue._shouldKeyTriggerTypeToSearch(e)&&N()},_frameLoadCaptureHandler:function(e){ue._registered&&ue._updateKeydownCaptureListeners(e.target.contentWindow,!0)},_updateKeydownCaptureListeners:function(e,t){if(e){try{t?e.document.addEventListener("keydown",ue._keydownCaptureHandler,!0):e.document.removeEventListener("keydown",ue._keydownCaptureHandler,!0)}catch(n){}if(e.frames)for(var i=0,r=e.frames.length;r>i;i++){var o=e.frames[i];ue._updateKeydownCaptureListeners(o,t);try{t?o.frameElement&&o.frameElement.addEventListener("load",ue._frameLoadCaptureHandler,!0):o.frameElement&&o.frameElement.removeEventListener("load",ue._frameLoadCaptureHandler,!0)}catch(n){}}}},_shouldKeyTriggerTypeToSearch:function(e){var t=!1;if(!e.metaKey&&(!e.ctrlKey&&!e.altKey||e.getModifierState&&e.getModifierState("AltGraph")))switch(e.keyCode){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 186:case 187:case 188:case 189:case 190:case 191:case 192:case 219:case 220:case 221:case 222:case 223:case 226:case 229:case 231:t=!0}return t}},de=h,pe={activated:[function(){w({type:H})}],checkpoint:[function(t){s._oncheckpoint(t,e)}],error:[function(e,t){t||m(e)}],backclick:[function(e,t){t?e._winRTBackPressedEvent.handled=!0:c.canGoBack&&(c.back(),e._winRTBackPressedEvent.handled=!0)}],beforerequestingfocusonkeyboardinput:[function(e,t){t||v({type:X})}]};t.document&&t.document.addEventListener("DOMContentLoaded",T,!1);var fe=i.Namespace._moduleDefine(e,"WinJS.Application",{stop:function(){fe.onactivated=null,fe.oncheckpoint=null,fe.onerror=null,fe.onloaded=null,fe.onready=null,fe.onsettings=null,fe.onunload=null,fe.onbackclick=null,ae=new oe,s.sessionState={},ie=!1,C(),te&&te.cancel(),te=null,ne=null,F(),ue.updateRegistration(),y()},addEventListener:function(e,t,n){ae.addEventListener(e,t,n),e===X&&ue.updateRegistration()},removeEventListener:function(e,t,n){ae.removeEventListener(e,t,n),e===X&&ue.updateRegistration()},checkpoint:function(){w({type:j})},start:function(){D(),ie=!0,S()},queueEvent:w,_dispatchEvent:v,_terminateApp:{get:function(){return de},set:function(e){de=e}},_applicationListener:i.Namespace._lazy(function(){return new p._GenericListener("Application",fe)}),oncheckpoint:se(j),onunload:se(U),onactivated:se(z),onloaded:se(J),onready:se(H),onsettings:se(V),onerror:se(K),onbackclick:se(G)})}),define("WinJS/Animations/_Constants",["exports","../Core/_Base"],function(e,t){"use strict";t.Namespace._moduleDefine(e,"WinJS.UI",{PageNavigationAnimation:{turnstile:"turnstile",slide:"slide",enterPage:"enterPage",continuum:"continuum"}})}),define("WinJS/Animations/_TransitionAnimation",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Promise","../Scheduler","../Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s){"use strict";function c(e){return Array.isArray(e)||e instanceof t.NodeList||e instanceof t.HTMLCollection?e:e?[e]:[]}function l(){return++E,"WinJSUIAnimation"+E}function u(e){return"WinJSUIAnimation"===e.substring(0,16)}function d(e){t.getComputedStyle(e,null).opacity}function p(t,n){return function(i){var r={};for(var o in i){var a=i[o];"function"==typeof a&&(a=a(t,n)),r[o]=a}return r.exactTiming||(r.delay+=e._libraryDelay),r}}function f(e,t){var n=e+"|"+t,i=T[n];i&&i(L)}function m(e,t,n){T[e+"|"+t]=n}function h(e,t){delete T[e+"|"+t]}function _(e,t,n,i,r){var o=r.styleCaches[t]||new A(t,r,n);o.cref+=i.length,i.forEach(function(e){f(t,e.property)}),(r.isTransition||i.some(function(e){return o.removed[e[r.nameField]]}))&&(d(e),o.removed={});var a=i.map(function(e){return e[r.nameField]+" "+r.props.map(function(t){return(t[1]?e[t[1]]:"")+t[2]}).join(" ")}).join(", "),s=i.map(function(e){return e[r.nameField]}).join(", ");return""!==o.names&&(a=o.names+", "+a,s=o.names+", "+s),n[r.shorthandProp]=a,o.names=s,o}function g(e,t){t?e():a.schedule(function(){e()},a.Priority.normal,null,"WinJS.UI._Animation._completeAnimationPromise")}function y(e,n,i,a,c){if(i.length>0){var l=e.style,u=s._uniqueID(e);if(w||(w=t.document.createElement("DIV").style),i=i.map(p(n,e)),i.forEach(function(e){var t=r._getCamelCasedName(e.property);e.hasOwnProperty("from")&&(l[t]=e.from),w[t]=e.to,e.to=w[t],e.propertyScriptName=t}),c){var d=_(e,u,l,i,P),f=e.disabled?t.document:e;i.forEach(function(n){var i;a.push(new o(function(o){i=function(i){a&&(f.removeEventListener(r._browserEventEquivalents.transitionEnd,a,!1),h(u,n.property),d.removeName(l,n.propertyScriptName,i?e:null,n.skipStylesReset),t.clearTimeout(c),a=null),g(o,i===B)};var a=function(t){t.target===e&&t.propertyName===n.property&&i()};m(u,n.property,i),f.addEventListener(r._browserEventEquivalents.transitionEnd,a,!1);var s=0;l[n.propertyScriptName]!==n.to&&(l[n.propertyScriptName]=n.to,s=50);var c=t.setTimeout(function(){c=t.setTimeout(i,n.delay+n.duration)},s)},function(){i(B)}))})}else i.forEach(function(e){l[e.propertyScriptName]=e.to})}}function v(e,n,i,a,c){if(c&&i.length>0){var u=e.style,d=s._uniqueID(e);i=i.map(p(n,e));var f,y=e.disabled?t.document:e;i.forEach(function(e){if(e.keyframe)e.keyframe=x.animationPrefix+e.keyframe;else{f||(f=t.document.createElement("STYLE"),t.document.documentElement.appendChild(f)),e.keyframe=l();var n="@"+x.keyframes+" "+e.keyframe+" { from {"+e.property+":"+e.from+";} to {"+e.property+":"+e.to+";}}";f.sheet.insertRule(n,0)}});var v=_(e,d,u,i,M),b=[],k=[];i.forEach(function(n){var i;k.push(new o(function(o){i=function(e){a&&(y.removeEventListener(r._browserEventEquivalents.animationEnd,a,!1),t.clearTimeout(s),a=null),g(o,e===B)};var a=function(t){t.target===e&&t.animationName===n.keyframe&&i()};m(d,n.property,i),b.push({id:d,property:n.property,style:u,keyframe:n.keyframe});var s=t.setTimeout(function(){s=t.setTimeout(i,n.delay+n.duration)},50);y.addEventListener(r._browserEventEquivalents.animationEnd,a,!1)},function(){i(B)}))}),f&&t.setTimeout(function(){var e=f.parentElement;e&&e.removeChild(f)},50);var I=function(){for(var e=0;e<b.length;e++){var t=b[e];h(t.id,t.property),v.removeName(t.style,t.keyframe)}};a.push(o.join(k).then(I,I))}}function b(){C||(C=n.Windows.UI.ViewManagement.UISettings?new n.Windows.UI.ViewManagement.UISettings:{animationsEnabled:!0})}function k(t,n,i){try{for(var r=e.isAnimationEnabled(),s=c(t),l=c(n),u=[],d=0;d<s.length;d++)if(Array.isArray(s[d]))for(var p=0;p<s[d].length;p++)i(s[d][p],d,l,u,r);else i(s[d],d,l,u,r);return u.length?o.join(u):a.schedulePromiseNormal(null,"WinJS.UI._Animation._completeActionPromise").then(null,function(){})}catch(f){return o.wrapError(f)}}function I(e){return Array.isArray(e)?e.map(function(e){return I(e)}):e?(e.delay=O(e.delay),e.duration=O(e.duration),e):void 0}function S(e){return 1===q?e:I(e)}if(t.document){var w,C,x=r._browserStyleEquivalents,E=0,T=[],L=1,B=2,A=i.Class.define(function(e,t,n){this.cref=0,this.id=e,this.desc=t,this.removed={},this.prevStyles=t.props.map(function(e){return n[e[0]]}),this.prevNames=this.names=n[t.nameProp],t.styleCaches[e]=this},{destroy:function(e,t){var n=this.desc;delete n.styleCaches[this.id],t||(""===this.prevNames&&this.prevStyles.every(function(e){return""===e})?e[n.shorthandProp]="":(n.props.forEach(function(t,n){e[t[0]]=this.prevStyles[n]},this),e[n.nameProp]=this.prevNames))},removeName:function(e,t,n,i){var r=this.names,o=r.split(", "),a=o.lastIndexOf(t);a>=0&&(o.splice(a,1),this.names=r=o.join(", "),""===r&&this.desc.isTransition&&(r="none")),--this.cref?(e[this.desc.nameProp]=r,u(t)||(this.removed[t]=!0)):(n&&"none"===r&&(e[this.desc.nameProp]=r,d(n)),this.destroy(e,i))}}),P={shorthandProp:x.transition.scriptName,nameProp:x["transition-property"].scriptName,nameField:"property",props:[[x["transition-duration"].scriptName,"duration","ms"],[x["transition-timing-function"].scriptName,"timing",""],[x["transition-delay"].scriptName,"delay","ms"]],isTransition:!0,styleCaches:[]},M={shorthandProp:x.animation.scriptName,nameProp:x["animation-name"].scriptName,nameField:"keyframe",props:[[x["animation-duration"].scriptName,"duration","ms"],[x["animation-timing-function"].scriptName,"timing",""],[x["animation-delay"].scriptName,"delay","ms"],[x["animation-iteration-count"].scriptName,"","1"],[x["animation-direction"].scriptName,"","normal"],[x["animation-fill-mode"].scriptName,"","both"]],isTransition:!1,styleCaches:[]},N=0,W=function(){return b(),N+C.animationsEnabled>0},O=function(e){return e*q},q=1,D=0;i.Namespace._moduleDefine(e,"WinJS.UI",{disableAnimations:function(){N--},enableAnimations:function(){N++},isAnimationEnabled:{get:function(){return W},set:function(e){W=e}},_libraryDelay:{get:function(){return D},set:function(e){D=e}},executeAnimation:function(e,t){return k(e,S(t),v)},executeTransition:function(e,t){return k(e,S(t),y)},_animationTimeAdjustment:{get:function(){return O},set:function(e){O=e}}}),i.Namespace._moduleDefine(e,"WinJS.Utilities",{_fastAnimations:{get:function(){return.05===q},set:function(e){q=e?.05:1}},_slowAnimations:{get:function(){return 3===q},set:function(e){q=e?3:1}},_animationFactor:{get:function(){return q},set:function(e){q=e}}})}}),define("WinJS/Animations",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_WriteProfilerMark","./Animations/_Constants","./Animations/_TransitionAnimation","./Promise"],function(e,t,n,i,r,o,a,s){"use strict";function c(e,t,n){return e.keyframe?e.keyframe:!n||e.left!==t.left||e.top!==t.top||e.rtlflip&&!t.rtlflip?null:e.rtlflip?u(n):n}function l(e,t){return t&&e.rtlflip?u(t):t}function u(e){var n=e+"-rtl";return function(i,r){return"ltr"===t.getComputedStyle(r).direction?e:n}}function d(e){return Array.isArray(e)||e instanceof t.NodeList||e instanceof t.HTMLCollection?e:e?[e]:[]}function p(e){for(var n=[],i=0;i<e.length;i++){var r={top:e[i].offsetTop,left:e[i].offsetLeft},o=t.getComputedStyle(e[i],null)[T.scriptName].split(",");6===o.length&&(r.left+=parseFloat(o[4]),r.top+=parseFloat(o[5])),n.push(r)}return n}function f(e,t,n,i){return function(r){for(var o=e,a=0;r>a;a++)t*=n,o+=t;return i&&(o=Math.min(o,i)),o}}function m(e,t){for(var n=0;n<t.length;n++)t[n].top-=e[n].offsetTop,t[n].left-=e[n].offsetLeft}function h(e,t,n){m(e,t);for(var i=0;i<e.length;i++)(0!==t[i].top||0!==t[i].left)&&(e[i].style[T.scriptName]="translate("+t[i].left+"px, "+t[i].top+"px)");return a.executeTransition(e,n)}function _(e,t,n,i,r,o,s,c){function l(e,t,n){if(e){var i={left:t+"px",top:"0px"},r={left:n+"px",top:"0px"};if(+e.length===e.length)for(var o=0,a=e.length;a>o;o++)u.push(e[o]),d.push(i),p.push(r);else u.push(e),d.push(i),p.push(r)}}var u=[],d=[],p=[],f=200,m=0!==t?0>t?-f:f:0,h=0!==n?0>n?-f:f:0;return l(r,t,n),l(o,m,h),l(s,2*m,2*h),l(c,3*m,3*h),d=new B(d),p=new B(p),a.executeTransition(u,[{property:T.cssName,delay:0,duration:350,timing:e,from:v(d),to:v(p)},{property:"opacity",delay:0,duration:350,timing:i?"steps(1, start)":"steps(1, end)",from:i?0:1,to:i?1:0}])}function g(e,n,r){function o(){y(e)}e=d(e),n=d(n);for(var s=0,c=e.length;c>s;s++){var l="rtl"===t.getComputedStyle(e[s]).direction;e[s].style[i._browserStyleEquivalents["transform-origin"].scriptName]=n[Math.min(n.length-1,s)][l?"rtl":"ltr"]}return a.executeTransition(e,r).then(o,o)}function y(e){for(var t=0,n=e.length;n>t;t++)e[t].style[i._browserStyleEquivalents["transform-origin"].scriptName]="",e[t].style[T.scriptName]="",e[t].style.opacity=""}function v(e,n){return n=n||"",function(i,r){var o=e.getOffset(i),a=o.left;return o.rtlflip&&"rtl"===t.getComputedStyle(r).direction&&(a=a.toString(),a="-"===a.charAt(0)?a.substring(1):"-"+a),n+"translate("+a+", "+o.top+")"}}function b(e,t){return t=t||"",function(n){var i=e[n];return"translate("+i.left+"px, "+i.top+"px) "+t}}function k(e,t){return function(n){var i=e[n];return 0===i.left&&0===i.top?t:null}}function I(e,t,n,i){var r=d(t),o=d(n),a=p(o);return new e(r,o,a,i)}function S(e){for(var n=[],i=0,r=e.length;r>i;i++){var o=e[i].getBoundingClientRect(),a=-(40+o.left),s=40+(t.innerWidth-o.right),c=t.innerHeight/2-o.top;n.push({ltr:a+"px "+c+"px",rtl:s+"px "+c+"px"})}return n}function w(e){r("WinJS.UI.Animation:"+e)}function C(e,n){var r=n.duration*a._animationFactor,o=i._browserStyleEquivalents.transition.scriptName;e.style[o]=r+"ms "+T.cssName+" "+n.timing,e.style[T.scriptName]=n.to;var c;return new s(function(n){var a=function(t){t.target===e&&t.propertyName===T.cssName&&c()},s=!1;c=function(){s||(t.clearTimeout(l),e.removeEventListener(i._browserEventEquivalents.transitionEnd,a),e.style[o]="",s=!0),n()};var l=t.setTimeout(function(){l=t.setTimeout(c,r)},50);e.addEventListener(i._browserEventEquivalents.transitionEnd,a)},function(){c()})}function x(){return{defaultResizeGrowTransition:{duration:350,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"},defaultResizeShrinkTransition:{duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)"}}}function E(e,n,r){var o=x()[r.to>r.from?"defaultResizeGrowTransition":"defaultResizeShrinkTransition"];r=i._merge(r,{duration:void 0===r.duration?o.duration:r.duration,timing:void 0===r.timing?o.timing:r.timing});var a=r.actualSize-r.from,s=r.actualSize-r.to;r.anchorTrailingEdge||(a=-a,s=-s);var c="width"===r.dimension?"translateX":"translateY",l={duration:r.duration,timing:r.timing};e.style[T.scriptName]=c+"("+a+"px)",n.style[T.scriptName]=c+"("+-a+"px)",t.getComputedStyle(e).opacity,t.getComputedStyle(n).opacity;var u=i._merge(l,{to:c+"("+s+"px)"}),d=i._merge(l,{to:c+"("+-s+"px)"});return[{element:e,transition:u},{element:n,transition:d}]}var T=i._browserStyleEquivalents.transform,L=[{top:"0px",left:"11px",rtlflip:!0}],B=n.Class.define(function(e,t,n){n=n||L,Array.isArray(e)&&e.length>0?(this.offsetArray=e,1===e.length&&(this.keyframe=c(e[0],n[0],t))):e&&e.hasOwnProperty("top")&&e.hasOwnProperty("left")?(this.offsetArray=[e],this.keyframe=c(e,n[0],t)):(this.offsetArray=n,this.keyframe=l(n[0],t))},{getOffset:function(e){return e>=this.offsetArray.length&&(e=this.offsetArray.length-1),this.offsetArray[e]}},{supportedForProcessing:!1}),A=n.Class.define(function(e,t,n){this.revealedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){w("expandAnimation,StartTM");var e=a.executeAnimation(this.revealedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?200:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}),t=h(this.affectedArray,this.offsetArray,{property:T.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([e,t]).then(function(){w("expandAnimation,StopTM")})}},{supportedForProcessing:!1}),P=n.Class.define(function(e,t,n){this.hiddenArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){w("collapseAnimation,StartTM");var e=a.executeAnimation(this.hiddenArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0}),t=h(this.affectedArray,this.offsetArray,{property:T.cssName,delay:this.hiddenArray.length>0?167:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([e,t]).then(function(){w("collapseAnimation,StopTM")})}},{supportedForProcessing:!1}),M=n.Class.define(function(e,t,n){this.elementArray=t,this.offsetArray=n},{execute:function(){return w("repositionAnimation,StartTM"),h(this.elementArray,this.offsetArray,{property:T.cssName,delay:f(0,33,1,250),duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){w("repositionAnimation,StopTM")})}},{supportedForProcessing:!1}),N=n.Class.define(function(e,t,n){this.addedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){w("addToListAnimation,StartTM");var e=this.affectedArray.length>0?240:0,t=a.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:T.cssName,delay:e,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:e,duration:120,timing:"linear",from:0,to:1}]),n=h(this.affectedArray,this.offsetArray,{property:T.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([t,n]).then(function(){w("addToListAnimation,StopTM")})}},{supportedForProcessing:!1}),W=n.Class.define(function(e,t,n){this.deletedArray=e,this.remainingArray=t,this.offsetArray=n},{execute:function(){w("deleteFromListAnimation,StartTM");var e=a.executeAnimation(this.deletedArray,[{keyframe:"WinJS-scale-down",property:T.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:"none",to:"scale(0.85)"},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]),t=h(this.remainingArray,this.offsetArray,{property:T.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([e,t]).then(function(){w("deleteFromListAnimation,StopTM")})}},{supportedForProcessing:!1}),O=n.Class.define(function(e,t,n,i){this.addedArray=e,this.affectedArray=t,this.offsetArray=n;var r=d(i);this.deletedArray=r,this.deletedOffsetArray=p(r)},{execute:function(){w("_updateListAnimation,StartTM"),m(this.deletedArray,this.deletedOffsetArray);var e=0,t=a.executeAnimation(this.deletedArray,[{keyframe:k(this.deletedOffsetArray,"WinJS-scale-down"),property:T.cssName,delay:0,duration:120,timing:"cubic-bezier(0.11, 0.5, 0.24, .96)",from:b(this.deletedOffsetArray),to:b(this.deletedOffsetArray,"scale(0.85)")},{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:120,timing:"linear",from:1,to:0}]);this.deletedArray.length>0&&(e+=60);var n=h(this.affectedArray,this.offsetArray,{property:T.cssName,delay:e,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});this.affectedArray.length>0?e+=240:e&&(e+=60);var i=a.executeAnimation(this.addedArray,[{keyframe:"WinJS-scale-up",property:T.cssName,delay:e,duration:120,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"scale(0.85)",to:"none"},{keyframe:"WinJS-opacity-in",property:"opacity",delay:e,duration:120,timing:"linear",from:0,to:1}]);return s.join([t,n,i]).then(function(){w("_updateListAnimation,StopTM")})}},{supportedForProcessing:!1}),q=n.Class.define(function(e,t,n){this.addedArray=e,this.affectedArray=t,this.offsetArray=n},{execute:function(){w("addToSearchListAnimation,StartTM");var e=a.executeAnimation(this.addedArray,{keyframe:"WinJS-opacity-in",property:"opacity",delay:this.affectedArray.length>0?240:0,duration:117,timing:"linear",from:0,to:1}),t=h(this.affectedArray,this.offsetArray,{property:T.cssName,delay:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([e,t]).then(function(){w("addToSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),D=n.Class.define(function(e,t,n){this.deletedArray=e,this.remainingArray=t,this.offsetArray=n},{execute:function(){w("deleteFromSearchListAnimation,StartTM");var e=a.executeAnimation(this.deletedArray,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:93,timing:"linear",from:1,to:0}),t=h(this.remainingArray,this.offsetArray,{property:T.cssName,delay:this.deletedArray.length>0?60:0,duration:400,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([e,t]).then(function(){w("deleteFromSearchListAnimation,StopTM")})}},{supportedForProcessing:!1}),F=n.Class.define(function(e,t,n){this.elementArray=t,this.offsetArray=n},{execute:function(){return w("peekAnimation,StartTM"),h(this.elementArray,this.offsetArray,{property:T.cssName,delay:0,duration:2e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){w("peekAnimation,StopTM")})}},{supportedForProcessing:!1});n.Namespace._moduleDefine(e,"WinJS.UI.Animation",{createExpandAnimation:function(e,t){return I(A,e,t)},createCollapseAnimation:function(e,t){return I(P,e,t)},createRepositionAnimation:function(e){return I(M,null,e)},fadeIn:function(e){return w("fadeIn,StartTM"),a.executeTransition(e,{property:"opacity",delay:0,duration:250,timing:"linear",from:0,to:1}).then(function(){w("fadeIn,StopTM")})},fadeOut:function(e){return w("fadeOut,StartTM"),a.executeTransition(e,{property:"opacity",delay:0,duration:167,timing:"linear",to:0}).then(function(){w("fadeOut,StopTM")})},createAddToListAnimation:function(e,t){return I(N,e,t)},createDeleteFromListAnimation:function(e,t){return I(W,e,t)},
_createUpdateListAnimation:function(e,t,n){return I(O,e,n,t)},createAddToSearchListAnimation:function(e,t){return I(q,e,t)},createDeleteFromSearchListAnimation:function(e,t){return I(D,e,t)},showEdgeUI:function(e,t,n){w("showEdgeUI,StartTM");var i=n&&"transition"===n.mechanism,r=new B(t,"WinJS-showEdgeUI",[{top:"-70px",left:"0px"}]);return a[i?"executeTransition":"executeAnimation"](e,{keyframe:r.keyframe,property:T.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i?v(r):r.keyframe||v(r),to:"none"}).then(function(){w("showEdgeUI,StopTM")})},showPanel:function(e,t){w("showPanel,StartTM");var n=new B(t,"WinJS-showPanel",[{top:"0px",left:"364px",rtlflip:!0}]);return a.executeAnimation(e,{keyframe:n.keyframe,property:T.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||v(n),to:"none"}).then(function(){w("showPanel,StopTM")})},hideEdgeUI:function(e,t,n){w("hideEdgeUI,StartTM");var i=n&&"transition"===n.mechanism,r=new B(t,"WinJS-hideEdgeUI",[{top:"-70px",left:"0px"}]);return a[i?"executeTransition":"executeAnimation"](e,{keyframe:r.keyframe,property:T.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:i?v(r):r.keyframe||v(r)}).then(function(){w("hideEdgeUI,StopTM")})},hidePanel:function(e,t){w("hidePanel,StartTM");var n=new B(t,"WinJS-hidePanel",[{top:"0px",left:"364px",rtlflip:!0}]);return a.executeAnimation(e,{keyframe:n.keyframe,property:T.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:"none",to:n.keyframe||v(n)}).then(function(){w("hidePanel,StopTM")})},showPopup:function(e,t){w("showPopup,StartTM");var n=new B(t,"WinJS-showPopup",[{top:"50px",left:"0px"}]);return a.executeAnimation(e,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:83,duration:83,timing:"linear",from:0,to:1},{keyframe:n.keyframe,property:T.cssName,delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||v(n),to:"none"}]).then(function(){w("showPopup,StopTM")})},hidePopup:function(e){return w("hidePopup,StartTM"),a.executeAnimation(e,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:83,timing:"linear",from:1,to:0}).then(function(){w("hidePopup,StopTM")})},pointerDown:function(e){return w("pointerDown,StartTM"),a.executeTransition(e,{property:T.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.975, 0.975)"}).then(function(){w("pointerDown,StopTM")})},pointerUp:function(e){return w("pointerUp,StartTM"),a.executeTransition(e,{property:T.cssName,delay:0,duration:167,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}).then(function(){w("pointerUp,StopTM")})},dragSourceStart:function(e,t){w("dragSourceStart,StartTM");var n=a.executeTransition(e,[{property:T.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(1.05)"},{property:"opacity",delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:.65}]),i=a.executeTransition(t,{property:T.cssName,delay:0,duration:240,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"});return s.join([n,i]).then(function(){w("dragSourceStart,StopTM")})},dragSourceEnd:function(e,t,n){w("dragSourceEnd,StartTM");var i=new B(t,"WinJS-dragSourceEnd"),r=a.executeTransition(e,[{property:T.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:1}]),o=a.executeAnimation(e,{keyframe:i.keyframe,property:T.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:i.keyframe||v(i,"scale(1.05) "),to:"none"}),c=a.executeTransition(n,{property:T.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""});return s.join([r,o,c]).then(function(){w("dragSourceEnd,StopTM")})},enterContent:function(e,t,n){w("enterContent,StartTM");var i,r=new B(t,"WinJS-enterContent",[{top:"28px",left:"0px",rtlflip:!1}]);if(n&&"transition"===n.mechanism)i=a.executeTransition(e,[{property:T.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:v(r),to:"none"},{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1}]);else{var o=a.executeAnimation(e,{keyframe:r.keyframe,property:T.cssName,delay:0,duration:550,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:r.keyframe||v(r),to:"none"}),c=a.executeTransition(e,{property:"opacity",delay:0,duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});i=s.join([o,c])}return i.then(function(){w("enterContent,StopTM")})},exitContent:function(e,t){w("exitContent,StartTM");var n=new B(t,"WinJS-exit",[{top:"0px",left:"0px"}]),i=a.executeAnimation(e,t&&{keyframe:n.keyframe,property:T.cssName,delay:0,duration:117,timing:"linear",from:"none",to:n.keyframe||v(n)}),r=a.executeTransition(e,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return s.join([i,r]).then(function(){w("exitContent,StopTM")})},dragBetweenEnter:function(e,t){w("dragBetweenEnter,StartTM");var n=new B(t,null,[{top:"-40px",left:"0px"},{top:"40px",left:"0px"}]);return a.executeTransition(e,{property:T.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:v(n,"scale(0.95) ")}).then(function(){w("dragBetweenEnter,StopTM")})},dragBetweenLeave:function(e){return w("dragBetweenLeave,StartTM"),a.executeTransition(e,{property:T.cssName,delay:0,duration:200,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:"scale(0.95)"}).then(function(){w("dragBetweenLeave,StopTM")})},swipeSelect:function(e,t){w("swipeSelect,StartTM");var n=a.executeTransition(e,{property:T.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),i=a.executeAnimation(t,{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return s.join([n,i]).then(function(){w("swipeSelect,StopTM")})},swipeDeselect:function(e,t){w("swipeDeselect,StartTM");var n=a.executeTransition(e,{property:T.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:""}),i=a.executeAnimation(t,{keyframe:"WinJS-opacity-out",property:"opacity",delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:1,to:0});return s.join([n,i]).then(function(){w("swipeDeselect,StopTM")})},swipeReveal:function(e,t){w("swipeReveal,StartTM");var n=new B(t,null,[{top:"25px",left:"0px"}]);return a.executeTransition(e,{property:T.cssName,delay:0,duration:300,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",to:v(n)}).then(function(){w("swipeReveal,StopTM")})},enterPage:function(e,t){w("enterPage,StartTM");var n=new B(t,"WinJS-enterPage",[{top:"28px",left:"0px",rtlflip:!1}]),i=a.executeAnimation(e,{keyframe:n.keyframe,property:T.cssName,delay:f(0,83,1,333),duration:1e3,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||v(n),to:"none"}),r=a.executeTransition(e,{property:"opacity",delay:f(0,83,1,333),duration:170,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1});return s.join([i,r]).then(function(){w("enterPage,StopTM")})},exitPage:function(e,t){w("exitPage,StartTM");var n=new B(t,"WinJS-exit",[{top:"0px",left:"0px"}]),i=a.executeAnimation(e,t&&{keyframe:n.keyframe,property:T.cssName,delay:0,duration:117,timing:"linear",from:"none",to:n.keyframe||v(n)}),r=a.executeTransition(e,{property:"opacity",delay:0,duration:117,timing:"linear",to:0});return s.join([i,r]).then(function(){w("exitPage,StopTM")})},crossFade:function(e,t){w("crossFade,StartTM");var n=a.executeTransition(e,{property:"opacity",delay:0,duration:167,timing:"linear",to:1}),i=a.executeTransition(t,{property:"opacity",delay:0,duration:167,timing:"linear",to:0});return s.join([n,i]).then(function(){w("crossFade,StopTM")})},createPeekAnimation:function(e){return I(F,null,e)},updateBadge:function(e,t){w("updateBadge,StartTM");var n=new B(t,"WinJS-updateBadge",[{top:"24px",left:"0px"}]);return a.executeAnimation(e,[{keyframe:"WinJS-opacity-in",property:"opacity",delay:0,duration:367,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:0,to:1},{keyframe:n.keyframe,property:T.cssName,delay:0,duration:1333,timing:"cubic-bezier(0.1, 0.9, 0.2, 1)",from:n.keyframe||v(n),to:"none"}]).then(function(){w("updateBadge,StopTM")})},turnstileForwardIn:function(e){w("turnstileForwardIn,StartTM"),e=d(e);var t=S(e);return g(e,t,[{property:T.cssName,delay:f(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(80deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:f(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){w("turnstileForwardIn,StopTM")})},turnstileForwardOut:function(e){w("turnstileForwardOut,StartTM"),e=d(e);var t=S(e);return g(e,t,[{property:T.cssName,delay:f(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(600px) rotateY(0deg)",to:"perspective(600px) rotateY(-50deg)"},{property:"opacity",delay:f(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){w("turnstileForwardOut,StopTM")})},turnstileBackwardIn:function(e){w("turnstileBackwardIn,StartTM"),e=d(e);var t=S(e);return g(e,t,[{property:T.cssName,delay:f(0,50,1,1e3),duration:300,timing:"cubic-bezier(0.01,0.975,0.4775,0.9775)",from:"perspective(600px) rotateY(-50deg)",to:"perspective(600px) rotateY(0deg)"},{property:"opacity",delay:f(0,50,1,1e3),duration:300,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){w("turnstileBackwardIn,StopTM")})},turnstileBackwardOut:function(e){w("turnstileBackwardOut,StartTM"),e=d(e);var t=S(e);return g(e,t,[{property:T.cssName,delay:f(0,50,1,1e3),duration:128,timing:"cubic-bezier(0.4925,0.01,0.7675,-0.01)",from:"perspective(800px) rotateY(0deg)",to:"perspective(800px) rotateY(80deg)"},{property:"opacity",delay:f(0,50,1,1e3),duration:128,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){w("turnstileBackwardOut,StopTM")})},slideDown:function(e){return w("slideDown,StartTM"),g(e,{ltr:"",rtl:""},[{property:T.cssName,delay:0,duration:250,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"translate(0px, 0px)",to:"translate(0px, 200px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){w("slideDown,StopTM")})},slideUp:function(e){return w("slideUp,StartTM"),g(e,{ltr:"",rtl:""},[{property:T.cssName,delay:0,duration:350,timing:"cubic-bezier(0.17,0.79,0.215,1.0025)",from:"translate(0px, 200px)",to:"translate(0px, 0px)"},{property:"opacity",delay:f(0,34,1,1e3),duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]).then(function(){w("slideUp,StopTM")})},slideRightIn:function(e,n,i,r){return w("slideRightIn,StartTM"),_("cubic-bezier(0.17,0.79,0.215,1.0025)",-t.innerWidth,0,!0,e,n,i,r).then(function(){w("slideRightIn,StopTM")})},slideRightOut:function(e,n,i,r){return w("slideRightOut,StartTM"),_("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,t.innerWidth,!1,e,n,i,r).then(function(){w("slideRightOut,StopTM")})},slideLeftIn:function(e,n,i,r){return w("slideLeftIn,StartTM"),_("cubic-bezier(0.17,0.79,0.215,1.0025)",t.innerWidth,0,!0,e,n,i,r).then(function(){w("slideLeftIn,StopTM")})},slideLeftOut:function(e,n,i,r){return w("slideLeftOut,StartTM"),_("cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",0,-t.innerWidth,!1,e,n,i,r).then(function(){w("slideLeftOut,StopTM")})},continuumForwardIn:function(e,t,n){return w("continuumForwardIn,StartTM"),s.join([a.executeTransition(e,[{property:T.cssName,delay:0,duration:350,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(0.5, 0.5)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),a.executeTransition(t,[{property:T.cssName,delay:0,duration:350,timing:"cubic-bezier(0.24,1.15,0.11,1.1575)",from:"translate(0px, 225px)",to:"translate(0px, 0px)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),g(n,{ltr:"0px 50%",rtl:"100% 50%"},[{property:T.cssName,delay:0,duration:350,timing:"cubic-bezier(0,0.62,0.8225,0.9625)",from:"rotateX(80deg) scale(1.5, 1.5)",to:"rotateX(0deg) scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:350,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){w("continuumForwardIn,StopTM")})},continuumForwardOut:function(e,t){return w("continuumForwardOut,StartTM"),s.join([a.executeTransition(e,[{property:T.cssName,delay:0,duration:120,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(1.1, 1.1)"},{property:"opacity",delay:0,duration:120,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]),g(t,{ltr:"0px 100%",rtl:"100% 100%"},[{property:T.cssName,delay:0,duration:152,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"rotateX(0deg) scale(1.0, 1.0) translate(0px, 0px)",to:"rotateX(80deg) scale(1.5, 1.5) translate(0px, 150px)"},{property:"opacity",delay:0,duration:152,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}])]).then(function(){w("continuumForwardOut,StopTM")})},continuumBackwardIn:function(e,t){return w("continuumBackwardIn,StartTM"),s.join([a.executeTransition(e,[{property:T.cssName,delay:0,duration:200,timing:"cubic-bezier(0.33, 0.18, 0.11, 1)",from:"scale(1.25, 1.25)",to:"scale(1.0, 1.0)"},{property:"opacity",delay:0,duration:200,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}]),g(t,{ltr:"0px 50%",rtl:"100% 50%"},[{property:T.cssName,delay:0,duration:250,timing:"cubic-bezier(0.2975, 0.7325, 0.4725, 0.99)",from:"rotateX(80deg) translate(0px, -100px)",to:"rotateX(0deg) translate(0px, 0px)"},{property:"opacity",delay:0,duration:250,timing:"cubic-bezier(0, 2, 0, 2)",from:0,to:1}])]).then(function(){w("continuumBackwardIn,StopTM")})},continuumBackwardOut:function(e){return w("continuumBackwardOut,StartTM"),a.executeTransition(e,[{property:T.cssName,delay:0,duration:167,timing:"cubic-bezier(0.3825,0.0025,0.8775,-0.1075)",from:"scale(1.0, 1.0)",to:"scale(0.5, 0.5)"},{property:"opacity",delay:0,duration:167,timing:"cubic-bezier(1,-0.42,0.995,-0.425)",from:1,to:0}]).then(function(){w("continuumBackwardOut,StopTM")})},drillInIncoming:function(e){return w("drillInIncoming,StartTM"),a.executeTransition(e,[{property:T.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(0.84)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){w("drillInIncoming,StopTM")})},drillInOutgoing:function(e){return w("drillInOutgoing,StartTM"),a.executeTransition(e,[{property:T.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(1.29)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){w("drillInOutgoing,StopTM")})},drillOutIncoming:function(e){return w("drillOutIncoming,StartTM"),a.executeTransition(e,[{property:T.cssName,delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.29)",to:"scale(1.0)"},{property:"opacity",delay:0,duration:500,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:0,to:1}]).then(function(){w("drillOutIncoming,StopTM")})},drillOutOutgoing:function(e){return w("drillOutOutgoing,StartTM"),a.executeTransition(e,[{property:T.cssName,delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:"scale(1.0)",to:"scale(0.84)"},{property:"opacity",delay:0,duration:233,timing:"cubic-bezier(0.1,0.9,0.2,1)",from:1,to:0}]).then(function(){w("drillOutOutgoing,StopTM")})},createPageNavigationAnimations:function(){function t(){return s.wrap()}return{exit:t,entrance:e.enterPage}},_resizeTransition:function(e,t,n){if(n.to!==n.from&&a.isAnimationEnabled()){for(var i=E(e,t,n),r=[],o=0,c=i.length;c>o;o++)r.push(C(i[o].element,i[o].transition));return s.join(r)}return s.as()},_commandingSurfaceOpenAnimation:function(e){if(!a.isAnimationEnabled())return s.as();var n=e.actionAreaClipper,r=e.actionArea,o=e.overflowAreaClipper,c=e.overflowArea,l=e.oldHeight,u=e.newHeight,d=e.overflowAreaHeight,p=e.menuPositionedAbove,f=u-l,m=[],h=x().defaultResizeGrowTransition;if(p){r.style[T.scriptName]="translateY("+f+"px)",t.getComputedStyle(r).opacity;var _=i._merge(h,{to:"translateY(0px)"});m.push({element:r,transition:_})}else m=E(n,r,{from:l,to:u,actualSize:u,dimension:"height",anchorTrailingEdge:!1});o.style[T.scriptName]="translateY("+(p?f:-f)+"px)",c.style[T.scriptName]="translateY("+(p?d:-d)+"px)",t.getComputedStyle(o).opacity,t.getComputedStyle(c).opacity;for(var g=[],y=0,v=m.length;v>y;y++)g.push(C(m[y].element,m[y].transition));var b=i._merge(h,{to:"translateY(0px)"});return g.push(C(o,b)),g.push(C(c,b)),s.join(g)},_commandingSurfaceCloseAnimation:function(e){if(!a.isAnimationEnabled())return s.as();var n=e.actionAreaClipper,r=e.actionArea,o=e.overflowAreaClipper,c=e.overflowArea,l=e.oldHeight,u=e.newHeight,d=e.overflowAreaHeight,p=e.menuPositionedAbove,f=u-l,m=[],h=x().defaultResizeShrinkTransition;if(p){r.style[T.scriptName]="translateY(0px)",t.getComputedStyle(r).opacity;var _=i._merge(h,{to:"translateY("+-f+"px)"});m.push({element:r,transition:_})}else m=E(n,r,{from:l,to:u,actualSize:l,dimension:"height",anchorTrailingEdge:!1});o.style[T.scriptName]="translateY(0px)",c.style[T.scriptName]="translateY(0px)",t.getComputedStyle(o).opacity,t.getComputedStyle(c).opacity;for(var g=[],y=0,v=m.length;v>y;y++)g.push(C(m[y].element,m[y].transition));var b=i._merge(h,{to:"translateY("+(p?-f:f)+"px)"}),k=i._merge(h,{to:"translateY("+(p?d:-d)+"px)"});return g.push(C(o,b)),g.push(C(c,k)),s.join(g)}})}),define("WinJS/Binding/_BindingParser",["exports","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../ControlProcessor/_OptionsLexer","../ControlProcessor/_OptionsParser"],function(e,t,n,i,r,o,a,s,c){"use strict";function l(e,t){a("WinJS.Binding:bindingParser,StartTM");var n=p.lexer(e),i=new m.BindingInterpreter(n,e,t||{}),r=i.run();return a("WinJS.Binding:bindingParser,StopTM"),r}function u(e){a("WinJS.Binding:bindingParser,StartTM");var t=p.lexer(e),n=new m.BindingParser(t,e),i=n.run();return a("WinJS.Binding:bindingParser,StopTM"),i}var d={get invalidBinding(){return"Invalid binding:'{0}'. Expected to be '<destProp>:<sourceProp>;'. {1}"},get bindingInitializerNotFound(){return"Initializer not found:'{0}'"}},p=t.Namespace.defineWithParent(null,null,{lexer:t.Namespace._lazy(function(){return s._optionsLexer}),tokenType:t.Namespace._lazy(function(){return s._optionsLexer.tokenType})}),f=n.requireSupportedForProcessing,m=t.Namespace.defineWithParent(null,null,{BindingInterpreter:t.Namespace._lazy(function(){return t.Class.derive(c.optionsParser._BaseInterpreter,function(e,t,n){this._initialize(e,t,n)},{_error:function(e){throw new i("WinJS.Binding.ParseError",o._formatString(d.invalidBinding,this._originalSource,e))},_evaluateInitializerName:function(){if(this._current.type===p.tokenType.identifier){var e=this._evaluateIdentifierExpression();return r.log&&!e&&r.log(o._formatString(d.bindingInitializerNotFound,this._originalSource),"winjs binding","error"),f(e)}},_evaluateValue:function(){switch(this._current.type){case p.tokenType.stringLiteral:case p.tokenType.numberLiteral:var e=this._current.value;return this._read(),e;default:return void this._unexpectedToken(p.tokenType.stringLiteral,p.tokenType.numberLiteral)}},_readBindDeclarations:function(){for(var e=[];;)switch(this._current.type){case p.tokenType.identifier:case p.tokenType.thisKeyword:e.push(this._readBindDeclaration());break;case p.tokenType.semicolon:this._read();break;case p.tokenType.eof:return e;default:return void this._unexpectedToken(p.tokenType.identifier,p.tokenType.semicolon,p.tokenType.eof)}},_readBindDeclaration:function(){var e=this._readDestinationPropertyName();this._read(p.tokenType.colon);var t=this._readSourcePropertyName(),n=this._evaluateInitializerName();return{destination:e,source:t,initializer:n}},_readDestinationPropertyName:function(){return this._readIdentifierExpression()},_readSourcePropertyName:function(){return this._readIdentifierExpression()},run:function(){return this._readBindDeclarations()}},{supportedForProcessing:!1})}),BindingParser:t.Namespace._lazy(function(){return t.Class.derive(m.BindingInterpreter,function(e,t){this._initialize(e,t,{})},{_readInitializerName:function(){return this._current.type===p.tokenType.identifier?this._readIdentifierExpression():void 0},_readBindDeclaration:function(){var e=this._readDestinationPropertyName();this._read(p.tokenType.colon);var t=this._readSourcePropertyName(),n=this._readInitializerName();return{destination:e,source:t,initializer:n}}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(e,"WinJS.Binding",{_bindingParser:l,_bindingParser2:u})}),define("WinJS/Binding/_DomWeakRefTable",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Scheduler"],function(e,t,n,i,r,o){"use strict";function a(){0===f&&(p=0);var e,t,n=Object.keys(h),i=Date.now()-m;for(e=0,t=n.length;t>e;e++){var r=n[e];h[r].time<i&&delete h[r]}c()}function s(){t.Debug&&t.Debug.debuggerEnabled&&_||p||(0===f?(o.schedule(a,o.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),p=1):p=t.setInterval(a,f))}function c(){t.Debug&&t.Debug.debuggerEnabled&&_||(0===f?p||0!==Object.keys(h).length&&(o.schedule(a,o.Priority.idle,null,"WinJS.Utilities._DOMWeakRefTable.cleanup"),p=1):p&&0===Object.keys(h).length&&(t.clearInterval(p),p=0))}function l(e,t){return h[t]={element:e,time:Date.now()},s(),t}function u(e){if(g){var n=h[e];return n?n.element:t.document.getElementById(e)}var i=t.document.getElementById(e);if(i)delete h[e],c();else{var n=h[e];n&&(n.time=Date.now(),i=n.element)}return i}if(n.Windows.Foundation.Uri&&n.msSetWeakWinRTProperty&&n.msGetWeakWinRTProperty){var d=new n.Windows.Foundation.Uri("about://blank");return void i.Namespace._moduleDefine(e,"WinJS.Utilities",{_createWeakRef:function(e,t){return n.msSetWeakWinRTProperty(d,t,e),t},_getWeakRefElement:function(e){return n.msGetWeakWinRTProperty(d,e)}})}var p,f=500,m=1e3,h={},_=!0,g=!1;i.Namespace._moduleDefine(e,"WinJS.Utilities",{_DOMWeakRefTable_noTimeoutUnderDebugger:{get:function(){return _},set:function(e){_=e}},_DOMWeakRefTable_sweepPeriod:{get:function(){return f},set:function(e){f=e}},_DOMWeakRefTable_timeout:{get:function(){return m},set:function(e){m=e}},_DOMWeakRefTable_tableSize:{get:function(){return Object.keys(h).length}},_DOMWeakRefTable_fastLoadPath:{get:function(){return g},set:function(e){g=e}},_createWeakRef:l,_getWeakRefElement:u})}),define("WinJS/Binding/_Data",["exports","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Promise","../Scheduler","./_DomWeakRefTable"],function(e,t,n,i,r,o,a,s,c,l){"use strict";var u={get exceptionFromBindingInitializer(){return"Exception thrown from binding initializer: {0}"},get propertyIsUndefined(){return"{0} is undefined"},get unsupportedDataTypeForBinding(){return"Unsupported data type"}},d={_listeners:null,_pendingNotifications:null,_notifyId:0,_getObservable:function(){return this},_cancel:function(e){var t=this._pendingNotifications,n=!1;if(t)for(var i=Object.keys(t),r=i.length-1;r>=0;r--){var o=t[i[r]];o.target===e&&(o.promise&&(o.promise.cancel(),o.promise=null),delete t[i[r]],n=!0)}return n},notify:function(e,t,n){var i=this._listeners&&this._listeners[e];if(i){var r=this;r._cancel(e),r._pendingNotifications=r._pendingNotifications||{};var l=r._notifyId++,d=r._pendingNotifications[l]={target:e},p=function(){delete r._pendingNotifications[l]};return d.promise=c.schedulePromiseNormal(null,"WinJS.Binding.observableMixin.notify").then(function(){for(var e=0,r=i.length;r>e&&d.promise;e++)try{i[e](t,n)}catch(s){o.log&&o.log(a._formatString(u.exceptionFromBindingInitializer,s.toString()),"winjs binding","error")}return p(),t}),d.promise}return s.as()},bind:function(e,t){this._listeners=this._listeners||{};for(var n=this._listeners[e]=this._listeners[e]||[],i=!1,r=0,o=n.length;o>r;r++)if(n[r]===t){i=!0;break}return i||(n.push(t),t(I(this[e]))),this},unbind:function(e,t){if(this._listeners=this._listeners||{},e&&t){var n=this._listeners[e];if(n){for(var i,r=0,o=n.length;o>r;r++)n[r]!==t&&(i=i||[]).push(n[r]);this._listeners[e]=i}}else if(e)this._cancel(e),delete this._listeners[e];else{var a=this;if(a._pendingNotifications){var s=a._pendingNotifications;a._pendingNotifications={},Object.keys(s).forEach(function(e){var t=s[e];t.promise&&t.promise.cancel()})}this._listeners={}}return this}},p={_backingData:null,_initObservable:function(e){this._backingData=e||{}},getProperty:function(e){var t=this._backingData[e];return o.log&&void 0===t&&o.log(a._formatString(u.propertyIsUndefined,e),"winjs binding","warn"),k(t)},setProperty:function(e,t){return this.updateProperty(e,t),this},addProperty:function(e,t){return this[e]||Object.defineProperty(this,e,{get:function(){return this.getProperty(e)},set:function(t){this.setProperty(e,t)},enumerable:!0,configurable:!0}),this.setProperty(e,t)},updateProperty:function(e,t){var n=this._backingData[e],i=I(t);return n!==i&&(this._backingData[e]=i,this._backingData[e]===i)?this.notify(e,i,n):s.as()},removeProperty:function(e){var t,n=this._backingData[e];try{delete this._backingData[e]}catch(i){}try{delete this[e]}catch(i){}return this.notify(e,t,n),this}};Object.keys(d).forEach(function(e){p[e]=d[e]});var f=function(e,t){return g(e,t)},m=0,h=function(){return"bindHandler"+m++},_=function(e,n){if(!t.msGetWeakWinRTProperty)return e;var i=h();return l._getWeakRefElement(n)[i]=e,function(e,t){var r=l._getWeakRefElement(n);r&&r[i](e,t)}},g=function(e,t,n){function i(){s&&s.forEach(function(e){e.source.unbind(e.prop,e.listener)}),s=null}function r(e){a[e]&&(a[e].complexBind.cancel(),delete a[e])}if(e=k(e),!e)return{cancel:function(){},empty:!0};var o;n||(n=h(),o={},l._createWeakRef(o,n));var a={},s=null;return Object.keys(t).forEach(function(i){var c=t[i];if(c instanceof Function)c=_(c,n),c.bindState=o,s=s||[],s.push({source:e,prop:i,listener:c}),e.bind(i,c);else{var l=function(e){r(i);var t=g(k(e),c,n);if(t.empty){var o=function(e){Object.keys(e).forEach(function(t){var n=e[t];n instanceof Function?n(void 0,void 0):o(n)})};o(c)}a[i]={source:e,complexBind:t}};l=_(l,n),l.bindState=o,s=s||[],s.push({source:e,prop:i,listener:l}),e.bind(i,l)}}),{cancel:function(){i(),Object.keys(a).forEach(function(e){r(e)})}}},y=n.Class.mix(function(e){this._initObservable(e),Object.defineProperties(this,v(e))},p),v=function(e){function t(e){n[e]={get:function(){return this.getProperty(e)},set:function(t){this.setProperty(e,t)},enumerable:!0,configurable:!0}}for(var n={};e&&e!==Object.prototype;)Object.keys(e).forEach(t),e=Object.getPrototypeOf(e);return n},b=function(e){if(!(!e||"object"!=typeof e||e instanceof Date||Array.isArray(e)))return n.Class.mix(function(t){this._initObservable(t||Object.create(e))},p,v(e));if(i.validation)throw new r("WinJS.Binding.UnsupportedDataType",a._formatString(u.unsupportedDataTypeForBinding))},k=function(e){if(!e)return e;var t=typeof e;if("object"!==t||e instanceof Date||Array.isArray(e))return e;if(e._getObservable)return e._getObservable();var n=new y(e);return n.backingData=e,Object.defineProperty(e,"_getObservable",{value:function(){return n},enumerable:!1,writable:!1}),n},I=function(e){return e&&e.backingData?e.backingData:e};n.Namespace._moduleDefine(e,"WinJS.Binding",{mixin:{value:p,enumerable:!1,writable:!0,configurable:!0},dynamicObservableMixin:{value:p,enumerable:!0,writable:!0,configurable:!0},observableMixin:{value:d,enumerable:!0,writable:!0,configurable:!0},expandProperties:v,define:b,as:k,unwrap:I,bind:f})}),define("WinJS/Binding/_Declarative",["exports","../Core/_Global","../Core/_WinRT","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Promise","../Utilities/_ElementUtilities","./_BindingParser","./_Data","./_DomWeakRefTable"],function(e,t,n,i,r,o,a,s,c,l,u,d,p,f){"use strict";function m(e,t){var n=e._autoDispose;n&&n.push(t)}function h(e){e._autoDispose=(e._autoDispose||[]).filter(function(e){return e()})}function _(e,t){return e?e.winBindingToken===t?e:void(a.log&&a.log(s._formatString(F.duplicateBindingDetected,e.id),"winjs binding","error")):e}function g(e){if(e.winBindingToken)return e.winBindingToken;var t="_win_bind"+q++;return Object.defineProperty(e,"winBindingToken",{configurable:!1,writable:!1,enumerable:!1,value:t}),t}function y(e,t,n,i,r,o,a){var s=e.initializer;if(s&&(s=s.winControl||s["data-win-control"]||s),s instanceof Function){var c=s(i,e.source,r,e.destination);return a&&(c&&c.cancel?a.bindings.push(function(){c.cancel()}):a.nocache=!0),c}s&&s.render&&(o.count++,a&&(a.nocache=!0),j(s.render).call(s,x(i,e.source),r).then(function(){o.checkComplete()}))}function v(e,t,n,i,r,o){var c,l=!0,u=!1;h(i);var d=function(){if(!u){var n=_(f._getWeakRefElement(e),t);return n||(a.log&&a.log(s._formatString(F.elementNotFound,e),"winjs binding","info"),c&&c.cancel()),n}},p=function(e){var t=d();t&&E(t,r.destination,e),l&&(n.checkComplete(),l=!1)};if(m(i,d),c=M(i,r.source,p)){var g=c.cancel;c.cancel=function(){return u=!0,g.call(c)},o&&o.bindings.push(function(){c.cancel()})}return c}function b(e,n,i,r,o,a,s){var c;return r!==t&&(r=p.as(r)),r._getObservable&&(c=r._getObservable()),c?(a.count++,v(n,i,a,c,e,s)):void E(o,e.destination,x(r,e.source))}function k(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n],c=i.destination;if(1===c.length&&"id"===c[0]){if(r.validation)throw new o("WinJS.Binding.IdBindingNotSupported",s._formatString(F.idBindingNotSupported,t));a.log&&a.log(s._formatString(F.idBindingNotSupported,t),"winjs binding","error"),e.splice(n,1)}}return e}function I(e,n){if(n){var i,r=n.expressions[e];return r||(i=k(d._bindingParser(e,t),e),n.expressions[e]=i),i||(i=r),i}return k(d._bindingParser(e,t),e)}function S(e,n,i,r,o,a){c("WinJS.Binding:processAll,StartTM");var s,l={count:0,checkComplete:function(){this.count--,0===this.count&&(c("WinJS.Binding:processAll,StopTM"),a())}},d=e||t.document.body,p="[data-win-bind],[data-win-control]",m=d.querySelectorAll(p);i||!d.getAttribute("data-win-bind")&&!d.winControl||(s=d),l.count++;var h=n||t;f._DOMWeakRefTable_fastLoadPath=!0;try{var _=u.data(d);_.winBindings=_.winBindings||[];for(var v=s?-1:0,k=m.length;k>v;v++){var S=0>v?s:m[v];if(S.winControl&&S.winControl.constructor&&S.winControl.constructor.isDeclarativeControlContainer){v+=S.querySelectorAll(p).length;var C=S.winControl.constructor.isDeclarativeControlContainer;"function"==typeof C&&(C=j(C))(S.winControl,function(e){return w(e,n,!1,r,o)})}if(S.hasAttribute("data-win-bind")){var x=S.getAttribute("data-win-bind"),E=I(x,r);if(!E.implemented){for(var T=0,L=E.length;L>T;T++){var B=E[T];B.initializer=B.initializer||o,B.implementation=B.initializer?y:b}E.implemented=!0}l.count++;var A=g(S),P=D?A:S.id;P||(S.id=P=A),f._createWeakRef(S,P);var M=u.data(S);M.winBindings=null;var N;r&&r.elements&&(N=r.elements[P],N||(r.elements[P]=N={bindings:[]}));for(var W=0,O=E.length;O>W;W++){var q=E[W],F=q.implementation(q,P,A,h,S,l,N);F&&(M.winBindings=M.winBindings||[],M.winBindings.push(F),_.winBindings.push(F))}l.count--}}}finally{f._DOMWeakRefTable_fastLoadPath=!1}l.checkComplete()}function w(e,t,n,i,r){return new l(function(o,a,s){S(e,t,n,i,r,o,a,s)}).then(null,function(e){return a.log&&a.log(s._formatString(F.errorInitializingBindings,e&&e.message),"winjs binding","error"),l.wrapError(e)})}function C(e){var n=function(n,i,r,o,c){var l=g(r),u=D?l:r.id;u||(r.id=u=l),f._createWeakRef(r,u);var d;if(n!==t&&(n=p.as(n)),n._getObservable&&(d=n._getObservable()),d){var m=M(p.as(n),i,function(t){var n=_(f._getWeakRefElement(u),l);n?E(n,o,e(j(t))):m&&(a.log&&a.log(s._formatString(F.elementNotFound,u),"winjs binding","info"),m.cancel())});return m}var h=x(n,i);h!==c&&E(r,o,e(h))};return R(n)}function x(e,n){if(e!==t&&(e=j(e)),n)for(var i=0,r=n.length;r>i&&null!==e&&void 0!==e;i++)e=j(e[n[i]]);return e}function E(e,n,i){j(i),e=j(e);for(var r=0,o=n.length-1;o>r;r++){
if(e=j(e[n[r]]),!e)return void(a.log&&a.log(s._formatString(F.propertyDoesNotExist,n[r],n.join(".")),"winjs binding","error"));if(e instanceof t.Node)return void(a.log&&a.log(s._formatString(F.nestedDOMElementBindingNotSupported,n[r],n.join(".")),"winjs binding","error"))}if(0===n.length)return void(a.log&&a.log(F.cannotBindToThis,"winjs binding","error"));var c=n[n.length-1];a.log&&void 0===e[c]&&a.log(s._formatString(F.creatingNewProperty,c,n.join(".")),"winjs binding","warn"),e[c]=i}function T(e,t,n){return e=j(e),t&&1===t.length&&t[0]?void e.setAttribute(t[0],n):void(a.log&&a.log(F.attributeBindingSingleProperty,"winjs binding","error"))}function L(e,n,i,r,o){var c=g(i),l=D?c:i.id;l||(i.id=l=c),f._createWeakRef(i,l);var u;if(e!==t&&(e=p.as(e)),e._getObservable&&(u=e._getObservable()),u){var d=0,m=M(u,n,function(e){if(1!==++d||e!==o){var t=_(f._getWeakRefElement(l),c);t?T(t,r,j(e)):m&&(a.log&&a.log(s._formatString(F.elementNotFound,l),"winjs binding","info"),m.cancel())}});return m}var h=x(e,n);h!==o&&T(i,r,h)}function B(e,t,n,i){return T(n,i,x(e,t))}function A(e,t,n){n=j(n);var i=x(e,t);Array.isArray(i)?i.forEach(function(e){u.addClass(n,e)}):i&&u.addClass(n,i)}function P(e,t,n,i,r){return U(e,t,n,i,r)}function M(e,t,n){if(t.length>1){for(var i={},r=i,o=0,a=t.length-1;a>o;o++)r=r[t[o]]={};return r[t[t.length-1]]=n,p.bind(e,i,!0)}return 1===t.length?(e.bind(t[0],n,!0),{cancel:function(){e.unbind(t[0],n),this.cancel=N}}):void n(e)}function N(){}function W(e,t,n,i){return E(n,i,x(e,t)),{cancel:N}}function O(e){return R(e)}var q=1e3*Math.random()>>0,D=n.msSetWeakWinRTProperty&&n.msGetWeakWinRTProperty,F={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get creatingNewProperty(){return"Creating new property {0}. Full path:{1}"},get duplicateBindingDetected(){return"Binding against element with id {0} failed because a duplicate id was detected."},get elementNotFound(){return"Element not found:{0}"},get errorInitializingBindings(){return"Error initializing bindings: {0}"},get propertyDoesNotExist(){return"{0} doesn't exist. Full path:{1}"},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"},get nestedDOMElementBindingNotSupported(){return"Binding through a property {0} of type HTMLElement is not supported, Full path:{1}."}},R=r.markSupportedForProcessing,j=r.requireSupportedForProcessing,U=C(function(e){return e});i.Namespace._moduleDefine(e,"WinJS.Binding",{processAll:w,oneTime:O(W),defaultBind:O(P),converter:C,initializer:O,getValue:x,setAttribute:O(L),setAttributeOneTime:O(B),addClassOneTime:O(A)})}),define("WinJS/Binding",["./Binding/_BindingParser","./Binding/_Data","./Binding/_Declarative","./Binding/_DomWeakRefTable"],function(){}),define("WinJS/BindingTemplate/_DataTemplateCompiler",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_ErrorFromName","../Core/_Log","../Core/_Resources","../Core/_WriteProfilerMark","../Binding/_BindingParser","../Binding/_Declarative","../ControlProcessor","../ControlProcessor/_OptionsParser","../Fragments","../Promise","../_Signal","../Utilities/_Dispose","../Utilities/_SafeHtml","../Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s,c,l,u,d,p,f,m,h,_,g){"use strict";if(t.document){var y={get attributeBindingSingleProperty(){return'Attribute binding requires a single destination attribute name, often in the form "this[\'aria-label\']" or "width".'},get cannotBindToThis(){return"Can't bind to 'this'."},get idBindingNotSupported(){return"Declarative binding to ID field is not supported. Initializer: {0}"}};n.Namespace._moduleDefine(e,"WinJS.Binding",{_TemplateCompiler:n.Namespace._lazy(function(){function e(e,t,n){var i=g.data(e).bindTokens;i&&i.forEach(function(e){e&&e.cancel&&e.cancel()}),t&&t.cancel(),n&&n.cancel()}function v(e,t){return function(n){return l.processAll(n,e,!1,null,t)}}function b(e){return e=Q(e),e instanceof t.Node?null:e}function k(e,t){var n=-1!==e.indexOf("\n"),i=arguments,o=e.replace(fe,function(o,a,s,c,l,u,d){if(l||u)throw new r("Format:MalformedInputString","Did you forget to escape a: "+(l||u)+" at: "+d);if(a)return"{";if(s)return"}";var p,f=+c;if(p=f===+f?i[f+1]:t[c],void 0===p)throw new r("Format:MissingPart","Missing part '"+c+"'");if(n){for(var m=d;m>0&&" "===e[--m];);m>=0&&"\n"===e[m]&&(p=I(d-m-1,p))}return p});return o}function I(e,t){for(var n="",i=0;e>i;i++)n+=" ";return t.split("\n").map(function(e,t){return t?n+e:e}).join("\n")}function S(e){return e.trim()}function w(e){return e.join(";\n")}function C(e){return e.join(", ")||"empty"}function x(e){return e.map(function(e){return e.match(le)?"."+e:+e===e?k("[{0}]",e):k("[{0}]",T(e))}).join("")}function E(e,t,n,i){var t=t.map(function(e){return e.match(le)?"."+e:(+e===e&&(e=+e),P(T(e)))}).map(function(e){return k("{filter}({temp} = {temp}{part})",{filter:i,temp:n,part:e})});return t.unshift(A(B(n,e))),t.push(n),A(t.join(" && "))}function T(e){return JSON.stringify(e)}function L(e){return e?"new Array("+ +e+")":"[]"}function B(e,t){return""+e+" = "+t}function A(e){return"("+e+")"}function P(e){return"["+e+"]"}function M(e){return e.match(le)?e:+e===e?+e:T(e)}function N(e){return e=""+e,e.replace(de,function(e){return pe[e]||" "})}function W(e,t,n){return new String(n?""+e+t+"_"+n:""+e+t)}function O(e){return e.replace(/\\n/g,"\\n\\\n")}function q(e){return Object.keys(e)}function D(e){return Object.keys(e).map(function(t){return e[t]})}function F(e,t){return R([e,t])}function R(e){for(var t={},n=0,i=e.length;i>n;n++)for(var r=e[n],o=Object.keys(r),a=0,s=o.length;s>a;a++){var c=o[a];t[c]=r[c]}return t}function j(e){return e.reduce(function(e,t){return e?Q(e[t]):null},t)}function U(e,t,n,i){var r=e.children;if(r){var o=Object.keys(r);t&&n&&n(e,t,o.length);for(var a=0,s=o.length;s>a;a++){var c=o[a],l=r[c];U(l,c,n,i)}t&&i&&i(e,t,Object.keys(r).length)}else t&&n&&n(e,t,0),t&&i&&i(e,t,0)}function z(e){return e.replace(/^\s*$/gm,"").replace(/^(.*[^\s])( *)$/gm,function(e,t){return t})}var J=f._cancelBlocker,H=l.defaultBind,K=l.oneTime,V=l.setAttribute,G=l.setAttributeOneTime,Y=l.addClassOneTime,X=f.as,Q=i.requireSupportedForProcessing,$=_.insertAdjacentHTMLUnsafe,Z=g.data,ee=h.markDisposable,te=u.processAll,ne=l.processAll,ie=d._optionsParser,re=d._CallExpression,oe=d._IdentifierExpression,ae=c._bindingParser2,se=u.scopedSelect,ce=s,le=/^[A-Za-z]\w*$/,ue=/[^A-Za-z\w$]/g,de=/[&<>'"]/g,pe={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},fe=/({{)|(}})|{(\w+)}|({)|(})/g,me=/^\s*;\s*$/,he=/[A-Z]/g,_e=n.Class.define(function(e,t,n,i,r){var o=this;this.compiler=e,this.kind=n,this.base=new String(t),this.tree={children:{},parent:this.base,reference:function(){return o.base}},this.accessExpression=i,this.filter=r||""},{createPathExpression:function(e,t){if(e.length){var n=this,i=e.reduce(function(e,t){return e.children=e.children||{},e.children[t]=e.children[t]||{parent:e},e.children[t]},this.tree);return i.name=i.name||n.compiler.defineInstance(n.kind,t||"",function(){return n.accessExpression(i.parent.name?i.parent.name:i.parent.reference(),e.slice(-1)[0],i.parent.parent===n.base,n.filter,!0)}),i.name}return this.base},lower:function(){var e=this,t=[],n=function(t,n,i){return e.accessExpression(t.parent.name?t.parent.name:t.parent.reference(),n,t.parent.parent===e.base,e.filter,i)};U(this.tree,"",function(i,r,o){t.push(r),o>1?(i.name=i.name||e.compiler.defineInstance(e.kind,t.join("_"),n.bind(null,i,r,!0)),i.reference=function(){return i.name}):1===o&&(i.reference=n.bind(null,i,r))},function(){t.pop()})},deadNodeElimination:function(){U(this.tree,"",null,function(e,t,n){(!e.name||e.name.dead)&&0===n&&e.parent&&e.parent.children&&delete e.parent.children[t]})},definitions:function(){var e=[];return U(this.tree,"",function(t){t.name&&e.push(t)}),e.map(function(e){return e.name.definition()})}}),ge={capture:"capture",temporary:"temporary",variable:"variable",data:"data",global:"global"},ye={capture:"c",temporary:"t",variable:"iv",data:"d",global:"g"},ve={imported:"import",variable:"variable"},be={imported:"i",variable:"sv"},ke={tree:"tree",text:"text",initializer:"initializer",template:"template",error:"error"},Ie={attribute:"attribute",booleanAttribute:"booleanAttribute",inlineStyle:"inlineStyle",textContent:"textContent"},Se="imports",we={initial:0,analyze:1,optimze:2,lower:3,compile:4,link:5,done:6},Ce=n.Class.define(function(e,n){if(this._stage=we.initial,this._staticVariables={},this._staticVariablesCount=0,this._instanceVariables={},this._instanceVariablesCount={},this._debugBreak=n.debugBreakOnRender,this._defaultInitializer=Q(n.defaultInitializer||H),this._optimizeTextBindings=!n.disableTextBindingOptimization,this._templateElement=e,this._templateContent=t.document.createElement(e.tagName),this._extractChild=n.extractChild||!1,this._controls=null,this._bindings=null,this._bindTokens=null,this._textBindingPrefix=null,this._textBindingId=0,this._suffix=[],this._htmlProcessors=[],this._profilerMarkIdentifier=n.profilerMarkIdentifier,this._captureCSE=new _e(this,"container",ge.capture,this.generateElementCaptureAccess.bind(this)),this._dataCSE=new _e(this,"data",ge.data,this.generateNormalAccess.bind(this),this.importFunctionSafe("dataSecurityCheck",Q)),this._globalCSE=new _e(this,this.importFunctionSafe("global",t),ge.global,this.generateNormalAccess.bind(this),this.importFunctionSafe("globalSecurityCheck",Q)),p.renderCopy(this._templateElement,this._templateContent),this._extractChild)for(;this._templateContent.childElementCount>1;)this._templateContent.removeChild(this._templateContent.lastElementChild)},{addClassOneTimeTextBinding:function(e){var t=this,n=this.createTextBindingHole(e.elementCapture.element.tagName,"class",++this._textBindingId);e.textBindingId=n,e.kind=ke.text,e.elementCapture.element.classList.add(n),e.elementCapture.refCount--,e.definition=function(){return t.formatCode("{htmlEscape}({value})",{htmlEscape:t._staticVariables.htmlEscape,value:e.value()})}},addClassOneTimeTreeBinding:function(e){var t=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.kind=ke.tree,e.definition=function(){return t.formatCode("{element}.classList.add({value})",{element:e.elementCapture,value:e.value()})}},analyze:function(){if(this._stage>we.analyze)throw"Illegal: once we have moved past analyze we cannot revist it";this._stage=we.analyze,this._controls=this.gatherControls(),this._bindings=this.gatherBindings(),this._children=this.gatherChildren(),this.cleanControlAndBindingAttributes(),this.async&&this.createAsyncParts(),this.nullableIdentifierAccessTemporary=this.defineInstance(ge.temporary);var e=this._templateContent.innerHTML;this._html=function(){return O(T(e))},this._html.text=e},bindingExpression:function(e){return this._dataCSE.createPathExpression(e.source,e.source.join("_"))},capture:function(e){var t=e._capture;if(t)return t.refCount++,t;for(var n=[e],i=e.parentNode,r=e.tagName;i!==this._templateContent;)r=i.tagName+"_"+r,n.unshift(i),i=i.parentNode;for(var o=0,a=n.length;a>o;o++){var s=n[o];n[o]=Array.prototype.indexOf.call(i.children,s),i=s}return t=this._captureCSE.createPathExpression(n,r.toLowerCase()),t.element=e,t.element._capture=t,t.refCount=1,t},cleanControlAndBindingAttributes:function(){for(var e="[data-win-bind],[data-win-control]",t=this._templateContent.querySelectorAll(e),n=0,i=t.length;i>n;n++){var r=t[n];r.isDeclarativeControlContainer&&(n+=r.querySelectorAll("[data-win-bind],[data-win-control]").length),r.removeAttribute("data-win-bind"),r.removeAttribute("data-win-control"),r.removeAttribute("data-win-options")}},compile:function(e,t,n){if(this._stage>we.compile)throw"Illegal: once we have moved past compile we cannot revist it";this._stage=we.compile;var i=this;this._returnedElement=this._extractChild?"container.firstElementChild":"container";var r,o,a=this._controls.map(function(e){var t;t=e.async?"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options}, controlDone)":"{target}.winControl = {target}.winControl || new {SafeConstructor}({target}, {options})";var n=i.formatCode(t,{target:e.elementCapture,SafeConstructor:e.SafeConstructor,options:i.generateOptionsLiteral(e.optionsParsed,e.elementCapture)});if(e.isDeclarativeControlContainer&&"function"==typeof e.isDeclarativeControlContainer.imported){var r=[n];return r.push(i.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedControlProcessing})",{target:e.elementCapture,isDeclarativeControlContainer:e.isDeclarativeControlContainer,delayedControlProcessing:i._staticVariables.ui_processAll})),r.push(i.formatCode("{isDeclarativeControlContainer}({target}.winControl, {delayedBindingProcessing}(data, {templateDefaultInitializer}))",{target:e.elementCapture,isDeclarativeControlContainer:e.isDeclarativeControlContainer,delayedBindingProcessing:i._staticVariables.delayedBindingProcessing,templateDefaultInitializer:i._staticVariables.templateDefaultInitializer||T(null)})),r.join(";\n")}return n}),s=this._bindings.map(function(e){switch(e.kind){case ke.template:return i.formatCode("({nestedTemplates}[{nestedTemplate}] = {template}.render({path}, {dest}))",{nestedTemplates:i._nestedTemplates,nestedTemplate:T(e.nestedTemplate),template:e.template,path:e.pathExpression,dest:e.elementCapture});case ke.initializer:var t;return t=e.initialValue?"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}, {initialValue}))":"({bindTokens}[{bindToken}] = {initializer}(data, {sourceProperties}, {dest}, {destProperties}))",i.formatCode(t,{bindTokens:i._bindTokens,bindToken:T(e.bindToken),initializer:e.initializer,sourceProperties:T(e.source),destProperties:T(e.destination),dest:e.elementCapture,initialValue:e.initialValue});case ke.tree:return e.definition();case ke.text:break;case ke.error:break;default:throw"NYI"}});n?(r=s.filter(function(e,t){return!i._bindings[t].delayable}),o=s.filter(function(e,t){return i._bindings[t].delayable})):(r=s,o=[]);var c=D(this._instanceVariables),l=c.filter(function(e){return e.kind===ge.variable}).map(function(e){return e.definition()}),u=this._captureCSE.definitions(),d=this._globalCSE.definitions(),p=this._dataCSE.definitions(),f=this._children.map(function(e){return i.formatCodeN("{0}.msParentSelectorScope = true",e)}),m=this._suffix.map(function(e){return e()}),h="";n&&o.length&&(h=i.formatCode(Ne,{delayed_binding_processing:w(o)}));var _=i.formatCode(e,R([this._staticVariables,t||{},{profilerMarkIdentifierStart:T("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StartTM"),profilerMarkIdentifierStop:T("WinJS.Binding.Template:render"+this._profilerMarkIdentifier+",StopTM"),html:this._html(),tagName:T(this._templateElement.tagName),instance_variable_declarations:C(c),global_definitions:w(d),data_definitions:w(p),instance_variable_definitions:w(l),capture_definitions:w(u),set_msParentSelectorScope:w(f),debug_break:this.generateDebugBreak(),control_processing:w(a),control_counter:this._controlCounter,binding_processing:w(r),renderComplete:h,suffix_statements:w(m),nestedTemplates:this._nestedTemplates,returnedElement:this._returnedElement}]));return this.prettify(_)},createAsyncParts:function(){this._nestedTemplates=this._nestedTemplates||this.defineInstance(ge.variable,"nestedTemplates",function(){return L(0)}),this._controlCounter=this._controlCounter||this.defineInstance(ge.variable,"controlCounter",function(){return T(1)})},createTextBindingHole:function(e,t,n){if(!this._textBindingPrefix){for(var i="";-1!==this._html.text.indexOf("textbinding"+i);)i=i||0,i++;this._textBindingPrefix="textbinding"+i,this._textBindingRegex=new RegExp("(#?"+this._textBindingPrefix+"_\\d+)")}var r=this._textBindingPrefix+"_"+n;return"IMG"===e&&"src"===t&&(r="#"+r),r},deadCodeElimination:function(){var e=this;Object.keys(this._instanceVariables).forEach(function(t){var n=e._instanceVariables[t];n.kind===ge.capture&&(e._templateContent.contains(n.element)||(n.dead=!0),0===n.refCount&&(n.dead=!0),n.dead&&(n.definition=function(){},n.name=null,delete e._instanceVariables[t]))}),this._controls=this._controls.filter(function(e){return!e.elementCapture.dead}),this._bindings=this._bindings.filter(function(e){return!e.elementCapture.dead}),this._captureCSE.deadNodeElimination()},defineInstance:function(e,t,n){if(this._stage>=we.compile)throw"Illegal: define instance variable after compilation stage has started";var i=this._instanceVariablesCount[e]||0,r=t?t.replace(ue,"_"):"",o=W(ye[e],i,r);return o.definition=function(){return B(o,n())},o.kind=e,this._instanceVariables[o]=o,this._instanceVariablesCount[e]=i+1,o},defineStatic:function(e,t,n){if(this._stage>=we.link)throw"Illegal: define static variable after link stage has started";if(t){var i=this._staticVariables[t];if(i)return i}var r=t?t.replace(ue,"_"):"",o=W(be[e],this._staticVariablesCount,r);return o.definition=function(){return B(o,n())},o.kind=e,this._staticVariables[t||o]=o,this._staticVariablesCount++,o},done:function(){if(this._stage>we.done)throw"Illegal: once we have moved past done we cannot revist it";this._stage=we.done},emitScopedSelect:function(e,t){return this.formatCode("{scopedSelect}({selector}, {element})",{scopedSelect:this._staticVariables.scopedSelect,selector:T(e),element:t})},emitOptionsNode:function(e,t,n){var i=this;if(e)switch(typeof e){case"object":if(Array.isArray(e)){t.push("[");for(var r=0,o=e.length;o>r;r++)this.emitOptionsNode(e[r],t,n),t.push(",");t.push("]")}else if(e instanceof re)t.push("select"===e.target?this.emitScopedSelect(e.arg0Value,n):T(null));else if(e instanceof oe&&e.parts[0]instanceof re){var a=e.parts[0];t.push(E("select"===a.target?this.emitScopedSelect(a.arg0Value,n):T(null),e.parts.slice(1),this.nullableIdentifierAccessTemporary,this.importFunctionSafe("requireSupportedForProcessing",Q)))}else e instanceof oe?t.push(e.pathExpression):(t.push("{"),Object.keys(e).forEach(function(r){t.push(M(r)),t.push(":"),i.emitOptionsNode(e[r],t,n),t.push(",")}),t.push("}"));break;default:t.push(T(e))}else t.push(T(null))},findGlobalIdentifierExpressions:function(e,t){t=t||[];var n=this;return Object.keys(e).forEach(function(i){var r=e[i];"object"==typeof r&&(r instanceof oe?r.parts[0]instanceof re||t.push(r):n.findGlobalIdentifierExpressions(r,t))}),t},formatCodeN:function(){if(this._stage<we.compile)throw"Illegal: format code at before compilation stage has started";return k.apply(null,arguments)},formatCode:function(e,t){if(this._stage<we.compile)throw"Illegal: format code at before compilation stage has started";return k(e,t)},gatherBindings:function(){for(var e=-1,n=this,i=-1,r=[],o="[data-win-bind],[data-win-control]",a=this._templateContent.querySelectorAll(o),s=0,c=a.length;c>s;s++){var l=a[s];if(l.isDeclarativeControlContainer&&(s+=l.querySelectorAll(o).length),l.hasAttribute("data-win-bind")){var u=l.getAttribute("data-win-bind"),d=ae(u,t);d.forEach(function(t){if(t.initializer){var r=t.initializer.join("."),o=j(t.initializer);o.render?(Q(o.render),t.template=n.importFunctionSafe(r,o),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++i,t.kind=ke.template):o.winControl&&o.winControl.render?(Q(o.winControl.render),t.template=n.importFunctionSafe(r,o.winControl),t.pathExpression=n.bindingExpression(t),t.nestedTemplate=++i,t.kind=ke.template):(t.initializer=n.importFunction(r,o),t.bindToken=++e,t.kind=ke.initializer)}else t.initializer=n.importFunctionSafe("templateDefaultInitializer",n._defaultInitializer),t.bindToken=++e,t.kind=ke.initializer;t.elementCapture=n.capture(l),t.bindingText=u}),r.push.apply(r,d)}}var p=i+1;p>0&&(this.async=!0,this._nestedTemplates=this.defineInstance(ge.variable,"nestedTemplates",function(){return L(p)}));var f=e+1;return f>0&&(this._bindTokens=this.defineInstance(ge.variable,"bindTokens",function(){return L(f)}),this._suffix.push(function(){return n.formatCode("{utilities_data}(returnedElement).bindTokens = {bindTokens}",{utilities_data:n._staticVariables.utilities_data,bindTokens:n._bindTokens})})),r},gatherChildren:function(){var e=this;return Array.prototype.map.call(this._templateContent.children,function(t){return e.capture(t)})},gatherControls:function(){for(var e=this,n=0,r=[],o="[data-win-control]",a=this._templateContent.querySelectorAll(o),s=0,c=a.length;c>s;s++){var l=a[s],u=l.getAttribute("data-win-control"),d=i._getMemberFiltered(u.trim(),t,Q);if(d){var p=l.getAttribute("data-win-options")||T({}),f=d.length>2;f&&(n++,this.async=!0);var m=d.isDeclarativeControlContainer;m&&("function"==typeof m&&(m=this.importFunction(u+"_isDeclarativeControlContainer",m)),l.isDeclarativeControlContainer=m,s+=l.querySelectorAll(o).length);var h={elementCapture:this.capture(l),name:u,SafeConstructor:this.importFunctionSafe(u,d),async:f,optionsText:T(p),optionsParsed:ie(p),isDeclarativeControlContainer:m};r.push(h);var _=this.findGlobalIdentifierExpressions(h.optionsParsed);_.forEach(function(t){t.pathExpression=e.globalExpression(t.parts)})}}return n>0&&(this._controlCounter=this.defineInstance(ge.variable,"controlCounter",function(){return T(n+1)})),r},generateElementCaptureAccess:function(e,t,n){if(n){var i=""+t=="0"?"":" + "+t;return this.formatCodeN("{0}.children[startIndex{1}]",e,i)}return this.formatCodeN("{0}.children[{1}]",e,t)},generateNormalAccess:function(e,t,n,i,r){if(e.indexOf(this.nullableIdentifierAccessTemporary)>=0){var o;return o=r?"{left} && {filter}({temp}{right})":"{left} && ({temp} = {filter}({temp}{right}))",this.formatCode(o,{temp:this.nullableIdentifierAccessTemporary,left:e,right:x([t]),filter:i})}var o;return o=r?"({temp} = {left}) && {filter}({temp}{right})":"({temp} = {left}) && ({temp} = {filter}({temp}{right}))",this.formatCode(o,{temp:this.nullableIdentifierAccessTemporary,left:e,right:x([t]),filter:i})},generateOptionsLiteral:function(e,t){var n=[];return this.emitOptionsNode(e,n,t),n.join(" ")},generateDebugBreak:function(){if(this._debugBreak){var e=this.defineStatic(ve.variable,"debugCounter",function(){return T(0)});return this.formatCodeN("if (++{0} === 1) {{ debugger; }}",e)}return""},globalExpression:function(e){return this._globalCSE.createPathExpression(e,e.join("_"))},importFunction:function(e,t){return this.importFunctionSafe(e,Q(t))},importFunctionSafe:function(e,t){var n=this,i=this.defineStatic(ve.imported,e,function(){return n.formatCodeN("({0}{1})",Se,x([e]))});if(i.imported&&i.imported!==t)throw"Duplicate import: '"+e+"'";return i.imported=t,i},importAll:function(e){return Object.keys(e).forEach(function(t){Q(e[t])}),this.importAllSafe(e)},importAllSafe:function(e){var t=this,n=Object.keys(e).reduce(function(n,i){return n[i]=t.importFunctionSafe(i,e[i]),n},{});return n},link:function(e){if(this._stage>we.link)throw"Illegal: once we have moved past link we cannot revist it";this._stage=we.link;var t=this,n=q(this._staticVariables).filter(function(e){return t._staticVariables[e].kind===ve.imported}).reduce(function(e,n){return e[n]=t._staticVariables[n].imported,e},{}),i=D(this._staticVariables);return new Function(Se,this.formatCode(Oe,{static_variable_declarations:C(i),static_variable_definitions:w(i.map(function(e){return e.definition()})),body:e.trim()}))(n)},lower:function(){if(this._stage>we.lower)throw"Illegal: once we have moved past lower we cannot revist it";this._stage=we.lower,this._captureCSE.lower(),this._dataCSE.lower(),this._globalCSE.lower()},markBindingAsError:function(e){e&&(e.kind=ke.error,this.markBindingAsError(e.original))},oneTimeTextBinding:function(e){var t=this,n=this.oneTimeTextBindingAnalyze(e);if(n){var i;e.original&&(i=e.original.initialValue);var r=this.createTextBindingHole(e.elementCapture.element.tagName,n.attribute,++this._textBindingId);switch(e.textBindingId=r,e.kind=ke.text,e.elementCapture.refCount--,e.definition=function(){var n;return n=i?"{htmlEscape}({initialValue})":"{htmlEscape}({getter})",t.formatCode(n,{htmlEscape:t._staticVariables.htmlEscape,getter:e.value(),initialValue:i})},n.kind){case Ie.attribute:e.elementCapture.element.setAttribute(n.attribute,r);break;case Ie.booleanAttribute:e.elementCapture.element.setAttribute(n.attribute,r),e.definition=function(){var r;return r=i?'({initialValue} ? {attribute} : "")':'({value} ? {attribute} : "")',t.formatCode(r,{value:e.value(),attribute:T(n.attribute),initialValue:i})},this._htmlProcessors.push(function(e){return e.replace(new RegExp(n.attribute+'="'+r+'"',"i"),r)});break;case Ie.textContent:e.elementCapture.element.textContent=r;break;case Ie.inlineStyle:var o=e.elementCapture.element;if(!o.msReplaceStyle){o.msReplaceStyle=o.getAttribute("style")||"",""!==o.msReplaceStyle&&";"!==o.msReplaceStyle[o.msReplaceStyle.length-1]&&(o.msReplaceStyle=o.msReplaceStyle+";"),o.setAttribute("style","msReplaceStyle:'"+r+"'");var a=o.getAttribute("style");this._htmlProcessors.push(function(e){return e.replace(a,o.msReplaceStyle)})}o.msReplaceStyle=o.msReplaceStyle+n.property+":"+r+";";break;default:throw"NYI"}}},oneTimeTextBindingAnalyze:function(e){var t=e.elementCapture.element,n=t.tagName,i=e.destination[0];switch(n){case"A":switch(i){case"href":return{kind:Ie.attribute,attribute:i}}break;case"IMG":switch(i){case"alt":case"src":case"width":case"height":return{kind:Ie.attribute,attribute:i}}break;case"SELECT":switch(i){case"disabled":case"multiple":case"required":return{kind:Ie.booleanAttribute,attribute:i};case"size":return{kind:Ie.attribute,attribute:i}}break;case"OPTION":switch(i){case"label":case"value":return{kind:Ie.attribute,attribute:i};case"disabled":case"selected":return{kind:Ie.booleanAttribute,attribute:i}}break;case"INPUT":switch(i){case"checked":switch(t.type){case"checkbox":case"radio":return{kind:Ie.booleanAttribute,attribute:i}}break;case"disabled":return{kind:Ie.booleanAttribute,attribute:i};case"max":case"maxLength":case"min":case"step":case"value":return{kind:Ie.attribute,attribute:i};case"size":switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":return{kind:Ie.attribute,attribute:i}}break;case"readOnly":switch(t.type){case"hidden":case"range":case"color":case"checkbox":case"radio":case"file":case"button":break;default:return{kind:Ie.booleanAttribute,attribute:i}}}break;case"BUTTON":switch(i){case"disabled":return{kind:Ie.booleanAttribute,attribute:i};case"value":return{kind:Ie.attribute,attribute:i}}break;case"TEXTAREA":switch(i){case"disabled":case"readOnly":case"required":return{kind:Ie.booleanAttribute,attribute:i};case"cols":case"maxLength":case"placeholder":case"rows":case"wrap":return{kind:Ie.attribute,attribute:i}}}switch(i){case"className":return{kind:Ie.attribute,attribute:"class"};case"dir":case"lang":case"name":case"title":case"tabIndex":return{kind:Ie.attribute,attribute:i};case"style":if(e.destination.length>1){var r=e.destination[1];if("cssText"===r)return;var o="string"==typeof t.style[r];if(o)return("m"===r[0]&&"s"===r[1]||"webkit"===r.substring(0,6))&&(r="-"+r),r=r.replace(he,function(e){return"-"+e.toLowerCase()}),{kind:Ie.inlineStyle,property:r,attribute:"style"}}break;case"innerText":case"textContent":return{kind:Ie.textContent,attribute:"textContent"}}},oneTimeTreeBinding:function(e){if(1===e.destination.length&&"id"===e.destination[0]){if(i.validation)throw new r("WinJS.Binding.IdBindingNotSupported",a._formatString(y.idBindingNotSupported,e.bindingText));return o.log&&o.log(a._formatString(y.idBindingNotSupported,e.bindingText),"winjs binding","error"),void this.markBindingAsError(e)}if(0===e.destination.length)return o.log&&o.log(y.cannotBindToThis,"winjs binding","error"),void this.markBindingAsError(e);var t,n=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.original&&(t=e.pathExpression,e.original.initialValue=t),e.kind=ke.tree,e.definition=function(){var i;return i=t?"({targetPath} || {{}}){prop} = {initialValue}":"({targetPath} || {{}}){prop} = {sourcePath}",n.formatCode(i,{targetPath:E(e.elementCapture,e.destination.slice(0,-1),n.nullableIdentifierAccessTemporary,n.importFunctionSafe("targetSecurityCheck",b)),prop:x(e.destination.slice(-1)),sourcePath:e.value(),initialValue:t})}},optimize:function(){if(this._stage>we.optimze)throw"Illegal: once we have moved past link we cannot revist it";this._stage=we.optimze;for(var e=0;e<this._bindings.length;e++){var t=this._bindings[e];if(!t.template)switch(t.initializer.imported){case H:var n=F(t,{kind:ke.tree,initializer:this.importFunctionSafe("init_oneTime",K),original:t});n.elementCapture.refCount++,this.oneTimeTreeBinding(n),this._bindings.splice(e,0,n),t.delayable=!0,e++;break;case V:var n=F(t,{kind:ke.tree,initializer:this.importFunctionSafe("init_setAttributeOneTime",G),original:t});n.elementCapture.refCount++,this.setAttributeOneTimeTreeBinding(n),this._bindings.splice(e,0,n),t.delayable=!0,e++;break;case K:this.oneTimeTreeBinding(t);break;case G:this.setAttributeOneTimeTreeBinding(t);break;case Y:this.addClassOneTimeTreeBinding(t);break;default:t.initializer&&(t.delayable=!!t.initializer.imported.delayable)}}if(this._optimizeTextBindings){for(var i={},e=0;e<this._bindings.length;e++){var t=this._bindings[e];if(!t.template&&t.kind!==ke.error){switch(t.initializer.imported){case K:this.oneTimeTextBinding(t);break;case G:this.setAttributeOneTimeTextBinding(t);break;case Y:this.addClassOneTimeTextBinding(t)}t.textBindingId&&(i[t.textBindingId]=t)}}if(Object.keys(i).length){var r=this._templateContent.innerHTML;r=this._htmlProcessors.reduce(function(e,t){return t(e)},r);for(var o=r.split(this._textBindingRegex),e=1;e<o.length;e+=2){var t=i[o[e]];o[e]=t.definition}this._html=function(){var e=o.map(function(e){return"string"==typeof e?T(e):e()}).join(" + ");return O(e)}}}},prettify:function(e){var t=e.split("\n");return t.filter(function(e){return!me.test(e)}).join("\n")},setAttributeOneTimeTextBinding:function(e){var t,n=this,i=e.destination[0],r=this.createTextBindingHole(e.elementCapture.element.tagName,i,++this._textBindingId);e.original&&(t=e.original.initialValue),e.textBindingId=r,e.kind=ke.text,e.elementCapture.element.setAttribute(i,r),e.elementCapture.refCount--,e.definition=function(){var i;return i=t?"{htmlEscape}({initialValue})":"{htmlEscape}({value})",n.formatCode(i,{htmlEscape:n._staticVariables.htmlEscape,initialValue:t,value:e.value()})}},setAttributeOneTimeTreeBinding:function(e){if(1===e.destination.length&&"id"===e.destination[0]){if(i.validation)throw new r("WinJS.Binding.IdBindingNotSupported",a._formatString(y.idBindingNotSupported,e.bindingText));return o.log&&o.log(a._formatString(y.idBindingNotSupported,e.bindingText),"winjs binding","error"),void this.markBindingAsError(e)}if(1!==e.destination.length||!e.destination[0])return o.log&&o.log(y.attributeBindingSingleProperty,"winjs binding","error"),void this.markBindingAsError(e);var t,n=this;e.pathExpression=this.bindingExpression(e),e.value=function(){return e.pathExpression},e.original&&(t=this.defineInstance(ge.variable,"",e.value),e.original.initialValue=t),e.kind=ke.tree,e.definition=function(){var i;return i=t?'{element}.setAttribute({attribute}, "" + {initialValue})':'{element}.setAttribute({attribute}, "" + {value})',n.formatCode(i,{element:e.elementCapture,attribute:T(e.destination[0]),initialValue:t,value:e.value()})}}},{_TreeCSE:_e,compile:function(n,i,r){if(!(i instanceof t.HTMLElement))throw"Illegal";ce("WinJS.Binding.Template:compile"+r.profilerMarkIdentifier+",StartTM");var o=new Ce(i,r);o.analyze();var a=o.importAllSafe({Signal:m,global:t,document:t.document,cancelBlocker:J,promise_as:X,disposeInstance:e,markDisposable:ee,ui_processAll:te,binding_processAll:ne,insertAdjacentHTMLUnsafe:$,promise:f,utilities_data:Z,requireSupportedForProcessing:Q,htmlEscape:N,scopedSelect:se,delayedBindingProcessing:v,writeProfilerMark:ce});o.optimize(),o.deadCodeElimination(),o.lower();var s,c;switch(r.target){
case"render":s=o.async?Ae:Be,c=!1;break;case"renderItem":s=o.async?We:Me,c=!0}var l=o.compile(s,a,c),u=o.link(l);return o.done(),ce("WinJS.Binding.Template:compile"+r.profilerMarkIdentifier+",StopTM"),u}}),xe=z('container.classList.add("win-template");                                                              \nvar html = {html};                                                                                      \n{insertAdjacentHTMLUnsafe}(container, "beforeend", html);                                             \nreturnedElement = {returnedElement};                                                                    \n                                                                                                        \n// Capture Definitions                                                                                  \n{capture_definitions};                                                                                  \n{set_msParentSelectorScope};                                                                            \n                                                                                                        \n'),Ee=z("// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \n// Binding Processing                                                                                   \n{binding_processing};                                                                                   \n                                                                                                        \nvar result = {promise_as}(returnedElement);                                                             \n"),Te=z('var controlSignal = new {Signal}();                                                                     \nvar controlDone = function () {{ if (--{control_counter} === 0) {{ controlSignal.complete(); }} }};     \ncontrolDone();                                                                                          \n                                                                                                        \n// Control Processing                                                                                   \n{control_processing};                                                                                   \n                                                                                                        \nvar result = controlSignal.promise.then(function () {{                                                  \n    // Binding Processing                                                                               \n    {binding_processing};                                                                               \n    return {promise}.join({nestedTemplates});                                                           \n}}).then(function () {{                                                                                 \n    return returnedElement;                                                                             \n}}).then(null, function (e) {{                                                                          \n    if (typeof e === "object" && e.name === "Canceled") {{ returnedElement.dispose(); }}            \n    return {promise}.wrapError(e);                                                                      \n}});                                                                                                    \n'),Le=z("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result); }});       \n{suffix_statements};                                                                                    \n"),Be=z('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data); }});                   \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+S(I(4,xe))+"                                           \n                                                                                                        \n    "+S(I(4,Ee))+"                                      \n    "+S(I(4,Le))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Ae=z('function render(data, container) {{                                                                     \n    {debug_break}                                                                                       \n    if (typeof data === "object" && typeof data.then === "function") {{                             \n        // async data + a container falls back to interpreted path                                      \n        if (container) {{                                                                               \n            var result = this._renderInterpreted(data, container);                                      \n            return result.element.then(function () {{ return result.renderComplete; }});                \n        }}                                                                                              \n        return {cancelBlocker}(data).then(function(data) {{ return render(data, container); }});        \n    }}                                                                                                  \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStart});                                                 \n                                                                                                        \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var returnedElement;                                                                                \n                                                                                                        \n    // Global Definitions                                                                               \n    {global_definitions};                                                                               \n                                                                                                        \n    // Data Definitions                                                                                 \n    data = (data === {global} ? data : {requireSupportedForProcessing}(data));                          \n    {data_definitions};                                                                                 \n                                                                                                        \n    // Instance Variable Definitions                                                                    \n    {instance_variable_definitions};                                                                    \n                                                                                                        \n    // HTML Processing                                                                                  \n    container = container || {document}.createElement({tagName});                                       \n    var startIndex = container.childElementCount;                                                       \n    '+S(I(4,xe))+"                                           \n                                                                                                        \n    "+S(I(4,Te))+"                                 \n    "+S(I(4,Le))+"                                           \n                                                                                                        \n    {writeProfilerMark}({profilerMarkIdentifierStop});                                                  \n                                                                                                        \n    return result;                                                                                      \n}}                                                                                                      \n"),Pe=z("{markDisposable}(returnedElement, function () {{ {disposeInstance}(returnedElement, result, renderComplete); }});\n{suffix_statements};                                                                                    \n"),Me=z('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+S(I(8,xe))+"                                       \n                                                                                                        \n        "+S(I(8,Ee))+"                                  \n        "+S(I(8,Pe))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),Ne=z("renderComplete = element.then(function () {{                                                            \n    return itemPromise;                                                                                 \n}}).then(function (item) {{                                                                             \n    return item.ready || item;                                                                          \n}}).then(function (item) {{                                                                             \n    {delayed_binding_processing};                                                                       \n    return element;                                                                                     \n}});                                                                                                    \n"),We=z('function renderItem(itemPromise) {{                                                                     \n    {debug_break}                                                                                       \n    // Declarations                                                                                     \n    var {instance_variable_declarations};                                                               \n    var element, renderComplete, data, returnedElement;                                                 \n                                                                                                        \n    element = itemPromise.then(function renderItem(item) {{                                             \n        if (typeof item.data === "object" && typeof item.data.then === "function") {{               \n            return {cancelBlocker}(item.data).then(function (data) {{ return renderItem({{ data: data }}); }});\n        }}                                                                                              \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStart});                                             \n                                                                                                        \n        // Global Definitions                                                                           \n        {global_definitions};                                                                           \n                                                                                                        \n        // Data Definitions                                                                             \n        data = item.data;                                                                               \n        data = (data === {global} ? data : {requireSupportedForProcessing}(data));                      \n        {data_definitions};                                                                             \n                                                                                                        \n        // Instance Variable Definitions                                                                \n        {instance_variable_definitions};                                                                \n                                                                                                        \n        // HTML Processing                                                                              \n        var container = {document}.createElement({tagName});                                            \n        var startIndex = 0;                                                                             \n        '+S(I(8,xe))+"                                       \n                                                                                                        \n        "+S(I(8,Te))+"                             \n        "+S(I(8,Pe))+"                                   \n                                                                                                        \n        {writeProfilerMark}({profilerMarkIdentifierStop});                                              \n                                                                                                        \n        return result;                                                                                  \n    }});                                                                                                \n    {renderComplete};                                                                                   \n    return {{                                                                                           \n        element: element,                                                                               \n        renderComplete: renderComplete || element,                                                      \n    }};                                                                                                 \n}}                                                                                                      \n"),Oe=z('"use strict";                                                                                         \n                                                                                                        \n// statics                                                                                              \nvar {static_variable_declarations};                                                                     \n{static_variable_definitions};                                                                          \n                                                                                                        \n// generated template rendering function                                                                \nreturn {body};                                                                                          \n');return Ce})})}}),define("WinJS/BindingTemplate",["exports","./Core/_Global","./Core/_WinRT","./Core/_Base","./Core/_BaseUtils","./Core/_Log","./Core/_WriteProfilerMark","./Binding/_Declarative","./BindingTemplate/_DataTemplateCompiler","./ControlProcessor","./Fragments","./Promise","./Utilities/_Dispose","./Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s,c,l,u,d,p,f){"use strict";if(t.document){var m=d._cancelBlocker;i.Namespace._moduleDefine(e,"WinJS.Binding",{Template:i.Namespace._lazy(function(){function e(e,n,i){function r(){return f.removeClass(c,"win-loading"),a("WinJS.Binding:templateRender"+e._profilerMarkIdentifier+",StopTM"),g||c}a("WinJS.Binding:templateRender"+e._profilerMarkIdentifier+",StartTM"),1===++e._counter&&(e.debugBreakOnRender||h._debugBreakOnRender);var o=d.wrap(),c=i||t.document.createElement(e.element.tagName);f.addClass(c,"win-template"),f.addClass(c,"win-loading");var _,g,y=e,v=c.children.length,b=function(){var e=f.data(c).winBindings;e&&e.forEach(function(e){e.cancel()}),o.cancel()};e.extractChild?_=u.renderCopy(y.href||y.element,t.document.createElement(y.element.tagName)).then(function(e){var t=e.firstElementChild;return g=t,p.markDisposable(t,b),c.appendChild(t),t}):(p.markDisposable(c,b),_=u.renderCopy(y.href||y.element,c));var k=_.then(function(){function e(){return t(l.processAll).then(function(){return m(n)}).then(function(e){return t(s.processAll,e,!g&&!v,y.bindingCache)}).then(null,function(e){return"object"==typeof e&&"Canceled"===e.name&&(g||c).dispose(),d.wrapError(e)})}var t;if(0===v)t=function(e,t,n,i){return e(g||c,t,n,i)};else{var i=c.children;if(i.length===v+1)t=function(e,t,n,r){return e(i[v],t,n,r)};else{for(var r=[],a=v,u=i.length;u>a;a++)r.push(i[a]);t=function(e,t,n,i){var o=[];return r.forEach(function(r){o.push(e(r,t,n,i))}),d.join(o)}}}for(var p=c.firstElementChild;p;)p.msParentSelectorScope=!0,p=p.nextElementSibling;var f=y.processTimeout;return f?(0>f&&(f=0),d.timeout(f).then(function(){return o=e()})):o=e()}).then(r,function(e){return r(),d.wrapError(e)});return{element:_,renderComplete:k}}var h=i.Class.define(function(e,n){this._element=e||t.document.createElement("div"),this._element.winControl=this,this._profilerMarkIdentifier=r._getProfilerMarkIdentifier(this._element),a("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StartTM");var i=this;this._element.renderItem=function(e,t){return i._renderItemImpl(e,t)},n=n||{},this.href=n.href,this.enableRecycling=!!n.enableRecycling,this.processTimeout=n.processTimeout||0,this.bindingInitializer=n.bindingInitializer,this.debugBreakOnRender=n.debugBreakOnRender,this.disableOptimizedProcessing=n.disableOptimizedProcessing,this.extractChild=n.extractChild,this._counter=0,this._compile=!!n._compile,this.href||(this.element.style.display="none"),this.bindingCache={expressions:{}},a("WinJS.Binding:newTemplate"+this._profilerMarkIdentifier+",StopTM")},{_shouldCompile:{get:function(){var e=!0;return e=e&&!h._interpretAll,e=e&&!this.disableOptimizedProcessing,e&&(e=e&&0===this.processTimeout,e=e&&(!this.href||this.href instanceof t.HTMLElement),e||o.log&&o.log("Cannot compile templates which use processTimeout or href properties","winjs binding","warn")),e}},bindingInitializer:{get:function(){return this._bindingInitializer},set:function(e){this._bindingInitializer=e,this._reset()}},debugBreakOnRender:{get:function(){return this._debugBreakOnRender},set:function(e){this._debugBreakOnRender=!!e,this._reset()}},disableOptimizedProcessing:{get:function(){return this._disableOptimizedProcessing},set:function(e){this._disableOptimizedProcessing=!!e,this._reset()}},element:{get:function(){return this._element}},extractChild:{get:function(){return this._extractChild},set:function(e){this._extractChild=!!e,this._reset()}},processTimeout:{get:function(){return this._processTimeout||0},set:function(e){this._processTimeout=e,this._reset()}},render:r.markSupportedForProcessing(function(e,t){return this._renderImpl(e,t)}),_renderImpl:function(t,n){if(this._shouldCompile)try{return this._renderImpl=this._compileTemplate({target:"render"}),this._renderImpl(t,n)}catch(i){return d.wrapError(i)}var r=e(this,t,n);return r.element.then(function(){return r.renderComplete})},_renderInterpreted:function(t,n){return e(this,t,n)},renderItem:function(e,t){return this._renderItemImpl(e,t)},_renderItemImpl:function(t,n){if(this._shouldCompile)try{return this._renderItemImpl=this._compileTemplate({target:"renderItem"}),this._renderItemImpl(t)}catch(i){return{element:d.wrapError(i),renderComplete:d.wrapError(i)}}var r=this;if(this.enableRecycling&&!this.bindingCache.elements&&(this.bindingCache.elements={}),this.enableRecycling&&n&&n.msOriginalTemplate===this){var o=this.bindingCache.elements[n.id],a=!0;if(o&&(o.bindings.forEach(function(e){e()}),o.bindings=[],a=!o.nocache),a)return{element:n,renderComplete:t.then(function(e){return s.processAll(n,e.data,!0,r.bindingCache)})}}var c=e(this,t.then(function(e){return e.data}));return c.element=c.element.then(function(e){return e.msOriginalTemplate=r,e}),c},_compileTemplate:function(e){var t=this,i=c._TemplateCompiler.compile(this,this.href||this.element,{debugBreakOnRender:this.debugBreakOnRender||h._debugBreakOnRender,defaultInitializer:this.bindingInitializer||e.defaultInitializer,disableTextBindingOptimization:e.disableTextBindingOptimization||!1,target:e.target,extractChild:this.extractChild,profilerMarkIdentifier:this._profilerMarkIdentifier}),r=e.resetOnFragmentChange||n.Windows.ApplicationModel.DesignMode.designModeEnabled;if(r){var o=new f._MutationObserver(function(){t._reset(),o.disconnect()});o.observe(f.data(this.element).docFragment,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}return i},_reset:function(){delete this._renderImpl,delete this._renderItemImpl}},{isDeclarativeControlContainer:{value:!0,writable:!1,configurable:!1},render:{value:function(e,t,n){return new h(null,{href:e}).render(t,n)}}});return h})})}}),define("WinJS/BindingList/_BindingListDataSource",["exports","../Core/_WinRT","../Core/_Base","../Core/_ErrorFromName","../Binding/_DomWeakRefTable","../Promise","../Scheduler","../Utilities/_UI"],function(e,t,n,i,r,o,a,s){"use strict";n.Namespace._moduleDefine(e,"WinJS.Binding",{_BindingListDataSource:n.Namespace._lazy(function(){function e(e,t){for(var n=e.length;n-1>t;){var i=e.getItem(++t);if(i)return i.key}return null}function c(e,t){for(;t>0;){var n=e.getItem(--t);if(n)return n.key}return null}function l(e,t){Object.keys(t).forEach(function(n){e.addEventListener(n,t[n])})}function u(e,t){Object.keys(t).forEach(function(n){e.removeEventListener(n,t[n])})}function d(e,t){return t?new E(e,t):new x}function p(e,t,n){return t?new T(e,t,n):new x}function f(e,t,n){return t&&e._annotateWithIndex(t,n)}function m(e,t){return this._list.unshift(t),this.itemFromIndex(0)}function h(e,t,n){var i=this._list.indexOfKey(n);return-1===i?w.noLongerMeaningful:(this._list.splice(i,0,t),this.itemFromIndex(i))}function _(e,t,n){var i=this._list.indexOfKey(n);return-1===i?w.noLongerMeaningful:(i+=1,this._list.splice(i,0,t),this.itemFromIndex(i))}function g(e,t){return this._list.push(t),this.itemFromIndex(this._list.length-1)}function y(e,t){var n=this._list.indexOfKey(e);return-1===n?w.noLongerMeaningful:(this._list.setAt(n,t),this.itemFromIndex(n))}function v(e){var t=this._list.indexOfKey(e);if(-1===t)return w.noLongerMeaningful;var n=0;return this._list.move(t,n),this.itemFromIndex(n)}function b(e,t){var n=this._list.indexOfKey(e),i=this._list.indexOfKey(t);return-1===n||-1===i?w.noLongerMeaningful:(i=i>n?i-1:i,this._list.move(n,i),this.itemFromIndex(i))}function k(e,t){var n=this._list.indexOfKey(e),i=this._list.indexOfKey(t);return-1===n||-1===i?w.noLongerMeaningful:(i=i>=n?i:i+1,this._list.move(n,i),this.itemFromIndex(i))}function I(e){var t=this._list.indexOfKey(e);if(-1===t)return w.noLongerMeaningful;var n=this._list.length-1;return this._list.move(t,n),this.itemFromIndex(n)}function S(e){var t=this._list.indexOfKey(e);return-1===t?w.noLongerMeaningful:(this._list.splice(t,1),o.wrap())}var w={get noLongerMeaningful(){return o.wrapError(new i(s.EditError.noLongerMeaningful))}},C=o.wrap().constructor,x=n.Class.derive(C,function(){this._value=null},{release:function(){},retain:function(){return this}},{supportedForProcessing:!1}),E=n.Class.derive(C,function(e,t){this._value=t,this._listBinding=e},{handle:{get:function(){return this._value.key}},index:{get:function(){return this._value.index}},release:function(){this._listBinding._release(this._value,this._listBinding._list.indexOfKey(this._value.key))},retain:function(){return this._listBinding._addRef(this._value,this._listBinding._list.indexOfKey(this._value.key)),this}},{supportedForProcessing:!1}),T=n.Class.derive(o,function(e,t,n){var i=this;this._item=t,this._listBinding=e,o.call(this,function(r){a.schedule(function(){return e._released?void i.cancel():void r(t)},a.Priority.normal,null,"WinJS.Binding.List."+n)})},{handle:{get:function(){return this._item.key}},index:{get:function(){return this._item.index}},release:function(){this._listBinding._release(this._item,this._listBinding._list.indexOfKey(this._item.key))},retain:function(){return this._listBinding._addRef(this._item,this._listBinding._list.indexOfKey(this._item.key)),this}},{supportedForProcessing:!1}),L=n.Class.define(function(e,n,i,o){this._dataSource=e,this._list=n,this._editsCount=0,this._notificationHandler=i,this._pos=-1,
this._retained=[],this._retained.length=n.length,this._retainedKeys={},this._affectedRange=null;var a=null;if(t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty||(a=this),i){var s=function(e,t){var n=r._getWeakRefElement(o)||a;return n?(n["_"+e](t),!0):!1};this._handlers={itemchanged:function c(e){s("itemchanged",e)||n.removeEventListener("itemchanged",c)},iteminserted:function u(e){s("iteminserted",e)||n.removeEventListener("iteminserted",u)},itemmoved:function d(e){s("itemmoved",e)||n.removeEventListener("itemmoved",d)},itemremoved:function p(e){s("itemremoved",e)||n.removeEventListener("itemremoved",p)},reload:function f(){s("reload")||n.removeEventListener("reload",f)}},l(this._list,this._handlers)}},{_itemchanged:function(e){var t=e.detail.key,n=e.detail.index;this._updateAffectedRange(n,"changed");var i=e.detail.newItem,r=this._retained[n];if(r){var o=this._notificationHandler;if(r.index!==n){var a=r.index;r.index=n,o&&o.indexChanged&&o.indexChanged(i.key,n,a)}i=f(this._list,i,n),i._retainedCount=r._retainedCount,this._retained[n]=i,this._retainedKeys[t]=i,this._beginEdits(this._list.length),o&&o.changed&&o.changed(i,r),this._endEdits()}else this._beginEdits(this._list.length),this._endEdits()},_iteminserted:function(t){var n=t.detail.index;this._updateAffectedRange(n,"inserted"),this._beginEdits(this._list.length-1),n<=this._pos&&(this._pos=Math.min(this._pos+1,this._list.length));var i=this._retained;if(i.splice(n,0,0),delete i[n],this._shouldNotify(n)||1===this._list.length){var r=this._notificationHandler;r&&r.inserted&&r.inserted(d(this,f(this._list,this._list.getItem(n),n)),c(this._list,n),e(this._list,n))}this._endEdits()},_itemmoved:function(e){var t=e.detail.oldIndex,n=e.detail.newIndex;this._updateAffectedRange(t,"moved"),this._updateAffectedRange(n,"moved"),this._beginEdits(this._list.length),(t<this._pos||n<=this._pos)&&(n>this._pos?this._pos=Math.max(-1,this._pos-1):t>this._pos&&(this._pos=Math.min(this._pos+1,this._list.length)));var i=this._retained,r=i.splice(t,1)[0];i.splice(n,0,r),r||(delete i[n],r=f(this._list,this._list.getItem(n),n)),r._moved=!0,this._addRef(r,n),this._endEdits()},_itemremoved:function(e){var t=e.detail.key,n=e.detail.index;this._updateAffectedRange(n,"removed"),this._beginEdits(this._list.length+1),n<this._pos&&(this._pos=Math.max(-1,this._pos-1));var i=this._retained,r=this._retainedKeys,o=n in i;i.splice(n,1),delete r[t];var a=this._notificationHandler;o&&a&&a.removed&&a.removed(t,!1),this._endEdits()},_reload:function(){this._retained=[],this._retainedKeys={};var e=this._notificationHandler;e&&e.reload&&e.reload()},_addRef:function(e,t){t in this._retained?this._retained[t]._retainedCount++:(this._retained[t]=e,this._retainedKeys[e.key]=e,e._retainedCount=1)},_release:function(e,t){var n=this._retained[t];n&&(1===n._retainedCount?(delete this._retained[t],delete this._retainedKeys[n.key]):n._retainedCount--)},_shouldNotify:function(e){var t=this._retained;return e in t||e+1 in t||e-1 in t},_updateAffectedRange:function(e,t){if(this._notificationHandler.affectedRange){var n=e,i="removed"!==t?e+1:e;if(this._affectedRange){switch(t){case"inserted":e<=this._affectedRange.end&&++this._affectedRange.end;break;case"removed":e<this._affectedRange.end&&--this._affectedRange.end;break;case"moved":case"changed":}this._affectedRange.start=Math.min(this._affectedRange.start,n),this._affectedRange.end=Math.max(this._affectedRange.end,i)}else this._affectedRange={start:n,end:i}}},_notifyAffectedRange:function(){this._affectedRange&&(this._notificationHandler&&this._notificationHandler.affectedRange&&this._notificationHandler.affectedRange(this._affectedRange),this._affectedRange=null)},_notifyCountChanged:function(){var e=this._countAtBeginEdits,t=this._list.length;if(e!==t){var n=this._notificationHandler;n&&n.countChanged&&n.countChanged(t,e)}},_notifyIndicesChanged:function(){for(var e=this._retained,t=0,n=e.length;n>t;t++){var i=e[t];if(i&&i.index!==t){var r=t,o=i.index;i.index=r;var a=this._notificationHandler;a&&a.indexChanged&&a.indexChanged(i.key,r,o)}}},_notifyMoved:function(){for(var t=this._retained,n=0,i=t.length;i>n;n++){var r=t[n];if(r&&r._moved&&(r._moved=!1,this._release(r,n),this._shouldNotify(n))){var o=this._notificationHandler;o&&o.moved&&o.moved(d(this,r),c(this._list,n),e(this._list,n))}}},_beginEdits:function(e,t){this._editsCount++;var n=this._notificationHandler;if(1===this._editsCount&&n){if(!t){this._editsCount++;var i=this;a.schedule(function(){i._endEdits()},a.Priority.high,null,"WinJS.Binding.List._endEdits")}n.beginNotifications&&n.beginNotifications(),this._countAtBeginEdits=e}},_endEdits:function(){this._editsCount--;var e=this._notificationHandler;0===this._editsCount&&e&&(this._notifyIndicesChanged(),this._notifyMoved(),this._notifyCountChanged(),this._notifyAffectedRange(),e.endNotifications&&e.endNotifications())},jumpToItem:function(e){var t=this._list.indexOfKey(e.handle);return-1===t?o.wrap(null):(this._pos=t,this.current())},current:function(){return this.fromIndex(this._pos)},previous:function(){return this._pos=Math.max(-1,this._pos-1),this._fromIndex(this._pos,!0,"previous")},next:function(){return this._pos=Math.min(this._pos+1,this._list.length),this._fromIndex(this._pos,!0,"next")},releaseItem:function(e){e.release?e.release():this._release(e,this._list.indexOfKey(e.key))},release:function(){this._notificationHandler&&u(this._list,this._handlers),this._notificationHandler=null,this._dataSource._releaseBinding(this),this._released=!0},first:function(){return this.fromIndex(0)},last:function(){return this.fromIndex(this._list.length-1)},fromKey:function(e){var t,n=this._retainedKeys;return t=e in n?n[e]:f(this._list,this._list.getItemFromKey(e),this._list.indexOfKey(e)),d(this,t)},fromIndex:function(e){return this._fromIndex(e,!1,"fromIndex")},_fromIndex:function(e,t,n){var i,r=this._retained;return i=e in r?r[e]:f(this._list,this._list.getItem(e),e),t?p(this,i,n):d(this,i)}},{supportedForProcessing:!1}),B=0,A=n.Class.define(function(e){this._usingWeakRef=t.msSetWeakWinRTProperty&&t.msGetWeakWinRTProperty,this._bindings={},this._list=e,e.unshift&&(this.insertAtStart=m),e.push&&(this.insertAtEnd=g),e.setAt&&(this.change=y),e.splice&&(this.insertAfter=_,this.insertBefore=h,this.remove=S),e.move&&(this.moveAfter=k,this.moveBefore=b,this.moveToEnd=I,this.moveToStart=v)},{_releaseBinding:function(e){delete this._bindings[e._id]},addEventListener:function(){},removeEventListener:function(){},createListBinding:function(e){var t="ds_"+ ++B,n=new L(this,this._list,e,t);return n._id=t,this._usingWeakRef?(r._createWeakRef(n,t),this._bindings[t]=t):this._bindings[t]=n,n},getCount:function(){return o.wrap(this._list.length)},itemFromKey:function(e){var t=this._list,n=f(t,t.getItemFromKey(e),-1);return Object.defineProperty(n,"index",{get:function(){return t.indexOfKey(e)},enumerable:!1,configurable:!0}),o.wrap(n)},itemFromIndex:function(e){return o.wrap(f(this._list,this._list.getItem(e),e))},list:{get:function(){return this._list}},beginEdits:function(){var e=this._list.length;this._forEachBinding(function(t){t._beginEdits(e,!0)})},endEdits:function(){this._forEachBinding(function(e){e._endEdits()})},_forEachBinding:function(e){if(this._usingWeakRef){var t=[];Object.keys(this._bindings).forEach(function(n){var i=r._getWeakRefElement(n);i?e(i):t.push(n)});for(var n=0,i=t.length;i>n;n++)delete this._bindings[t[n]]}else{var o=this;Object.keys(this._bindings).forEach(function(t){e(o._bindings[t])})}},invalidateAll:function(){return o.wrap()},moveAfter:void 0,moveBefore:void 0,moveToEnd:void 0,moveToStart:void 0},{supportedForProcessing:!1});return A})})}),define("WinJS/BindingList",["exports","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Events","./Core/_Resources","./Binding/_Data","./BindingList/_BindingListDataSource"],function(e,t,n,i,r,o,a,s){"use strict";function c(e){return Array.prototype.slice.call(e,0)}function l(e){return{handle:e.handle,key:e.key,data:e.data,groupKey:e.groupKey,groupSize:e.groupSize,firstItemKey:e.firstItemKey,firstItemIndexHint:e.firstItemIndexHint}}function u(e){return void 0===e?void 0:+e}function d(e,t){function n(t,n){for(;n>t;t++)e[t]=o[t]}function i(e,t){if(!(2>t-e)){var o=Math.floor((t+e)/2);i(e,o),i(o,t),r(e,o,t),n(e,t)}}function r(n,i,r){for(var a=n,s=i,c=n;r>c;c++)i>a&&(s>=r||t(e[a],e[s])<=0)?(o[c]=e[a],a++):(o[c]=e[s],s++)}var o=new Array(e.length);return i(0,e.length),e}var p={get sparseArrayNotSupported(){return"Sparse arrays are not supported with proxy: true"},get illegalListLength(){return"List length must be assigned a finite positive number"}},f=r._createEventProperty,m={},h=t.Namespace.defineWithParent(null,null,{ListBase:t.Namespace._lazy(function(){var e=t.Class.define(null,{_annotateWithIndex:function(e,t){var n=l(e);return n.index=t,n},onitemchanged:f("itemchanged"),oniteminserted:f("iteminserted"),onitemmoved:f("itemmoved"),onitemmutated:f("itemmutated"),onitemremoved:f("itemremoved"),onreload:f("reload"),_notifyItemChanged:function(e,t,n,i,r,o){this._listeners&&this._listeners.itemchanged&&this.dispatchEvent("itemchanged",{key:e,index:t,oldValue:n,newValue:i,oldItem:r,newItem:o})},_notifyItemInserted:function(e,t,n){this._listeners&&this._listeners.iteminserted&&this.dispatchEvent("iteminserted",{key:e,index:t,value:n});var i=this.length;i!==this._lastNotifyLength&&(this.notify("length",i,this._lastNotifyLength),this._lastNotifyLength=i)},_notifyItemMoved:function(e,t,n,i){this._listeners&&this._listeners.itemmoved&&this.dispatchEvent("itemmoved",{key:e,oldIndex:t,newIndex:n,value:i})},_notifyItemMutated:function(e,t,n){this._listeners&&this._listeners.itemmutated&&this.dispatchEvent("itemmutated",{key:e,value:t,item:n})},_notifyItemRemoved:function(e,t,n,i){this._listeners&&this._listeners.itemremoved&&this.dispatchEvent("itemremoved",{key:e,index:t,value:n,item:i});var r=this.length;r!==this._lastNotifyLength&&(this.notify("length",r,this._lastNotifyLength),this._lastNotifyLength=r)},_notifyReload:function(){if(this._listeners&&this._listeners.reload&&this.dispatchEvent("reload"),e!==this._lastNotifyLength){var e=this.length;this.notify("length",e,this._lastNotifyLength),this._lastNotifyLength=e}},_normalizeIndex:function(e){return e=u(e),0>e?this.length+e:e},_notifyMutatedFromKey:function(e){var t=this.getItemFromKey(e);this._notifyItemMutated(e,t.data,t)},notifyReload:function(){this._notifyReload()},getAt:function(e){e=u(e);var t=this.getItem(e);return t&&t.data},_getArray:function(){for(var e=new Array(this.length),t=0,n=this.length;n>t;t++){var i=this.getItem(t);i&&(e[t]=i.data)}return e},_getFromKey:function(e){var t=this.getItemFromKey(e);return t&&t.data},_getKey:function(e){e=u(e);var t=this.getItem(e);return t&&t.key},concat:function(){var e=this._getArray();return e.concat.apply(e,arguments)},join:function(e){return this._getArray().join(e||",")},slice:function(e,t){return this._getArray().slice(e,t)},indexOf:function(e,t){t=u(t),t=Math.max(0,this._normalizeIndex(t)||0);for(var n=t,i=this.length;i>n;n++){var r=this.getItem(n);if(r&&r.data===e)return n}return-1},lastIndexOf:function(e,t){t=u(t);var n=this.length;t=Math.min(this._normalizeIndex(void 0!==t?t:n),n-1);var i;for(i=t;i>=0;i--){var r=this.getItem(i);if(r&&r.data===e)return i}return-1},every:function(e,t){return this._getArray().every(e,t)},filter:function(e,t){return this._getArray().filter(e,t)},forEach:function(e,t){this._getArray().forEach(e,t)},map:function(e,t){return this._getArray().map(e,t)},some:function(e,t){return this._getArray().some(e,t)},reduce:function(e,t){return arguments.length>1?this._getArray().reduce(e,t):this._getArray().reduce(e)},reduceRight:function(e,t){return arguments.length>1?this._getArray().reduceRight(e,t):this._getArray().reduceRight(e)},createFiltered:function(e){return new h.FilteredListProjection(this,e)},createGrouped:function(e,t,n){return new h.GroupedSortedListProjection(this,e,t,n)},createSorted:function(e){return new h.SortedListProjection(this,e)},dataSource:{get:function(){return this._dataSource=this._dataSource||new s._BindingListDataSource(this)}}},{supportedForProcessing:!1});return t.Class.mix(e,a.observableMixin),t.Class.mix(e,r.eventMixin),e}),ListBaseWithMutators:t.Namespace._lazy(function(){return t.Class.derive(h.ListBase,null,{pop:function(){return this.splice(-1,1)[0]},push:function(e){if(1===arguments.length)return this.splice(this.length,0,e),this.length;var t=c(arguments);return t.splice(0,0,this.length,0),this.splice.apply(this,t),this.length},shift:function(){return this.splice(0,1)[0]},unshift:function(e){if(1===arguments.length)this.splice(0,0,e);else{var t=c(arguments);t.splice(0,0,0,0),this.splice.apply(this,t)}return this.length}},{supportedForProcessing:!1})}),ListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListBaseWithMutators,null,{_list:null,_myListeners:null,_addListListener:function(e,t){var n={name:e,handler:t.bind(this)};this._myListeners=this._myListeners||[],this._myListeners.push(n),this._list.addEventListener(e,n.handler)},dispose:function(){var t=this._list,n=this._myListeners;this._myListeners=[];for(var i=0,r=n.length;r>i;i++){var o=n[i];t.removeEventListener(o.name,o.handler)}this._list=new e.List,this._listReload()},getItemFromKey:function(e){return this._list.getItemFromKey(e)},move:function(e,t){e=u(e),t=u(t),e===t||0>e||0>t||e>=this.length||t>=this.length||(e=this._list.indexOfKey(this._getKey(e)),t=this._list.indexOfKey(this._getKey(t)),this._list.move(e,t))},_notifyMutatedFromKey:function(e){this._list._notifyMutatedFromKey(e)},splice:function(e){e=u(e),e=Math.max(0,this._normalizeIndex(e));var t=c(arguments);return e===this.length?(t[0]=this._list.length,this._list.splice.apply(this._list,t)):(t[0]=this._getKey(e),this._spliceFromKey.apply(this,t))},_setAtKey:function(e,t){this._list._setAtKey(e,t)}},{supportedForProcessing:!1})}),FilteredListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListProjection,function(e,t){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._filter=t,this._initFilteredKeys()},{_filter:null,_filteredKeys:null,_initFilteredKeys:function(){for(var e=this._filter,t=this._list,n=[],i=0,r=t.length;r>i;i++){var o=t.getItem(i);o&&e(o.data)&&n.push(o.key)}this._filteredKeys=n},_findInsertionPosition:function(e,t){for(var n,i=this._filter;--t>=0;){var r=this._list.getItem(t);if(r&&i(r.data)){n=r.key;break}}var o=this._filteredKeys,a=n?o.indexOf(n)+1:0;return a},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.oldValue,r=e.detail.newValue,o=e.detail.oldItem,a=e.detail.newItem,s=this._filter,c=s(i),l=s(r);if(c&&l){var u=this._filteredKeys,d=u.indexOf(t);this._notifyItemChanged(t,d,i,r,o,a)}else c&&!l?this._listItemRemoved({detail:{key:t,index:n,value:i,item:o}}):!c&&l&&this._listItemInserted({detail:{key:t,index:n,value:r}})},_listItemInserted:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.value,r=this._filter;if(r(i)){var o=this._findInsertionPosition(t,n),a=this._filteredKeys;a.splice(o,0,t),this._notifyItemInserted(t,o,i)}},_listItemMoved:function(e){var t=e.detail.key,n=e.detail.newIndex,i=e.detail.value,r=this._filteredKeys,o=r.indexOf(t);if(-1!==o){r.splice(o,1);var a=this._findInsertionPosition(t,n);r.splice(a,0,t),this._notifyItemMoved(t,o,a,i)}},_listItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,r=this._filter,o=this._filteredKeys,a=o.indexOf(t),s=-1!==a,c=r(n);s&&c?this._notifyItemMutated(t,n,i):s&&!c?(o.splice(a,1),this._notifyItemRemoved(t,a,n,i)):!s&&c&&this._listItemInserted({detail:{key:t,index:this._list.indexOfKey(t),value:n}})},_listItemRemoved:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,r=this._filteredKeys,o=r.indexOf(t);-1!==o&&(r.splice(o,1),this._notifyItemRemoved(t,o,n,i))},_listReload:function(){this._initFilteredKeys(),this._notifyReload()},length:{get:function(){return this._filteredKeys.length},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",p.illegalListLength);var t=this.length;t>e&&this.splice(e,t-e)}},getItem:function(e){return e=u(e),this.getItemFromKey(this._filteredKeys[e])},indexOfKey:function(e){return this._filteredKeys.indexOf(e)},notifyMutated:function(e){return e=u(e),this._notifyMutatedFromKey(this._filteredKeys[e])},setAt:function(e,t){e=u(e),this._setAtKey(this._filteredKeys[e],t)},_spliceFromKey:function(e,t){if(arguments.length>2){var n=c(arguments);n[1]=0,this._list._spliceFromKey.apply(this._list,n)}var i=[];if(t){for(var r=[],o=this._filteredKeys,a=o.indexOf(e),s=a,l=o.length;l>s&&t>s-a;s++){var e=o[s];r.push(e)}var u=this;r.forEach(function(e){i.push(u._list._spliceFromKey(e,1)[0])})}return i}},{supportedForProcessing:!1})}),SortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListProjection,function(e,t){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemmutated",this._listItemMutated),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=t,this._initSortedKeys()},{_sortFunction:null,_sortedKeys:null,_initSortedKeys:function(){for(var e=this._list,t=[],n=0,i=e.length;i>n;n++){var r=e.getItem(n);r&&(t[n]=r.key)}var o=this._sortFunction,a=d(t,function(t,n){return t=e.getItemFromKey(t).data,n=e.getItemFromKey(n).data,o(t,n)});this._sortedKeys=a},_findInsertionPos:function(e,t,n,i,r){for(var o=this._sortFunction,a=this._sortedKeys,s=Math.max(0,i||-1),c=Math.min(a.length,r||Number.MAX_VALUE),l=s;c>=s;){l=(s+c)/2>>>0;var u=a[l];if(!u)break;var d=this.getItemFromKey(u),p=o(d.data,n);if(0>p)s=l+1;else{if(0===p)return this._findStableInsertionPos(e,t,s,c,l,n);c=l-1}}return s},_findBeginningOfGroup:function(e,t,n,i,r){for(var o=0,a=e;a>=o;){e=(o+a)/2>>>0;var s=i[e],c=n.getItemFromKey(s),l=t(c.data,r);0>l?o=e+1:a=e-1}return o},_findEndOfGroup:function(e,t,n,i,r){for(var o=e,a=i.length;a>=o;){e=(o+a)/2>>>0;var s=i[e];if(!s)return i.length;var c=n.getItemFromKey(s),l=t(c.data,r);0>=l?o=e+1:a=e-1}return o},_findStableInsertionPos:function(e,t,n,i,r,o){var a=this._list,s=a.length,c=this._sortFunction,l=this._sortedKeys;if(s/2>t){for(var u=t-1;u>=0;u--){var d=a.getItem(u);if(0===c(d.data,o))return s-n>i?l.indexOf(d.key,n)+1:l.lastIndexOf(d.key,i)+1}return this._findBeginningOfGroup(r,c,a,l,o)}for(var u=t+1;s>u;u++){var d=a.getItem(u);if(0===c(d.data,o))return s-n>i?l.indexOf(d.key,n):l.lastIndexOf(d.key,i)}return this._findEndOfGroup(r,c,a,l,o)},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.newValue,i=e.detail.oldValue,r=this._sortFunction;if(0===r(i,n)){var o=this.indexOfKey(t);this._notifyItemChanged(t,o,i,n,e.detail.oldItem,e.detail.newItem)}else this._listItemRemoved({detail:{key:t,index:e.detail.index,value:e.detail.oldValue,item:e.detail.oldItem}}),this._listItemInserted({detail:{key:t,index:e.detail.index,value:e.detail.newValue}})},_listItemInserted:function(e,t,n){var i=e.detail.key,r=e.detail.index,o=e.detail.value,a=this._findInsertionPos(i,r,o,t,n);this._sortedKeys.splice(a,0,i),this._notifyItemInserted(i,a,o)},_listItemMoved:function(e,t,n){var i=e.detail.key,r=e.detail.newIndex,o=e.detail.value,a=this._sortedKeys,s=a.indexOf(i,t);a.splice(s,1);var c=this._findInsertionPos(i,r,o,t,n);a.splice(c,0,i),c!==s&&this._notifyItemMoved(i,s,c,o)},_listItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=e.detail.item,r=this._list.indexOfKey(t),o=this._sortedKeys.indexOf(t);this._sortedKeys.splice(o,1);var a=this._findInsertionPos(t,r,n);return this._sortedKeys.splice(o,0,t),o===a?void this._notifyItemMutated(t,n,i):(this._listItemRemoved({detail:{key:t,index:r,value:n,item:i}}),void this._listItemInserted({detail:{key:t,index:r,value:n}}))},_listItemRemoved:function(e,t){var n=e.detail.key,i=e.detail.value,r=e.detail.item,o=this._sortedKeys,a=o.indexOf(n,t);o.splice(a,1),this._notifyItemRemoved(n,a,i,r)},_listReload:function(){this._initSortedKeys(),this._notifyReload()},length:{get:function(){return this._sortedKeys.length},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",p.illegalListLength);var t=this.length;t>e&&this.splice(e,t-e)}},getItem:function(e){return e=u(e),this.getItemFromKey(this._sortedKeys[e])},indexOfKey:function(e){return this._sortedKeys.indexOf(e)},notifyMutated:function(e){e=u(e),this._notifyMutatedFromKey(this._sortedKeys[e])},setAt:function(e,t){e=u(e),this._setAtKey(this._sortedKeys[e],t)},_spliceFromKey:function(e,t){if(arguments.length>2){var n=c(arguments);n[1]=0,this._list._spliceFromKey.apply(this._list,n)}var i=[];if(t){for(var r=[],o=this._sortedKeys,a=o.indexOf(e),s=a,l=o.length;l>s&&t>s-a;s++)r.push(o[s]);var u=this;r.forEach(function(e){i.push(u._list._spliceFromKey(e,1)[0])})}return i}},{supportedForProcessing:!1})}),GroupedSortedListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.SortedListProjection,function(e,t,n,i){this._list=e,this._addListListener("itemchanged",this._listGroupedItemChanged),this._addListListener("iteminserted",this._listGroupedItemInserted),this._addListListener("itemmoved",this._listGroupedItemMoved),this._addListListener("itemmutated",this._listGroupedItemMutated),this._addListListener("itemremoved",this._listGroupedItemRemoved),this._addListListener("reload",this._listReload),this._sortFunction=function(e,n){return e=t(e),n=t(n),i?i(e,n):n>e?-1:e===n?0:1},this._groupKeyOf=t,this._groupDataOf=n,this._initSortedKeys(),this._initGroupedItems()},{_groupKeyOf:null,_groupDataOf:null,_groupedItems:null,_initGroupedItems:function(){for(var e={},t=this._list,n=this._groupKeyOf,i=0,r=t.length;r>i;i++){var o=l(t.getItem(i));o.groupKey=n(o.data),e[o.key]=o}this._groupedItems=e},_groupsProjection:null,_listGroupedItemChanged:function(e){var t=e.detail.key,n=e.detail.oldValue,i=e.detail.newValue,r=this._groupedItems,o=r[t],a=l(o);a.data=i,a.groupKey=this._groupKeyOf(i),r[t]=a;var s;o.groupKey===a.groupKey?(s=this.indexOfKey(t),this._notifyItemChanged(t,s,n,i,o,a)):(s=e.detail.index,this._listItemChanged({detail:{key:t,index:s,oldValue:n,newValue:i,oldItem:o,newItem:a}}))},_listGroupedItemInserted:function(e){var t=e.detail.key,n=e.detail.value,i=this._groupKeyOf(n);this._groupedItems[t]={handle:t,key:t,data:n,groupKey:i};var r,o;if(this._groupsProjection){var a=this._groupsProjection._groupItems[i];a&&(r=a.firstItemIndexHint,o=r+a.groupSize)}this._listItemInserted(e,r,o)},_listGroupedItemMoved:function(e){var t,n,i=this._groupedItems[e.detail.key].groupKey;if(this._groupsProjection){var r=this._groupsProjection._groupItems[i];t=r.firstItemIndexHint,n=t+r.groupSize}this._listItemMoved(e,t,n)},_listGroupedItemMutated:function(e){var t=e.detail.key,n=e.detail.value,i=this._groupedItems,r=i[t],o=this._groupKeyOf(n);if(r.groupKey===o)this._notifyItemMutated(t,n,r);else{var a=l(r);a.groupKey=o,i[t]=a;var s=this._list.indexOfKey(t);this._listItemRemoved({detail:{key:t,index:s,value:n,item:r}}),this._listItemInserted({detail:{key:t,index:s,value:n}})}},_listGroupedItemRemoved:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.value,r=this._groupedItems,o=r[t];delete r[t];var a,s;if(this._groupsProjection){var c=this._groupsProjection._groupItems[o.groupKey];a=c.firstItemIndexHint,s=a+c.groupSize}this._listItemRemoved({detail:{key:t,index:n,value:i,item:o}},a,s)},_listReload:function(){this._initGroupedItems(),h.SortedListProjection.prototype._listReload.call(this)},groups:{get:function(){return null===this._groupsProjection&&(this._groupsProjection=new h.GroupsListProjection(this,this._groupKeyOf,this._groupDataOf)),this._groupsProjection}},getItemFromKey:function(e){return this._groupedItems[e]}},{supportedForProcessing:!1})}),GroupsListProjection:t.Namespace._lazy(function(){return t.Class.derive(h.ListBase,function(e,t,n){this._list=e,this._addListListener("itemchanged",this._listItemChanged),this._addListListener("iteminserted",this._listItemInserted),this._addListListener("itemmoved",this._listItemMoved),this._addListListener("itemremoved",this._listItemRemoved),this._addListListener("reload",this._listReload),this._groupKeyOf=t,this._groupDataOf=n,this._initGroupKeysAndItems()},{_list:null,_addListListener:function(e,t){this._list.addEventListener(e,t.bind(this))},_groupDataOf:null,_groupKeyOf:null,_groupOf:function(e){return this.getItemFromKey(this._groupKeyOf(e.data))},_groupKeys:null,_groupItems:null,_initGroupKeysAndItems:function(){for(var e,t=this._groupDataOf,n=this._list,i={},r=[],o=null,a=null,s=0,c=n.length;c>s;s++){var l=n.getItem(s),u=l.groupKey;u!==o?(a&&(a.groupSize=e),e=1,o=u,a={handle:u,key:u,data:t(l.data),firstItemKey:l.key,firstItemIndexHint:s},i[u]=a,r.push(u)):e++}a&&(a.groupSize=e),this._groupKeys=r,this._groupItems=i},_listItemChanged:function(e){var t=e.detail.key,n=e.detail.index,i=e.detail.newValue,r=this._list,o=r.getItemFromKey(t).groupKey,a=this._groupItems,s=a[o];if(s.firstItemIndexHint===n){var c=l(s);c.data=this._groupDataOf(i),c.firstItemKey=t,a[o]=c,this._notifyItemChanged(o,this._groupKeys.indexOf(o),s.data,c.data,s,c)}},_listItemInserted:function(e){var t,n,i,r,o,a=e.detail.key,s=e.detail.index,c=e.detail.value,u=this._list,d=u.getItemFromKey(a).groupKey,p=this._groupItems,f=this._groupKeys,m=p[d];if(m)n=m,i=l(n),i.groupSize++,n.firstItemIndexHint===s&&(i.groupData=this._groupDataOf(c),i.firstItemKey=a,i.firstItemIndexHint=s),p[d]=i,t=f.indexOf(d),this._notifyItemChanged(d,t,n.data,i.data,n,i);else{for(r=0,o=f.length;o>r&&(m=p[f[r]],!(m.firstItemIndexHint>=s));r++);t=r,m={handle:d,key:d,data:this._groupDataOf(c),groupSize:1,firstItemKey:a,firstItemIndexHint:s},f.splice(t,0,d),p[d]=m,this._notifyItemInserted(d,t,m.data)}for(r=t+1,o=f.length;o>r;r++)n=p[f[r]],i=l(n),i.firstItemIndexHint++,p[i.key]=i,this._notifyItemChanged(i.key,r,n.data,i.data,n,i)},_listItemMoved:function(e){var t=e.detail.key,n=e.detail.oldIndex,i=e.detail.newIndex,r=this._list,o=r.getItemFromKey(t).groupKey,a=this._groupItems,s=a[o];if(s.firstItemIndexHint===i||s.firstItemIndexHint===n){var c=r.getItem(s.firstItemIndexHint),u=l(s);u.data=this._groupDataOf(c.data),u.firstItemKey=c.key,a[o]=u,this._notifyItemChanged(o,this._groupKeys.indexOf(o),s.data,u.data,s,u)}},_listItemRemoved:function(e){var t,n,i=e.detail.index,r=e.detail.item,o=this._groupItems,a=this._groupKeys,s=r.groupKey,c=o[s],u=a.indexOf(s);if(1===c.groupSize)a.splice(u,1),delete o[s],this._notifyItemRemoved(s,u,c.data,c),u--;else{if(t=c,n=l(t),n.groupSize--,t.firstItemIndexHint===i){var d=this._list.getItem(i);n.data=this._groupDataOf(d.data),n.firstItemKey=d.key}o[s]=n,this._notifyItemChanged(s,u,t.data,n.data,t,n)}for(var p=u+1,f=a.length;f>p;p++)t=o[a[p]],n=l(t),n.firstItemIndexHint--,o[n.key]=n,this._notifyItemChanged(n.key,p,t.data,n.data,t,n)},_listReload:function(){this._initGroupKeysAndItems(),this._notifyReload()},length:{get:function(){return this._groupKeys.length}},getItem:function(e){return e=u(e),this._groupItems[this._groupKeys[e]]},getItemFromKey:function(e){return this._groupItems[e]},indexOfKey:function(e){return this._groupKeys.indexOf(e)}},{supportedForProcessing:!1})})});t.Namespace._moduleDefine(e,"WinJS.Binding",{List:t.Namespace._lazy(function(){return t.Class.derive(h.ListBaseWithMutators,function(e,t){if(this._currentKey=0,this._keys=null,this._keyMap={},t=t||m,this._proxy=t.proxy,this._binding=t.binding,this._proxy){if(Object.keys(e).length!==e.length)throw new i("WinJS.Binding.List.NotSupported",p.sparseArrayNotSupported);this._data=e,this._currentKey=e.length}else if(e){for(var n=this._keyMap,r=0,o=0,s=e.length;s>o;o++)if(o in e){var c=e[o];this._binding&&(c=a.as(c));var l=r.toString();r++,n[l]={handle:l,key:l,data:c}}r!==o&&this._initializeKeys(),this._currentKey=r}},{_currentKey:0,_keys:null,_keyMap:null,_modifyingData:0,_initializeKeys:function(){if(!this._keys){var e=[];if(this._data){for(var t=this._keyMap,n=this._data,i=0,r=n.length;r>i;i++)if(i in n){var o=i.toString();if(e[i]=o,!(o in t)){var s=n[i];this._binding&&(s=a.as(s)),t[o]={handle:o,key:o,data:s}}}}else Object.keys(this._keyMap).forEach(function(t){e[t>>>0]=t});this._keys=e}},_lazyPopulateEntry:function(e){if(this._data&&e in this._data){var t=this._data[e];this._binding&&(t=a.as(t));var n=e.toString(),i={handle:n,key:n,data:t};return this._keyMap[i.key]=i,i}},_assignKey:function(){return(++this._currentKey).toString()},length:{get:function(){return this._data?this._data.length:this._keys?this._keys.length:this._currentKey},set:function(e){if(!("number"==typeof e&&e>=0))throw new i("WinJS.Binding.List.IllegalLength",p.illegalListLength);this._initializeKeys();var t=this.length;if(t>e?this.splice(e,t-e):e=t,this._data){this._modifyingData++;try{this._data.length=e}finally{this._modifyingData--}}this._keys&&(this._keys.length=e)}},getItem:function(e){var t,n;return e=u(e),this._keys?(n=this._keys[e],t=n&&this._keyMap[n]):(n=e.toString(),t=this._keyMap[n]||this._lazyPopulateEntry(e)),t},getItemFromKey:function(e){var t;return t=this._keys||!this._data?this._keyMap[e]:this.getItem(e>>>0)},indexOfKey:function(e){var t=-1;if(this._keys)t=this._keys.indexOf(e);else{var n=e>>>0;n<this._currentKey&&(t=n)}return t},move:function(e,t){if(e=u(e),t=u(t),this._initializeKeys(),!(e===t||0>e||0>t||e>=this.length||t>=this.length)){if(this._data){this._modifyingData++;try{var n=this._data.splice(e,1)[0];this._data.splice(t,0,n)}finally{this._modifyingData--}}var i=this._keys.splice(e,1)[0];this._keys.splice(t,0,i),this._notifyItemMoved(i,e,t,this.getItemFromKey(i).data)}},notifyMutated:function(e){e=u(e);var t=this._keys?this._keys[e]:e.toString();this._notifyMutatedFromKey(t)},setAt:function(e,t){e=u(e),this._initializeKeys();var n=this.length;if(e===n)this.push(t);else if(n>e){if(this._data){this._modifyingData++;try{this._data[e]=t}finally{this._modifyingData--}}if(this._binding&&(t=a.as(t)),e in this._keys){var i=this._keys[e],r=this._keyMap[i],o=l(r);o.data=t,this._keyMap[i]=o,this._notifyItemChanged(i,e,r.data,t,r,o)}}},_setAtKey:function(e,t){this.setAt(this.indexOfKey(e),t)},reverse:function(){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.reverse()}finally{this._modifyingData--}}return this._keys.reverse(),this._notifyReload(),this},sort:function(e){if(this._initializeKeys(),this._data){this._modifyingData++;try{this._data.sort(e)}finally{this._modifyingData--}}var t=this;return this._keys.sort(function(n,i){return n=t._keyMap[n],i=t._keyMap[i],e?e(n.data,i.data):(n=(n&&n.data||"").toString(),i=(n&&i.data||"").toString(),i>n?-1:n===i?0:1)}),this._notifyReload(),this},pop:function(){if(0!==this.length){this._initializeKeys();var e=this._keys.pop(),t=this._keyMap[e],n=t&&t.data;if(this._data){this._modifyingData++;try{this._data.pop()}finally{this._modifyingData--}}return delete this._keyMap[e],this._notifyItemRemoved(e,this._keys.length,n,t),n}},push:function(){this._initializeKeys();for(var e=arguments.length,t=0;e>t;t++){var n=arguments[t];this._binding&&(n=a.as(n));var i=this._assignKey();if(this._keys.push(i),this._data){this._modifyingData++;try{this._data.push(arguments[t])}finally{this._modifyingData--}}this._keyMap[i]={handle:i,key:i,data:n},this._notifyItemInserted(i,this._keys.length-1,n)}return this.length},shift:function(){if(0!==this.length){this._initializeKeys();var e=this._keys.shift(),t=this._keyMap[e],n=t&&t.data;if(this._data){this._modifyingData++;try{this._data.shift()}finally{this._modifyingData--}}return delete this._keyMap[e],this._notifyItemRemoved(e,0,n,t),n}},unshift:function(){
this._initializeKeys();for(var e=arguments.length,t=e-1;t>=0;t--){var n=arguments[t];this._binding&&(n=a.as(n));var i=this._assignKey();if(this._keys.unshift(i),this._data){this._modifyingData++;try{this._data.unshift(arguments[t])}finally{this._modifyingData--}}this._keyMap[i]={handle:i,key:i,data:n},this._notifyItemInserted(i,0,n)}return this.length},splice:function(e,t){e=u(e),this._initializeKeys(),e=Math.max(0,this._normalizeIndex(e)),t=Math.max(0,Math.min(t||0,this.length-e));for(var n=[];t;){var i=this._keys[e],r=this._keyMap[i],o=r&&r.data;if(n.push(o),this._keys.splice(e,1),this._data){this._modifyingData++;try{this._data.splice(e,1)}finally{this._modifyingData--}}delete this._keyMap[i],this._notifyItemRemoved(i,e,o,r),--t}if(arguments.length>2)for(var s=2,c=arguments.length;c>s;s++){var l=arguments[s];this._binding&&(l=a.as(l));var d=Math.min(e+s-2,this.length),p=this._assignKey();if(this._keys.splice(d,0,p),this._data){this._modifyingData++;try{this._data.splice(d,0,arguments[s])}finally{this._modifyingData--}}this._keyMap[p]={handle:p,key:p,data:l},this._notifyItemInserted(p,d,l)}return n},_spliceFromKey:function(e){this._initializeKeys();var t=c(arguments);return t[0]=this._keys.indexOf(e),this.splice.apply(this,t)}},{supportedForProcessing:!1})})})}),define("WinJS/Res",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./Core/_ErrorFromName","./Core/_Resources","./ControlProcessor/_OptionsParser","./Promise"],function(e,t,n,i,r,o,a,s){"use strict";function c(e,n){e=e||t.document.body;var n=n||0;if(4>n){if(0===n&&e.getAttribute){var o=e.getAttribute("data-win-res");if(o){var c=a.optionsParser(o);d(e,e,c,n)}}var l="[data-win-res],[data-win-control]",u=e.querySelectorAll(l);if(0===u.length)return s.as(e);for(var f=0,h=u.length;h>f;f++){var _=u[f];if(_.winControl&&_.winControl.constructor&&_.winControl.constructor.isDeclarativeControlContainer){var g=_.winControl.constructor.isDeclarativeControlContainer;"function"==typeof g&&(g=m(g),g(_.winControl,p),f+=_.querySelectorAll(l).length)}if(_.hasAttribute("data-win-res")){var c=a.optionsParser(_.getAttribute("data-win-res"));d(_,_,c,n)}}}else if(i.validation)throw new r("WinJS.Res.NestingExceeded","NestingExceeded");return s.as(e)}function l(e,t){for(var n=Object.keys(t),r=0,a=n.length;a>r;r++){var s=n[r],c=t[s],l=o.getString(c);l&&l.empty?i.validation&&u(c):(e.setAttribute(s,l.value),void 0!==l.lang&&void 0!==e.lang&&e.lang!==l.lang&&(e.lang=l.lang))}}function u(e){throw new r("WinJS.Res.NotFound",o._formatString("NotFound: {0}",e))}function d(e,t,n,r){var a=Object.keys(n);t=m(t);for(var s=0,p=a.length;p>s;s++){var f=a[s],h=n[f];if("string"==typeof h){var _=o.getString(h);_&&_.empty?i.validation&&u(h):(t[f]=_.value,void 0!==_.lang&&void 0!==e.lang&&e.lang!==_.lang&&(e.lang=_.lang),"innerHTML"===f&&c(t,r+1))}else e===t&&"attributes"===f?l(e,h):d(e,t[f],h,r)}}function p(e){if(!f)return i.ready().then(function(){return f=!0,c(e)});try{return c(e)}catch(t){return s.wrapError(t)}}var f=!1,m=i.requireSupportedForProcessing;n.Namespace._moduleDefine(e,"WinJS.Resources",{processAll:p})}),define("WinJS/Pages/_BasePage",["exports","../Core/_Global","../Core/_Base","../Core/_BaseUtils","../Core/_WriteProfilerMark","../Promise","../Utilities/_Control","../Utilities/_Dispose","../Utilities/_ElementUtilities"],function(e,t,n,i,r,o,a,s,c){"use strict";function l(e){var n=t.document.createElement("a");return n.href=e,n.href}function u(e){return t.document.location.href.toLowerCase()===e.toLowerCase()}function d(e,s){var d=p(e);return e=l(e),d||(d=n.Class.define(function(n,a,s,l){var d=this;this._disposed=!1,this.element=n=n||t.document.createElement("div"),c.addClass(n,"win-disposable"),n.msSourceLocation=e,this.uri=e,this.selfhost=u(e),n.winControl=this,c.addClass(n,"pagecontrol");var p=" uri='"+e+"'"+i._getProfilerMarkIdentifier(this.element);r("WinJS.UI.Pages:createPage"+p+",StartTM");var f=o.wrap().then(function(){return d.load(e)}),m=f.then(function(e){return o.join({loadResult:e,initResult:d.init(n,a)})}).then(function(e){return d.render(n,a,e.loadResult)});this.elementReady=m.then(function(){return n}),this.renderComplete=m.then(function(){return d.process(n,a)}).then(function(){return d.processed(n,a)}).then(function(){return d});var h=function(){s&&s(d),r("WinJS.UI.Pages:createPage"+p+",StopTM")};this.renderComplete.then(h,h),this.readyComplete=this.renderComplete.then(function(){return l}).then(function(){return d.ready(n,a),d}).then(null,function(e){return d.error(e)})},h),d=n.Class.mix(d,a.DOMEventMixin),m[e.toLowerCase()]=d),s&&(d=n.Class.mix(d,s)),d.selfhost=u(e),d}function p(e){return e=l(e),m[e.toLowerCase()]}function f(e){e=l(e),delete m[e.toLowerCase()]}if(t.document){var m={},h={dispose:function(){this._disposed||(this._disposed=!0,s.disposeSubTree(this.element),this.element=null)},load:function(){},init:function(){},process:function(){},processed:function(){},render:function(){},ready:function(){},error:function(e){return o.wrapError(e)}};n.Namespace._moduleDefine(e,null,{abs:l,define:d,get:p,remove:f,viewMap:m})}}),define("WinJS/Pages",["exports","./Core/_Global","./Core/_Base","./Core/_BaseUtils","./ControlProcessor","./Fragments","./Pages/_BasePage","./Promise"],function(e,t,n,i,r,o,a,s){"use strict";function c(e,r){var o=a.get(e);return o||(o=a.define(e,p)),r&&(o=n.Class.mix(o,r)),o.selfhost&&i.ready(function(){d(a.abs(e),t.document.body)},!0),o}function l(e){var t=a.get(e);return t||(t=c(e)),t}function u(e){o.clearCache(a.abs(e)),a.remove(e)}function d(e,t,n,i){var r=l(e),o=new r(t,n,null,i);return o.renderComplete.then(null,function(e){return s.wrapError({error:e,page:o})})}if(t.document){var p={load:function(e){return this.selfhost?void 0:o.renderCopy(a.abs(e))},process:function(e){return r.processAll(e)},render:function(e,t,n){return this.selfhost||e.appendChild(n),e}};n.Namespace._moduleDefine(e,"WinJS.UI.Pages",{define:c,get:l,_remove:u,render:d,_viewMap:a.viewMap})}}),define("WinJS/Controls/HtmlControl",["exports","../Core/_Global","../Core/_Base","../Pages"],function(e,t,n,i){"use strict";t.document&&n.Namespace._moduleDefine(e,"WinJS.UI",{HtmlControl:n.Class.define(function(e,t,n){i.render(t.uri,e,t).then(n,function(){n()})})})}),define("base",["WinJS/Core/_WinJS","WinJS/Core","WinJS/Promise","WinJS/_Signal","WinJS/Scheduler","WinJS/Utilities","WinJS/XYFocus","WinJS/Fragments","WinJS/Application","WinJS/Navigation","WinJS/Animations","WinJS/Binding","WinJS/BindingTemplate","WinJS/BindingList","WinJS/Res","WinJS/Pages","WinJS/ControlProcessor","WinJS/Controls/HtmlControl"],function(e){"use strict";return e.Namespace.define("WinJS.Utilities",{_require:require,_define:define}),e}),require(["WinJS/Core/_WinJS","base"],function(e){globalObject.WinJS=e,"undefined"!=typeof module&&(module.exports=e)}),globalObject.WinJS})}();